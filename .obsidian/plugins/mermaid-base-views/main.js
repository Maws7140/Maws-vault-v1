/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MermaidBaseViews
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// src/views/MermaidBaseViewBase.ts
var import_obsidian = require("obsidian");
var MermaidBaseViewBase = class extends import_obsidian.BasesView {
  constructor(controller, parentEl, plugin) {
    super(controller);
    this.plugin = plugin;
    this.containerEl = parentEl.createDiv("bases-mermaid-view-container");
    plugin.registerMermaidView(this);
  }
  onDataUpdated() {
    this.containerEl.empty();
    void this.render().catch((error) => {
      console.error("Failed to render Mermaid", error);
      this.containerEl.empty();
      this.containerEl.createDiv({ text: "Error rendering Mermaid. See console for details." });
    });
  }
  async renderMermaid(mermaidCode, viewTypeMermaidConfig) {
    var _a, _b;
    const usesSettingOverride = viewTypeMermaidConfig && viewTypeMermaidConfig.length > 0;
    const configBlock = this.getConfigValue("mermaidConfigOverrideDirective", `---
${usesSettingOverride ? viewTypeMermaidConfig : this.plugin.settings.generalMermaidConfig}
---`);
    mermaidCode = mermaidCode.trim();
    if (configBlock.length > 0)
      mermaidCode = `${configBlock}
${mermaidCode}`;
    const markdown = `\`\`\`mermaid
${mermaidCode}
\`\`\``;
    const sourcePath = (_b = (_a = this.app.workspace.getActiveFile()) == null ? void 0 : _a.path) != null ? _b : "";
    await import_obsidian.MarkdownRenderer.render(
      this.app,
      markdown,
      this.containerEl,
      sourcePath,
      this
    );
    this.hookUpInternalLinks(this.containerEl, sourcePath);
  }
  hookUpInternalLinks(containerEl, sourcePath) {
    containerEl.querySelectorAll("a.internal-link").forEach((el) => {
      const getLinkText = () => el.getAttribute("data-href") || el.getAttribute("href");
      this.registerDomEvent(el, "mouseover", (evt) => {
        const linkText = getLinkText();
        if (!linkText)
          return;
        this.app.workspace.trigger("hover-link", {
          event: evt,
          source: "preview",
          hoverParent: { hoverPopover: null },
          targetEl: el,
          linktext: linkText,
          sourcePath
        });
      });
      this.registerDomEvent(el, "click", (evt) => {
        if (evt.button !== 0)
          return;
        const linkText = getLinkText();
        if (!linkText)
          return;
        evt.preventDefault();
        void this.app.workspace.openLinkText(
          linkText,
          sourcePath,
          import_obsidian.Keymap.isModEvent(evt)
        );
      });
      this.registerDomEvent(el, "auxclick", (evt) => {
        if (evt.button !== 1)
          return;
        const linkText = getLinkText();
        if (!linkText)
          return;
        evt.preventDefault();
        void this.app.workspace.openLinkText(linkText, sourcePath, "tab");
      });
      this.registerDomEvent(el, "contextmenu", (evt) => {
        const linkText = getLinkText();
        if (!linkText)
          return;
        evt.preventDefault();
        evt.stopPropagation();
        const file = this.app.metadataCache.getFirstLinkpathDest(linkText, sourcePath);
        if (!file) {
          new import_obsidian.Notice(`File not found for link: ${linkText}`);
          return;
        }
        const menu = new import_obsidian.Menu();
        menu.addItem(
          (item) => item.setTitle("Open in new tab").setIcon("file-plus").setSection("open").onClick(() => {
            void this.app.workspace.openLinkText(linkText, sourcePath, "tab");
          })
        );
        menu.addItem(
          (item) => item.setTitle("Open to the right").setIcon("separator-vertical").setSection("open").onClick(() => {
            void this.app.workspace.openLinkText(linkText, sourcePath, "split");
          })
        );
        menu.addItem(
          (item) => item.setTitle("Rename...").setIcon("pencil-line").setSection("action").onClick(() => {
            this.app.workspace.trigger("rename", file);
          })
        );
        this.app.workspace.trigger("file-menu", menu, file);
        menu.showAtMouseEvent(evt);
      });
    });
  }
  getLabelWithProperties(file, showPropertyNames, newLine, colon) {
    for (const group of this.data.groupedData) {
      for (const entry of group.entries) {
        if (entry.file != file)
          continue;
        let label = "";
        let isFirst = true;
        for (const property of this.data.properties) {
          const value = entry.getValue(property);
          if (!value)
            continue;
          if (isFirst)
            isFirst = false;
          else
            label += newLine;
          if (showPropertyNames && property != "file.name" && property != "file.basename")
            label += `${this.config.getDisplayName(property)}${colon} `;
          label += value.toString();
        }
        if (label == "")
          return file.basename;
        else
          return label;
      }
    }
    return file.basename;
  }
  getConfigValue(key, defaultValue) {
    if (defaultValue === null || defaultValue === void 0)
      defaultValue = this.getConfigDefaultValue(key);
    const rawValue = this.config.get(key);
    if (rawValue === null || rawValue === void 0)
      return defaultValue;
    if (typeof defaultValue === "string") {
      const value = rawValue;
      if (value.length > 0)
        return rawValue;
      return defaultValue;
    }
    if (typeof defaultValue === "boolean") {
      if (typeof rawValue === "boolean")
        return rawValue;
      return defaultValue;
    }
    if (Array.isArray(defaultValue)) {
      if (Array.isArray(rawValue))
        return rawValue;
      return defaultValue;
    }
    return rawValue;
  }
  getConfigDefaultValue(key) {
    const options = this.registrationData.getOptions(this.plugin).find((option) => option.key === key);
    if (!options || options.default === void 0)
      throw new Error(`No default configured for key "${key}".`);
    return options.default;
  }
};

// src/views/MermaidFlowchartBaseView.ts
var _MermaidFlowchartBaseView = class extends MermaidBaseViewBase {
  constructor() {
    super(...arguments);
    this.type = _MermaidFlowchartBaseView.RegistrationData.id;
    this.registrationData = _MermaidFlowchartBaseView.RegistrationData;
  }
  async render() {
    const title = this.getConfigValue("title");
    const direction = this.getConfigValue("direction");
    const nodeLabelContent = this.getConfigValue("nodeLabelContent");
    const showPropertyNames = this.getConfigValue("showPropertyNames");
    const ctx = {
      fileToNodeId: /* @__PURE__ */ new Map(),
      nodeIdToLabel: /* @__PURE__ */ new Map(),
      groupIndexToNodeIds: /* @__PURE__ */ new Map(),
      groupedNodeIds: /* @__PURE__ */ new Set(),
      notePropDisplayByKey: /* @__PURE__ */ new Map(),
      edges: /* @__PURE__ */ new Map(),
      nodeLabelContent,
      showPropertyNames
    };
    this.collectNodesAndEdges(ctx);
    if (ctx.fileToNodeId.size === 0) {
      this.containerEl.createDiv({ text: "No notes found for this base to build a flowchart from." });
      return;
    }
    if (ctx.fileToNodeId.size > this.plugin.settings.flowchartResultLimit) {
      this.containerEl.createDiv({ text: `Exceeded result limit (${this.plugin.settings.flowchartResultLimit}). This can be increased in the settings, but may impact performance.` });
      return;
    }
    const hasGroupingConfigured = this.data.groupedData.length !== 1;
    const mermaidCode = this.buildMermaidCode(direction, title, ctx, hasGroupingConfigured);
    await this.renderMermaid(mermaidCode, this.plugin.settings.flowchartMermaidConfig);
  }
  collectNodesAndEdges(ctx) {
    for (let groupIndex = 0; groupIndex < this.data.groupedData.length; groupIndex++) {
      const group = this.data.groupedData[groupIndex];
      let nodeSet = ctx.groupIndexToNodeIds.get(groupIndex);
      if (!nodeSet) {
        nodeSet = /* @__PURE__ */ new Set();
        ctx.groupIndexToNodeIds.set(groupIndex, nodeSet);
      }
      for (const entry of group.entries) {
        if (!entry.file)
          continue;
        const srcId = this.ensureNode(entry.file, ctx);
        if (!srcId)
          return;
        nodeSet.add(srcId);
        ctx.groupedNodeIds.add(srcId);
        this.collectOutgoingEdgesFromLinks(entry.file, srcId, ctx);
        this.collectEdgesFromFrontmatterLinks(entry.file, srcId, ctx);
      }
    }
  }
  ensureNode(file, ctx) {
    let id = ctx.fileToNodeId.get(file.path);
    if (id)
      return id;
    id = `n${ctx.fileToNodeId.size}`;
    ctx.fileToNodeId.set(file.path, id);
    let label;
    if (ctx.nodeLabelContent === "named-links")
      label = file.basename;
    else
      label = this.getLabelWithProperties(file, ctx.showPropertyNames, "<br>", ":");
    ctx.nodeIdToLabel.set(id, label);
    return id;
  }
  collectOutgoingEdgesFromLinks(file, srcId, ctx) {
    var _a;
    const fileCache = this.app.metadataCache.getFileCache(file);
    const links = (_a = fileCache == null ? void 0 : fileCache.links) != null ? _a : [];
    for (const link of links) {
      const target = this.app.metadataCache.getFirstLinkpathDest(link.link, file.path);
      if (!target)
        continue;
      const tgtId = this.ensureNode(target, ctx);
      if (!tgtId)
        return;
      this.addEdge({ from: srcId, to: tgtId }, ctx);
    }
  }
  collectEdgesFromFrontmatterLinks(file, srcId, ctx) {
    var _a, _b;
    const fileCache = this.app.metadataCache.getFileCache(file);
    const fmLinks = (_a = fileCache == null ? void 0 : fileCache.frontmatterLinks) != null ? _a : [];
    for (const fm of fmLinks) {
      const target = this.app.metadataCache.getFirstLinkpathDest(fm.link, file.path);
      if (!target)
        continue;
      const tgtId = this.ensureNode(target, ctx);
      if (!tgtId)
        return;
      const frontmatterKey = fm.key;
      const label = (_b = ctx.notePropDisplayByKey.get(frontmatterKey)) != null ? _b : frontmatterKey;
      this.addEdge({ from: srcId, to: tgtId, label }, ctx);
    }
  }
  addEdge(edge, ctx) {
    var _a;
    const key = `${edge.from}||${(_a = edge.label) != null ? _a : ""}||${edge.to}`;
    if (!ctx.edges.has(key))
      ctx.edges.set(key, edge);
  }
  buildMermaidCode(direction, title, ctx, hasGroupingConfigured) {
    var _a, _b, _c;
    const lines = [];
    lines.push(`flowchart ${direction}`);
    if ((title == null ? void 0 : title.length) > 0)
      lines.push(`    %% ${title}`);
    if (hasGroupingConfigured) {
      for (let groupIndex = 0; groupIndex < this.data.groupedData.length; groupIndex++) {
        const group = this.data.groupedData[groupIndex];
        const nodeSet = ctx.groupIndexToNodeIds.get(groupIndex);
        if (!nodeSet || nodeSet.size === 0)
          continue;
        const groupLabel = this.getGroupLabel(group, groupIndex, hasGroupingConfigured);
        const groupId = `g${groupIndex}`;
        lines.push(`    subgraph ${groupId}["${groupLabel}"]`);
        for (const nodeId of nodeSet) {
          const label = (_a = ctx.nodeIdToLabel.get(nodeId)) != null ? _a : nodeId;
          lines.push(`        ${nodeId}["${label}"]`);
        }
        lines.push("    end");
      }
      for (const [path, id] of ctx.fileToNodeId.entries()) {
        if (ctx.groupedNodeIds.has(id))
          continue;
        const label = (_b = ctx.nodeIdToLabel.get(id)) != null ? _b : path;
        lines.push(`    ${id}["${label}"]`);
      }
    } else {
      for (const [path, id] of ctx.fileToNodeId.entries()) {
        const label = (_c = ctx.nodeIdToLabel.get(id)) != null ? _c : path;
        lines.push(`    ${id}["${label}"]`);
      }
    }
    for (const edge of ctx.edges.values())
      lines.push(`    ${this.formatEdgeForMermaid(edge)}`);
    if (ctx.nodeLabelContent === "named-links") {
      const allIds = Array.from(ctx.fileToNodeId.values());
      if (allIds.length > 0)
        lines.push(`    class ${allIds.join(",")} internal-link;`);
    }
    return lines.join("\n");
  }
  formatEdgeForMermaid(edge) {
    if (edge.label && edge.label.trim().length > 0)
      return `${edge.from}-->|${edge.label}|${edge.to}`;
    return `${edge.from}-->${edge.to}`;
  }
  getGroupLabel(group, index, hasGroupingConfigured) {
    var _a, _b;
    if (group.hasKey()) {
      const groupKey = (_b = (_a = group.key) == null ? void 0 : _a.toString()) != null ? _b : "";
      if (groupKey && groupKey.trim().length > 0)
        return groupKey;
    }
    return hasGroupingConfigured ? `No value (${index + 1})` : `Group ${index + 1}`;
  }
};
var MermaidFlowchartBaseView = _MermaidFlowchartBaseView;
MermaidFlowchartBaseView.RegistrationData = {
  id: "mermaid-flowchart",
  name: "Flowchart",
  icon: "git-fork",
  //waypoints//workflow//share-2
  getOptions: (plugin) => [
    {
      type: "text",
      displayName: "Title",
      key: "title",
      default: "Title"
    },
    {
      type: "dropdown",
      displayName: "Direction",
      key: "direction",
      default: "TB",
      options: {
        "TB": "Top to bottom",
        "BT": "Bottom to top",
        "LR": "Left to right",
        "RL": "Right to left"
      }
    },
    {
      type: "dropdown",
      displayName: "Node Label Content",
      key: "nodeLabelContent",
      default: "named-links",
      options: {
        "named-links": "Note Names (Clickable Links)",
        "properties": "Selected Properties"
      }
    },
    {
      type: "toggle",
      displayName: "Show property names",
      key: "showPropertyNames",
      default: true
    },
    {
      type: "text",
      displayName: "Mermaid Config Override Directive (optional)",
      key: "mermaidConfigOverrideDirective",
      placeholder: `%%{init: { "look": "handDrawn", "theme": "neutral" }}%%`
    }
  ]
};

// src/core/utils.ts
function indent(level) {
  return "  ".repeat(level);
}

// src/views/MermaidMindmapBaseView.ts
var _MermaidMindmapBaseView = class extends MermaidBaseViewBase {
  constructor() {
    super(...arguments);
    this.type = _MermaidMindmapBaseView.RegistrationData.id;
    this.registrationData = _MermaidMindmapBaseView.RegistrationData;
  }
  async render() {
    const rootLabel = this.getConfigValue("rootLabel");
    const showPropertyNames = this.getConfigValue("showPropertyNames");
    const metadataCache = this.app.metadataCache;
    const filesByPaths = /* @__PURE__ */ new Map();
    for (const group of this.data.groupedData) {
      for (const entry of group.entries) {
        if (!filesByPaths.has(entry.file.path))
          filesByPaths.set(entry.file.path, entry.file);
      }
    }
    if (filesByPaths.size === 0) {
      this.containerEl.createDiv({ text: "No files found in this base." });
      return;
    }
    if (filesByPaths.size > this.plugin.settings.mindmapResultLimit) {
      this.containerEl.createDiv({ text: `Exceeded result limit (${this.plugin.settings.mindmapResultLimit}). This can be increased in the settings, but may impact performance.` });
      return;
    }
    const { pathToOutgoingLinks, pathIndegrees } = this.buildAdjacencyFromOutgoingLinksRestrictedToBase(filesByPaths, metadataCache);
    const allPaths = Array.from(filesByPaths.keys());
    let roots = allPaths.filter((p) => {
      var _a;
      return ((_a = pathIndegrees.get(p)) != null ? _a : 0) === 0;
    });
    if (roots.length === 0)
      roots = allPaths;
    const fileToNodeIdsToLabels = /* @__PURE__ */ new Map();
    let idx = 0;
    for (const path of allPaths) {
      const id = `n${idx++}`;
      fileToNodeIdsToLabels.set(path, id);
    }
    const mermaidCode = this.buildMermaidCode(rootLabel, filesByPaths, fileToNodeIdsToLabels, pathToOutgoingLinks, showPropertyNames, roots);
    await this.renderMermaid(mermaidCode, this.plugin.settings.mindmapMermaidConfig);
  }
  buildMermaidCode(rootLabel, filesByPaths, fileToNodeIdsToLabels, pathToOutgoingLinks, showPropertyNames, roots) {
    const lines = [];
    lines.push("mindmap");
    const rootId = "root";
    lines.push(`  ${rootId}["${rootLabel}"]`);
    const ctx = {
      visited: /* @__PURE__ */ new Set(),
      filesByPaths,
      fileToNodeIdsToLabels,
      pathToOutgoingLinks,
      showPropertyNames,
      lines
    };
    for (const rootPath of roots)
      this.renderNode(rootPath, 2, ctx);
    return lines.join("\n");
  }
  renderNode(path, level, ctx) {
    if (ctx.visited.has(path))
      return;
    ctx.visited.add(path);
    const file = ctx.filesByPaths.get(path);
    if (!file)
      return;
    const nodeId = ctx.fileToNodeIdsToLabels.get(path);
    const label = this.getLabelWithProperties(file, ctx.showPropertyNames, "\n", ":");
    ctx.lines.push(`${indent(level)}${nodeId}["${label}"]`);
    const children = ctx.pathToOutgoingLinks.get(path);
    if (!children)
      return;
    for (const childPath of children)
      this.renderNode(childPath, level + 1, ctx);
  }
  buildAdjacencyFromOutgoingLinksRestrictedToBase(filesByPaths, metadataCache) {
    var _a;
    const pathToOutgoingLinks = /* @__PURE__ */ new Map();
    const pathIndegrees = /* @__PURE__ */ new Map();
    const basePaths = /* @__PURE__ */ new Set();
    for (const path of filesByPaths.keys()) {
      basePaths.add(path);
      pathIndegrees.set(path, 0);
    }
    const resolvedLinks = metadataCache.resolvedLinks;
    for (const fromPath in resolvedLinks) {
      if (!basePaths.has(fromPath))
        continue;
      const targets = resolvedLinks[fromPath];
      let outgoing = pathToOutgoingLinks.get(fromPath);
      for (const toPath in targets) {
        if (!basePaths.has(toPath))
          continue;
        if (toPath === fromPath)
          continue;
        if (!outgoing) {
          outgoing = /* @__PURE__ */ new Set();
          pathToOutgoingLinks.set(fromPath, outgoing);
        }
        if (!outgoing.has(toPath)) {
          outgoing.add(toPath);
          pathIndegrees.set(toPath, ((_a = pathIndegrees.get(toPath)) != null ? _a : 0) + 1);
        }
      }
    }
    return { pathToOutgoingLinks, pathIndegrees };
  }
};
var MermaidMindmapBaseView = _MermaidMindmapBaseView;
MermaidMindmapBaseView.RegistrationData = {
  id: "mermaid-mindmap",
  name: "Mindmap",
  icon: "brain",
  getOptions: (plugin) => [
    {
      type: "text",
      displayName: "Central node label",
      key: "rootLabel",
      default: "Mindmap"
    },
    {
      type: "toggle",
      displayName: "Show property names",
      key: "showPropertyNames",
      default: true
    },
    {
      type: "text",
      displayName: "Mermaid Config Override Directive (optional)",
      key: "mermaidConfigOverrideDirective",
      placeholder: `%%{init: { "look": "handDrawn", "theme": "neutral" }}%%`
    }
  ]
};

// src/views/MermaidTimelineBaseView.ts
var _MermaidTimelineBaseView = class extends MermaidBaseViewBase {
  constructor() {
    super(...arguments);
    this.type = _MermaidTimelineBaseView.RegistrationData.id;
    this.registrationData = _MermaidTimelineBaseView.RegistrationData;
  }
  async render() {
    const timePropertyId = this.config.getAsPropertyId("timeProperty");
    const showPropertyNames = this.getConfigValue("showPropertyNames");
    if (!timePropertyId) {
      this.containerEl.createDiv({ text: "Configure a time property in the view settings." });
      return;
    }
    const title = this.getConfigValue("title");
    const granularity = this.getConfigValue("cutoff");
    const sortedGroups = this.generateGroups(timePropertyId, showPropertyNames, granularity);
    if (sortedGroups.length === 0) {
      this.containerEl.createDiv({ text: "No valid time values found for the selected property." });
      return;
    }
    if (sortedGroups.length > this.plugin.settings.timelineResultLimit) {
      this.containerEl.createDiv({ text: `Exceeded result limit (${this.plugin.settings.timelineResultLimit}). This can be increased in the settings, but may impact performance.` });
      return;
    }
    const mermaidCode = this.buildMermaidCode(title, sortedGroups);
    await this.renderMermaid(mermaidCode, this.plugin.settings.timelineMermaidConfig);
  }
  generateGroups(timePropertyId, showPropertyNames, granularity) {
    const groups = /* @__PURE__ */ new Map();
    for (const group of this.data.groupedData) {
      for (const entry of group.entries) {
        const timeValue = entry.getValue(timePropertyId);
        if (!timeValue)
          continue;
        const timeText = timeValue.toString().trim();
        if (!timeText)
          continue;
        const date = new Date(timeText);
        if (Number.isNaN(date.getTime()))
          continue;
        const { label, truncatedDate } = this.truncateAndFormatDate(date, granularity);
        const eventLabel = this.getLabelWithProperties(entry.file, showPropertyNames, "<br>", "\u02D0");
        let g = groups.get(label);
        if (!g) {
          g = { label, date: truncatedDate, events: [] };
          groups.set(label, g);
        }
        g.events.push(eventLabel);
      }
    }
    return Array.from(groups.values()).sort(
      (a, b) => a.date.getTime() - b.date.getTime()
    );
  }
  buildMermaidCode(title, groups) {
    const lines = [];
    lines.push("timeline");
    if (title)
      lines.push(`    title ${title}`);
    for (const g of groups) {
      if (g.events.length === 0)
        continue;
      let line = `    ${g.label} : ${g.events[0]}`;
      for (let i = 1; i < g.events.length; i++)
        line += ` : ${g.events[i]}`;
      lines.push(line);
    }
    return lines.join("\n");
  }
  truncateAndFormatDate(date, granularity) {
    const year = date.getFullYear();
    const month = date.getMonth();
    const day = date.getDate();
    const hour = date.getHours();
    const minute = date.getMinutes();
    const second = date.getSeconds();
    let truncatedDate;
    let label;
    switch (granularity) {
      case "year":
        truncatedDate = new Date(year, 0, 1, 0, 0, 0, 0);
        label = `${year}`;
        break;
      case "month":
        truncatedDate = new Date(year, month, 1, 0, 0, 0, 0);
        label = `${year}-${month + 1}`;
        break;
      case "day":
        truncatedDate = new Date(year, month, day, 0, 0, 0, 0);
        label = `${year}-${month + 1}-${day}`;
        break;
      case "hour":
        truncatedDate = new Date(year, month, day, hour, 0, 0, 0);
        label = `${year}-${month + 1}-${day} ${hour}h`;
        break;
      case "minute":
        truncatedDate = new Date(year, month, day, hour, minute, 0, 0);
        label = `${year}-${month + 1}-${day} ${hour}h${minute}`;
        break;
      case "second":
        truncatedDate = new Date(year, month, day, hour, minute, second, 0);
        label = `${year}-${month + 1}-${day} ${hour}h${minute}m${second}s`;
        break;
    }
    return { label, truncatedDate };
  }
};
var MermaidTimelineBaseView = _MermaidTimelineBaseView;
MermaidTimelineBaseView.RegistrationData = {
  id: "mermaid-timeline",
  name: "Timeline",
  icon: "chart-no-axes-gantt",
  getOptions: (plugin) => [
    {
      type: "text",
      displayName: "Title",
      key: "title",
      default: "Title"
    },
    {
      type: "property",
      displayName: "Date / Time property",
      key: "timeProperty",
      placeholder: "e.g. created or modified",
      filter: plugin.propertyTypes.createFilter("date" /* Date */)
    },
    {
      type: "dropdown",
      displayName: "Cutoff",
      key: "cutoff",
      default: "day",
      options: {
        "year": "Year",
        "month": "Month",
        "day": "Day",
        "hour": "Hour",
        "minute": "Minute",
        "second": "Second"
      }
    },
    {
      type: "toggle",
      displayName: "Show property names",
      key: "showPropertyNames",
      default: true
    },
    {
      type: "text",
      displayName: "Mermaid Config Override Directive (optional)",
      key: "mermaidConfigOverrideDirective",
      placeholder: `%%{init: { "look": "handDrawn", "theme": "neutral" }}%%`
    }
  ]
};

// src/views/MermaidSankeyBaseView.ts
var _MermaidSankeyBaseView = class extends MermaidBaseViewBase {
  constructor() {
    super(...arguments);
    this.type = _MermaidSankeyBaseView.RegistrationData.id;
    this.registrationData = _MermaidSankeyBaseView.RegistrationData;
  }
  async render() {
    var _a, _b, _c;
    const flowItems = this.getConfigValue("flows", []);
    if (flowItems.length < 3) {
      this.containerEl.createDiv({ text: "Add at least one flow triple (source name, target name, value property) in the view settings." });
      return;
    }
    const flowConfigs = [];
    for (let i = 0; i + 2 < flowItems.length; i += 3) {
      const source = ((_a = flowItems[i]) != null ? _a : "").trim();
      const target = ((_b = flowItems[i + 1]) != null ? _b : "").trim();
      const propertyName = ((_c = flowItems[i + 2]) != null ? _c : "").trim();
      if (!source || !target || !propertyName)
        continue;
      flowConfigs.push({ source, target, propertyName });
    }
    if (flowConfigs.length === 0) {
      this.containerEl.createDiv({ text: "No complete (source name, target name, value property) triples found in the flow configuration." });
      return;
    }
    const resolvedFlows = [];
    for (const flow of flowConfigs) {
      const propertyId = this.resolvePropertyIdFromUserInput(flow.propertyName);
      if (!propertyId) {
        this.containerEl.createDiv({ text: `Sankey view: Could not resolve property from "${flow.propertyName}".` });
        return;
      }
      const total = this.aggregateNumericProperty(propertyId);
      if (total === null) {
        this.containerEl.createDiv({ text: `Sankey view: Property "${propertyId}" did not produce any numeric/boolean values.` });
        return;
      }
      resolvedFlows.push({
        source: flow.source,
        target: flow.target,
        value: total
      });
    }
    if (resolvedFlows.length === 0) {
      this.containerEl.createDiv({ text: "No flows produced numeric/boolean values. Check your value properties and filters." });
      return;
    }
    const lines = [];
    lines.push("sankey-beta");
    lines.push("%% source,target,value");
    for (const resolvedFlow of resolvedFlows)
      lines.push(`${resolvedFlow.source},${resolvedFlow.target},${resolvedFlow.value}`);
    const mermaidCode = lines.join("\n");
    await this.renderMermaid(mermaidCode, this.plugin.settings.sankeyMermaidConfig);
  }
  resolvePropertyIdFromUserInput(input) {
    if (!input)
      return null;
    for (const id of this.allProperties) {
      if (id === input)
        return id;
    }
    for (const id of this.allProperties) {
      const dot = id.indexOf(".");
      const bare = dot >= 0 ? id.substring(dot + 1) : id;
      if (bare === input)
        return id;
    }
    for (const id of this.allProperties) {
      const displayName = this.config.getDisplayName(id);
      if (displayName === input)
        return id;
    }
    return null;
  }
  aggregateNumericProperty(propertyId) {
    if (!this.data)
      return null;
    let sum = 0;
    let foundAny = false;
    for (const group of this.data.groupedData) {
      for (const entry of group.entries) {
        const value = entry.getValue(propertyId);
        if (!value)
          continue;
        const text = value.toString().trim();
        let number = null;
        if (text === "true")
          number = 1;
        else if (text === "false")
          number = 0;
        else {
          const parsed = Number(text);
          if (Number.isFinite(parsed))
            number = parsed;
        }
        if (number !== null) {
          sum += number;
          foundAny = true;
        }
      }
    }
    return foundAny ? sum : null;
  }
};
var MermaidSankeyBaseView = _MermaidSankeyBaseView;
MermaidSankeyBaseView.RegistrationData = {
  id: "mermaid-sankey",
  name: "Sankey",
  icon: "shuffle",
  getOptions: (plugin) => [
    {
      type: "multitext",
      //TODO: should use property type to select formulas more easily, but currently there is no way to make a list of them?
      displayName: "Flows (source name, target name, value property)",
      key: "flows"
    },
    {
      type: "text",
      displayName: "Mermaid Config Override Directive (optional)",
      key: "mermaidConfigOverrideDirective",
      placeholder: `%%{init: { "look": "handDrawn", "theme": "neutral" }}%%`
    }
  ]
};

// src/views/MermaidPieChartBaseView.ts
var _MermaidPieChartBaseView = class extends MermaidBaseViewBase {
  constructor() {
    super(...arguments);
    this.type = _MermaidPieChartBaseView.RegistrationData.id;
    this.registrationData = _MermaidPieChartBaseView.RegistrationData;
  }
  async render() {
    var _a;
    const categoryPropertyId = this.config.getAsPropertyId("categoryProperty");
    const valuePropertyId = this.config.getAsPropertyId("valueProperty");
    const title = this.getConfigValue("title");
    const showDataLabel = this.getConfigValue("showDataLabel");
    if (!categoryPropertyId) {
      this.containerEl.createDiv({ text: "Configure a category property in the view settings." });
      return;
    }
    const categoryTotals = /* @__PURE__ */ new Map();
    for (const group of this.data.groupedData) {
      for (const entry of group.entries) {
        const categoryValue = entry.getValue(categoryPropertyId);
        if (categoryValue == null)
          continue;
        const label = categoryValue.toString();
        if (!label)
          continue;
        let amount = 1;
        if (valuePropertyId) {
          const value = entry.getValue(valuePropertyId);
          if (value != null) {
            const number = Number(value.toString());
            if (!Number.isNaN(number))
              amount = number;
          }
        }
        categoryTotals.set(label, ((_a = categoryTotals.get(label)) != null ? _a : 0) + amount);
      }
    }
    if (categoryTotals.size === 0) {
      this.containerEl.createDiv({ text: "No data to display for the current filter and configuration." });
      return;
    }
    let mermaidCode = `pie ${showDataLabel ? "showData" : ""} title ${title}
`;
    for (const [label, amount] of categoryTotals)
      mermaidCode += `    "${label}" : ${amount}
`;
    await this.renderMermaid(mermaidCode, this.plugin.settings.pieChartMermaidConfig);
  }
};
var MermaidPieChartBaseView = _MermaidPieChartBaseView;
MermaidPieChartBaseView.RegistrationData = {
  id: "mermaid-pie-chart",
  name: "Pie Chart",
  icon: "pie-chart",
  getOptions: (plugin) => [
    {
      type: "text",
      displayName: "Title",
      key: "title",
      default: "Title"
    },
    {
      type: "property",
      displayName: "Category property",
      key: "categoryProperty",
      placeholder: "e.g. tag or folder"
    },
    {
      type: "property",
      displayName: "Value property (optional)",
      key: "valueProperty",
      placeholder: "e.g. file size",
      filter: plugin.propertyTypes.createFilter("number" /* Number */)
    },
    {
      type: "toggle",
      displayName: "Show values on labels",
      key: "showDataLabel",
      default: false
    },
    {
      type: "text",
      displayName: "Mermaid Config Override Directive (optional)",
      key: "mermaidConfigOverrideDirective",
      placeholder: `%%{init: { "look": "handDrawn", "theme": "neutral" }}%%`
    }
  ]
};

// src/views/MermaidXYChartBaseView.ts
var import_obsidian2 = require("obsidian");
var _MermaidXYChartBaseView = class extends MermaidBaseViewBase {
  constructor() {
    super(...arguments);
    this.type = _MermaidXYChartBaseView.RegistrationData.id;
    this.registrationData = _MermaidXYChartBaseView.RegistrationData;
  }
  async render() {
    const yValuePropertyId = this.config.getAsPropertyId("yValueProperty");
    const showPropertyNames = this.getConfigValue("showPropertyNames");
    if (!yValuePropertyId) {
      this.containerEl.createDiv({ text: "Configure a numeric Y-axis value property in the view settings." });
      return;
    }
    const title = this.getConfigValue("title");
    const yAxisLabel = this.getConfigValue("yAxisLabel", (0, import_obsidian2.parsePropertyId)(yValuePropertyId).name);
    const chartType = this.getConfigValue("chartType");
    const xLabels = [];
    const yValues = [];
    let minValue = Number.POSITIVE_INFINITY;
    let maxValue = Number.NEGATIVE_INFINITY;
    for (const group of this.data.groupedData) {
      for (const entry of group.entries) {
        const label = this.getLabelWithProperties(entry.file, showPropertyNames, ", ", "\u02D0");
        const yValue = entry.getValue(yValuePropertyId);
        if (yValue == null)
          continue;
        const number = Number(yValue.toString());
        if (!Number.isFinite(number))
          continue;
        xLabels.push(label);
        yValues.push(number);
        if (number < minValue)
          minValue = number;
        if (number > maxValue)
          maxValue = number;
      }
    }
    if (yValues.length === 0) {
      this.containerEl.createDiv({ text: "No numeric data found for the selected Y-axis property." });
      return;
    }
    let yMin = minValue;
    let yMax = maxValue;
    const infinity = Infinity.toString();
    const yMinConfig = this.getConfigValue("yMin", infinity).trim();
    if (yMinConfig.length > 0) {
      const yMinConfigNumber = Number(yMinConfig);
      if (Number.isFinite(yMinConfigNumber))
        yMin = yMinConfigNumber;
    }
    const yMaxConfig = this.getConfigValue("yMax", infinity).trim();
    if (yMaxConfig.length > 0) {
      const yMaxConfigNumber = Number(yMaxConfig);
      if (Number.isFinite(yMaxConfigNumber))
        yMax = yMaxConfigNumber;
    }
    const xAxis = `[${xLabels.map((l) => `"${l}"`).join(", ")}]`;
    const valuesArray = `[${yValues.join(", ")}]`;
    const lines = [];
    lines.push("xychart-beta");
    if (title)
      lines.push(`    title "${title}"`);
    lines.push(`    x-axis ${xAxis}`);
    lines.push(`    y-axis "${yAxisLabel}" ${yMin} --> ${yMax}`);
    if (chartType === "line") {
      lines.push(`    line ${valuesArray}`);
    } else if (chartType === "bar-and-line") {
      lines.push(`    bar ${valuesArray}`);
      lines.push(`    line ${valuesArray}`);
    } else {
      lines.push(`    bar ${valuesArray}`);
    }
    const mermaidCode = lines.join("\n");
    await this.renderMermaid(mermaidCode, this.plugin.settings.XYChartMermaidConfig);
  }
};
var MermaidXYChartBaseView = _MermaidXYChartBaseView;
MermaidXYChartBaseView.RegistrationData = {
  id: "mermaid-xy-chart",
  name: "XY Chart",
  icon: "line-chart",
  getOptions: (plugin) => [
    {
      type: "text",
      displayName: "Title",
      key: "title",
      default: "Title"
    },
    {
      type: "property",
      displayName: "Y-axis property",
      key: "yValueProperty",
      placeholder: "e.g. file size",
      filter: plugin.propertyTypes.createFilter("number" /* Number */)
    },
    {
      type: "text",
      displayName: "Y-axis label",
      key: "yAxisLabel",
      default: ""
    },
    {
      type: "text",
      displayName: "Y-minimum (optional)",
      key: "yMin",
      placeholder: "number (defaults to automatic from data)"
    },
    {
      type: "text",
      displayName: "Y-maximum (optional)",
      key: "yMax",
      placeholder: "number (defaults to automatic from data)"
    },
    {
      type: "dropdown",
      displayName: "Chart type",
      key: "chartType",
      default: "bar",
      options: { "bar": "bar", "line": "line", "bar-and-line": "both" }
    },
    // {
    // 	type: "toggle",
    // 	displayName: "Show data labels",
    // 	key: "showDataLabel",
    // 	default: false,
    // },
    {
      type: "toggle",
      displayName: "Show property names",
      key: "showPropertyNames",
      default: true
    },
    {
      type: "text",
      displayName: "Mermaid Config Override Directive (optional)",
      key: "mermaidConfigOverrideDirective",
      placeholder: `%%{init: { "look": "handDrawn", "theme": "neutral" }}%%`
    }
  ]
};

// src/views/MermaidQuadrantChartBaseView.ts
var _MermaidQuadrantChartBaseView = class extends MermaidBaseViewBase {
  constructor() {
    super(...arguments);
    this.type = _MermaidQuadrantChartBaseView.RegistrationData.id;
    this.registrationData = _MermaidQuadrantChartBaseView.RegistrationData;
  }
  async render() {
    const xPropertyId = this.config.getAsPropertyId("xProperty");
    const yPropertyId = this.config.getAsPropertyId("yProperty");
    const showPropertyNames = this.getConfigValue("showPropertyNames");
    if (!xPropertyId || !yPropertyId) {
      this.containerEl.createDiv({ text: "Configure numeric X and Y properties in the view settings." });
      return;
    }
    const rawPalette = this.getConfigValue("groupingPalette", this.plugin.settings.defaultGroupingPalette);
    const palette = Array.isArray(rawPalette) ? rawPalette.map((v) => v == null ? void 0 : v.toString().trim()).filter((v) => v && v.length > 0) : this.plugin.settings.defaultGroupingPalette;
    if (!Array.isArray(rawPalette) || palette.length === 0)
      palette.splice(0, palette.length, ...this.plugin.settings.defaultGroupingPalette);
    const groups = this.data.groupedData;
    const groupingEnabled = groups.length > 1 || groups.length === 1 && groups[0].key !== void 0;
    const {
      points,
      minX: dataMinX,
      maxX: dataMaxX,
      minY: dataMinY,
      maxY: dataMaxY
    } = this.collectPointsFromGroups(groups, xPropertyId, yPropertyId, showPropertyNames, palette, groupingEnabled);
    if (points.length === 0) {
      this.containerEl.createDiv({ text: "No numeric data found for the selected X/Y properties." });
      return;
    }
    let { minX, maxX, minY, maxY } = this.applyAxisOverrides(dataMinX, dataMaxX, dataMinY, dataMaxY);
    if (minX === maxX) {
      minX -= 1;
      maxX += 1;
    }
    if (minY === maxY) {
      minY -= 1;
      maxY += 1;
    }
    const normalizedPoints = this.normalizePoints(points, minX, maxX, minY, maxY);
    const mermaidCode = this.buildMermaidCode(normalizedPoints);
    await this.renderMermaid(mermaidCode, this.plugin.settings.quadrantChartMermaidConfig);
  }
  collectPointsFromGroups(groups, xPropertyId, yPropertyId, showPropertyNames, palette, groupingEnabled) {
    const points = [];
    let minX = Number.POSITIVE_INFINITY;
    let maxX = Number.NEGATIVE_INFINITY;
    let minY = Number.POSITIVE_INFINITY;
    let maxY = Number.NEGATIVE_INFINITY;
    for (let gi = 0; gi < groups.length; gi++) {
      const group = groups[gi];
      const groupColor = groupingEnabled ? palette[gi % palette.length] : "";
      for (const entry of group.entries) {
        const xValue = entry.getValue(xPropertyId);
        const yValue = entry.getValue(yPropertyId);
        if (!xValue || !yValue)
          continue;
        const xNumber = Number(xValue.toString());
        const yNumber = Number(yValue.toString());
        if (!Number.isFinite(xNumber) || !Number.isFinite(yNumber))
          continue;
        const label = this.getLabelWithProperties(entry.file, showPropertyNames, ", ", "\u02D0");
        points.push({ label, x: xNumber, y: yNumber, color: groupColor });
        if (xNumber < minX)
          minX = xNumber;
        if (xNumber > maxX)
          maxX = xNumber;
        if (yNumber < minY)
          minY = yNumber;
        if (yNumber > maxY)
          maxY = yNumber;
      }
    }
    return { points, minX, maxX, minY, maxY };
  }
  applyAxisOverrides(minX, maxX, minY, maxY) {
    const infinity = Infinity.toString();
    const minXConfigOverride = this.getConfigValue("xMin", infinity).trim();
    const maxXConfigOverride = this.getConfigValue("xMax", infinity).trim();
    const minYConfigOverride = this.getConfigValue("yMin", infinity).trim();
    const maxYConfigOverride = this.getConfigValue("yMax", infinity).trim();
    if (minXConfigOverride.length > 0) {
      const value = Number(minXConfigOverride);
      if (Number.isFinite(value))
        minX = value;
    }
    if (maxXConfigOverride.length > 0) {
      const value = Number(maxXConfigOverride);
      if (Number.isFinite(value))
        maxX = value;
    }
    if (minYConfigOverride.length > 0) {
      const value = Number(minYConfigOverride);
      if (Number.isFinite(value))
        minY = value;
    }
    if (maxYConfigOverride.length > 0) {
      const value = Number(maxYConfigOverride);
      if (Number.isFinite(value))
        maxY = value;
    }
    return { minX, maxX, minY, maxY };
  }
  normalizePoints(points, minX, maxX, minY, maxY) {
    return points.map((point) => {
      const normalizedX = (point.x - minX) / (maxX - minX);
      const normalizedY = (point.y - minY) / (maxY - minY);
      const clampedX = Math.min(1, Math.max(0, normalizedX));
      const clampedY = Math.min(1, Math.max(0, normalizedY));
      return {
        label: point.label,
        x: clampedX,
        y: clampedY,
        color: point.color
      };
    });
  }
  buildMermaidCode(normalizedPoints) {
    const title = this.getConfigValue("title");
    let xAxisLabels = "";
    const xAxisLabelLeft = this.getConfigValue("xAxisLabelLeft", "");
    const xAxisLabelRight = this.getConfigValue("xAxisLabelRight", "");
    if (xAxisLabelLeft)
      xAxisLabels = xAxisLabelLeft;
    if (xAxisLabelRight && xAxisLabels)
      xAxisLabels += ` --> ${xAxisLabelRight}`;
    let yAxisLabels = "";
    const yAxisLabelBottom = this.getConfigValue("yAxisLabelBottom", "");
    const yAxisLabelTop = this.getConfigValue("yAxisLabelTop", "");
    if (yAxisLabelBottom)
      yAxisLabels = yAxisLabelBottom;
    if (yAxisLabelTop && yAxisLabels)
      yAxisLabels += ` --> ${yAxisLabelTop}`;
    const quadrantLabelTopLeft = this.getConfigValue("quadrantLabelTopLeft", "");
    const quadrantLabelTopRight = this.getConfigValue("quadrantLabelTopRight", "");
    const quadrantLabelBottomLeft = this.getConfigValue("quadrantLabelBottomLeft", "");
    const quadrantLabelBottomRight = this.getConfigValue("quadrantLabelBottomRight", "");
    const lines = [];
    lines.push("quadrantChart");
    if (title)
      lines.push(`    title ${title}`);
    if (xAxisLabels)
      lines.push(`    x-axis ${xAxisLabels}`);
    if (yAxisLabels)
      lines.push(`    y-axis ${yAxisLabels}`);
    if (quadrantLabelTopRight)
      lines.push(`    quadrant-1 "${quadrantLabelTopRight}"`);
    if (quadrantLabelTopLeft)
      lines.push(`    quadrant-2 "${quadrantLabelTopLeft}"`);
    if (quadrantLabelBottomLeft)
      lines.push(`    quadrant-3 "${quadrantLabelBottomLeft}"`);
    if (quadrantLabelBottomRight)
      lines.push(`    quadrant-4 "${quadrantLabelBottomRight}"`);
    for (const point of normalizedPoints) {
      if (point.color)
        lines.push(`    "${point.label}": [${point.x}, ${point.y}] color: ${point.color}`);
      else
        lines.push(`    "${point.label}": [${point.x}, ${point.y}]`);
    }
    return lines.join("\n");
  }
};
var MermaidQuadrantChartBaseView = _MermaidQuadrantChartBaseView;
MermaidQuadrantChartBaseView.RegistrationData = {
  id: "mermaid-quadrant-chart",
  name: "Quadrant Chart",
  icon: "scatter-chart",
  getOptions: (plugin) => [
    {
      type: "text",
      displayName: "Title",
      key: "title",
      default: "Title"
    },
    {
      type: "property",
      displayName: "X coordinate property",
      key: "xProperty",
      placeholder: "e.g. importance",
      filter: plugin.propertyTypes.createFilter("number" /* Number */)
    },
    {
      type: "property",
      displayName: "Y coordinate property",
      key: "yProperty",
      placeholder: "e.g. urgency",
      filter: plugin.propertyTypes.createFilter("number" /* Number */)
    },
    {
      type: "group",
      displayName: "Axis labels",
      items: [
        {
          type: "text",
          displayName: "X-axis left label",
          key: "xAxisLabelLeft"
        },
        {
          type: "text",
          displayName: "X-axis right label (requires left)",
          key: "xAxisLabelRight"
        },
        {
          type: "text",
          displayName: "Y-axis bottom label",
          key: "yAxisLabelBottom"
        },
        {
          type: "text",
          displayName: "Y-axis top label (requires bottom)",
          key: "yAxisLabelTop"
        }
      ]
    },
    {
      type: "group",
      displayName: "Quadrant labels",
      items: [
        {
          type: "text",
          displayName: "Top-left quadrant label",
          key: "quadrantLabelTopLeft"
        },
        {
          type: "text",
          displayName: "Top-right quadrant label",
          key: "quadrantLabelTopRight"
        },
        {
          type: "text",
          displayName: "Bottom-left quadrant label",
          key: "quadrantLabelBottomLeft"
        },
        {
          type: "text",
          displayName: "Bottom-right quadrant label",
          key: "quadrantLabelBottomRight"
        }
      ]
    },
    {
      type: "group",
      displayName: "Axis Ranges",
      items: [
        {
          type: "text",
          displayName: "X-minimum (optional)",
          key: "xMin",
          placeholder: "number (defaults to automatic from data)"
        },
        {
          type: "text",
          displayName: "X-maximum (optional)",
          key: "xMax",
          placeholder: "number (defaults to automatic from data)"
        },
        {
          type: "text",
          displayName: "Y-minimum (optional)",
          key: "yMin",
          placeholder: "number (defaults to automatic from data)"
        },
        {
          type: "text",
          displayName: "Y-maximum (optional)",
          key: "yMax",
          placeholder: "number (defaults to automatic from data)"
        }
      ]
    },
    {
      type: "toggle",
      displayName: "Show property names",
      key: "showPropertyNames",
      default: true
    },
    {
      type: "multitext",
      displayName: `Grouping palette (hex colors e.g. "#ff0000")`,
      key: "groupingPalette"
    },
    {
      type: "text",
      displayName: "Mermaid Config Override Directive (optional)",
      key: "mermaidConfigOverrideDirective",
      placeholder: `%%{init: { "look": "handDrawn", "theme": "neutral" }}%%`
    }
  ]
};

// src/core/view-registration.ts
function registerAllMermaidViews(plugin) {
  registerMermaidView(plugin, MermaidFlowchartBaseView, MermaidFlowchartBaseView.RegistrationData);
  registerMermaidView(plugin, MermaidMindmapBaseView, MermaidMindmapBaseView.RegistrationData);
  registerMermaidView(plugin, MermaidTimelineBaseView, MermaidTimelineBaseView.RegistrationData);
  registerMermaidView(plugin, MermaidSankeyBaseView, MermaidSankeyBaseView.RegistrationData);
  registerMermaidView(plugin, MermaidPieChartBaseView, MermaidPieChartBaseView.RegistrationData);
  registerMermaidView(plugin, MermaidXYChartBaseView, MermaidXYChartBaseView.RegistrationData);
  registerMermaidView(plugin, MermaidQuadrantChartBaseView, MermaidQuadrantChartBaseView.RegistrationData);
}
function registerMermaidView(plugin, View, registrationData) {
  plugin.registerBasesView(registrationData.id, {
    name: registrationData.name,
    icon: registrationData.icon,
    factory: (controller, containerEl) => new View(controller, containerEl, plugin),
    options: () => registrationData.getOptions(plugin)
  });
}

// src/propertyTypes/PropertyTypeRegistry.ts
var import_obsidian3 = require("obsidian");
var PropertyTypeRegistry = class {
  filter(propertyId, ...propertyTypes) {
    const property = (0, import_obsidian3.parsePropertyId)(propertyId);
    if (property.type === "formula")
      return true;
    for (const propertyType of propertyTypes) {
      if (propertyType == "date" /* Date */ && property.type === "file" && (property.name !== "ctime" && property.name !== "mtime"))
        return false;
      if (propertyType == "number" /* Number */ && property.type === "file" && property.name !== "size")
        return false;
    }
    return true;
  }
  createFilter(...types) {
    return (propertyId) => this.filter(propertyId, ...types);
  }
};

// src/settings/mermaidBaseViewsSettings.ts
var DEFAULT_SETTINGS = {
  generalMermaidConfig: "",
  flowchartMermaidConfig: "",
  mindmapMermaidConfig: "",
  pieChartMermaidConfig: "",
  quadrantChartMermaidConfig: "",
  radarChartMermaidConfig: "",
  sankeyMermaidConfig: "",
  timelineMermaidConfig: "",
  XYChartMermaidConfig: "",
  flowchartResultLimit: 100,
  mindmapResultLimit: 100,
  timelineResultLimit: 100,
  defaultGroupingPalette: [
    "#4c78a8",
    "#f58518",
    "#54a24b",
    "#e45756",
    "#b279a2",
    "#ff9da6",
    "#9c755f",
    "#bab0ab",
    "#59a14f",
    "#edc948"
  ]
};

// src/settings/generalSettingTab.ts
var import_obsidian4 = require("obsidian");
var GeneralSettingTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.paletteCollapsed = false;
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    this.addMermaidFrontmatterConfigSetting(
      containerEl,
      "General mermaid config",
      "The default frontmatter configuration for everything. Can be used to e.g. set a theme.",
      () => this.plugin.settings.generalMermaidConfig,
      (value) => {
        this.plugin.settings.generalMermaidConfig = value;
      },
      DEFAULT_SETTINGS.generalMermaidConfig
    );
    this.addGroupingColorSettings(containerEl);
    new import_obsidian4.Setting(containerEl).setName("Flowchart").setHeading();
    this.addMermaidFrontmatterConfigSetting(
      containerEl,
      "Mermaid config",
      "The default frontmatter configuration for every flowchart view.",
      () => this.plugin.settings.flowchartMermaidConfig,
      (value) => {
        this.plugin.settings.flowchartMermaidConfig = value;
      },
      DEFAULT_SETTINGS.flowchartMermaidConfig
    );
    this.addEntryLimitConfigSetting(
      containerEl,
      "Result limit",
      "The maximum amount of entries to display. Needed because this view type is performance heavy.",
      () => this.plugin.settings.flowchartResultLimit,
      (value) => {
        this.plugin.settings.flowchartResultLimit = value;
      },
      DEFAULT_SETTINGS.flowchartResultLimit
    );
    new import_obsidian4.Setting(containerEl).setName("Mindmap").setHeading();
    this.addMermaidFrontmatterConfigSetting(
      containerEl,
      "Mermaid config",
      "The default frontmatter configuration for every mindmap view.",
      () => this.plugin.settings.mindmapMermaidConfig,
      (value) => {
        this.plugin.settings.mindmapMermaidConfig = value;
      },
      DEFAULT_SETTINGS.mindmapMermaidConfig
    );
    this.addEntryLimitConfigSetting(
      containerEl,
      "Result limit",
      "The maximum amount of entries to display. Needed because this view type is performance heavy.",
      () => this.plugin.settings.mindmapResultLimit,
      (value) => {
        this.plugin.settings.mindmapResultLimit = value;
      },
      DEFAULT_SETTINGS.mindmapResultLimit
    );
    new import_obsidian4.Setting(containerEl).setName("Timeline").setHeading();
    this.addMermaidFrontmatterConfigSetting(
      containerEl,
      "Mermaid config",
      "The default frontmatter configuration for every timeline view.",
      () => this.plugin.settings.timelineMermaidConfig,
      (value) => {
        this.plugin.settings.timelineMermaidConfig = value;
      },
      DEFAULT_SETTINGS.timelineMermaidConfig
    );
    this.addEntryLimitConfigSetting(
      containerEl,
      "Result limit",
      "The maximum amount of entries to display. Needed because this view type is performance heavy.",
      () => this.plugin.settings.timelineResultLimit,
      (value) => {
        this.plugin.settings.timelineResultLimit = value;
      },
      DEFAULT_SETTINGS.timelineResultLimit
    );
    new import_obsidian4.Setting(containerEl).setName("Sankey").setHeading();
    this.addMermaidFrontmatterConfigSetting(
      containerEl,
      "Mermaid config",
      "The default frontmatter configuration for every sankey view.",
      () => this.plugin.settings.sankeyMermaidConfig,
      (value) => {
        this.plugin.settings.sankeyMermaidConfig = value;
      },
      DEFAULT_SETTINGS.sankeyMermaidConfig
    );
    new import_obsidian4.Setting(containerEl).setName("Pie chart").setHeading();
    this.addMermaidFrontmatterConfigSetting(
      containerEl,
      "Mermaid config",
      "The default frontmatter configuration for every pie chart view.",
      () => this.plugin.settings.pieChartMermaidConfig,
      (value) => {
        this.plugin.settings.pieChartMermaidConfig = value;
      },
      DEFAULT_SETTINGS.pieChartMermaidConfig
    );
    new import_obsidian4.Setting(containerEl).setName("XY chart").setHeading();
    this.addMermaidFrontmatterConfigSetting(
      containerEl,
      "Mermaid config",
      "The default frontmatter configuration for every XY chart view.",
      () => this.plugin.settings.XYChartMermaidConfig,
      (value) => {
        this.plugin.settings.XYChartMermaidConfig = value;
      },
      DEFAULT_SETTINGS.XYChartMermaidConfig
    );
    new import_obsidian4.Setting(containerEl).setName("Quadrant chart").setHeading();
    this.addMermaidFrontmatterConfigSetting(
      containerEl,
      "Mermaid config",
      "The default frontmatter configuration for every quadrant chart view.",
      () => this.plugin.settings.quadrantChartMermaidConfig,
      (value) => {
        this.plugin.settings.quadrantChartMermaidConfig = value;
      },
      DEFAULT_SETTINGS.quadrantChartMermaidConfig
    );
  }
  addMermaidFrontmatterConfigSetting(containerEl, name, description, getConfigValue, setConfigValue, configDefaultValue) {
    new import_obsidian4.Setting(containerEl).setName(name).setDesc(description).addTextArea(
      (text) => text.setPlaceholder(`config:
  theme: 'forest'`).setValue(getConfigValue()).onChange(async (value) => {
        await setConfigValue(value);
        await this.plugin.saveSettings();
      })
    ).addExtraButton(
      (button) => button.setIcon("reset").setTooltip("Reset to default").onClick(async () => {
        await setConfigValue(configDefaultValue);
        await this.plugin.saveSettings();
        this.display();
      })
    );
  }
  addEntryLimitConfigSetting(containerEl, name, description, getConfigValue, setConfigValue, configDefaultValue) {
    new import_obsidian4.Setting(containerEl).setName(name).setDesc(description).addSlider(
      (slider) => slider.setDynamicTooltip().setLimits(50, 1e3, 50).setValue(getConfigValue()).onChange(async (value) => {
        await setConfigValue(value);
        await this.plugin.saveSettings();
      })
    ).addExtraButton(
      (button) => button.setIcon("reset").setTooltip("Reset to default").onClick(async () => {
        await setConfigValue(configDefaultValue);
        await this.plugin.saveSettings();
        this.display();
      })
    );
  }
  addGroupingColorSettings(containerEl) {
    const section = containerEl.createDiv();
    const header = new import_obsidian4.Setting(section).setName("Grouping color palette").setDesc("The default palette for coloring files when grouped. If there are more groups than colors it will loop around to the first color.").setHeading();
    const bodyElement = section.createDiv();
    header.addExtraButton(
      (button) => button.setIcon("reset").setTooltip("Reset to default").onClick(async () => {
        this.plugin.settings.defaultGroupingPalette = [...DEFAULT_SETTINGS.defaultGroupingPalette];
        await this.plugin.saveSettings();
        this.display();
      })
    ).addExtraButton((button) => {
      const setIconForState = () => {
        button.setIcon(this.paletteCollapsed ? "chevron-right" : "chevron-down");
      };
      setIconForState();
      button.setTooltip("Show / hide section").onClick(() => {
        this.paletteCollapsed = !this.paletteCollapsed;
        setIconForState();
        this.updateGroupingColorSettingsBodyVisibility(bodyElement);
      });
    });
    this.updateGroupingColorSettingsBodyVisibility(bodyElement);
    this.renderGroupingColorSettingsList(bodyElement);
  }
  updateGroupingColorSettingsBodyVisibility(bodyEl) {
    bodyEl.style.display = this.paletteCollapsed ? "none" : "";
  }
  renderGroupingColorSettingsList(bodyElement) {
    bodyElement.empty();
    const palette = this.plugin.settings.defaultGroupingPalette;
    const listElement = bodyElement.createDiv();
    palette.forEach((colorValue, index) => {
      new import_obsidian4.Setting(listElement).setName(`Group ${index + 1}`).addColorPicker(
        (color) => color.setValue(colorValue).onChange(async (value) => {
          this.plugin.settings.defaultGroupingPalette[index] = value;
          await this.plugin.saveSettings();
        })
      ).addExtraButton(
        (button) => button.setIcon("arrow-up").setTooltip("Move up").setDisabled(index === 0).onClick(async () => {
          if (index === 0)
            return;
          const arr = this.plugin.settings.defaultGroupingPalette;
          [arr[index - 1], arr[index]] = [arr[index], arr[index - 1]];
          await this.plugin.saveSettings();
          this.renderGroupingColorSettingsList(bodyElement);
        })
      ).addExtraButton(
        (button) => button.setIcon("arrow-down").setTooltip("Move down").setDisabled(index === palette.length - 1).onClick(async () => {
          if (index === palette.length - 1)
            return;
          const arr = this.plugin.settings.defaultGroupingPalette;
          [arr[index + 1], arr[index]] = [arr[index], arr[index + 1]];
          await this.plugin.saveSettings();
          this.renderGroupingColorSettingsList(bodyElement);
        })
      ).addExtraButton(
        (button) => button.setIcon("trash").setTooltip("Remove color").onClick(async () => {
          this.plugin.settings.defaultGroupingPalette.splice(index, 1);
          await this.plugin.saveSettings();
          this.renderGroupingColorSettingsList(bodyElement);
        })
      );
    });
    new import_obsidian4.Setting(listElement).addButton(
      (button) => button.setButtonText("Add color").setTooltip("Add a new color to the palette").onClick(async () => {
        this.plugin.settings.defaultGroupingPalette.push("#ffffff");
        await this.plugin.saveSettings();
        this.renderGroupingColorSettingsList(bodyElement);
      })
    );
  }
};

// main.ts
var MermaidBaseViews = class extends import_obsidian5.Plugin {
  constructor() {
    super(...arguments);
    this.mermaidViews = /* @__PURE__ */ new Set();
  }
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new GeneralSettingTab(this.app, this));
    this.propertyTypes = new PropertyTypeRegistry(this.app);
    registerAllMermaidViews(this);
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    for (const view of this.mermaidViews)
      view.onDataUpdated();
  }
  registerMermaidView(view) {
    this.mermaidViews.add(view);
    view.register(() => {
      this.mermaidViews.delete(view);
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvdmlld3MvTWVybWFpZEJhc2VWaWV3QmFzZS50cyIsICJzcmMvdmlld3MvTWVybWFpZEZsb3djaGFydEJhc2VWaWV3LnRzIiwgInNyYy9jb3JlL3V0aWxzLnRzIiwgInNyYy92aWV3cy9NZXJtYWlkTWluZG1hcEJhc2VWaWV3LnRzIiwgInNyYy92aWV3cy9NZXJtYWlkVGltZWxpbmVCYXNlVmlldy50cyIsICJzcmMvdmlld3MvTWVybWFpZFNhbmtleUJhc2VWaWV3LnRzIiwgInNyYy92aWV3cy9NZXJtYWlkUGllQ2hhcnRCYXNlVmlldy50cyIsICJzcmMvdmlld3MvTWVybWFpZFhZQ2hhcnRCYXNlVmlldy50cyIsICJzcmMvdmlld3MvTWVybWFpZFF1YWRyYW50Q2hhcnRCYXNlVmlldy50cyIsICJzcmMvY29yZS92aWV3LXJlZ2lzdHJhdGlvbi50cyIsICJzcmMvcHJvcGVydHlUeXBlcy9Qcm9wZXJ0eVR5cGVSZWdpc3RyeS50cyIsICJzcmMvc2V0dGluZ3MvbWVybWFpZEJhc2VWaWV3c1NldHRpbmdzLnRzIiwgInNyYy9zZXR0aW5ncy9nZW5lcmFsU2V0dGluZ1RhYi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtQbHVnaW59IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQge3JlZ2lzdGVyQWxsTWVybWFpZFZpZXdzfSBmcm9tIFwic3JjL2NvcmUvdmlldy1yZWdpc3RyYXRpb25cIjtcclxuaW1wb3J0IHsgUHJvcGVydHlUeXBlUmVnaXN0cnkgfSBmcm9tIFwic3JjL3Byb3BlcnR5VHlwZXMvUHJvcGVydHlUeXBlUmVnaXN0cnlcIjtcclxuaW1wb3J0IHtNZXJtYWlkQmFzZVZpZXdzU2V0dGluZ3MsIERFRkFVTFRfU0VUVElOR1N9IGZyb20gXCJzcmMvc2V0dGluZ3MvbWVybWFpZEJhc2VWaWV3c1NldHRpbmdzXCI7XHJcbmltcG9ydCB7R2VuZXJhbFNldHRpbmdUYWJ9IGZyb20gXCIuL3NyYy9zZXR0aW5ncy9nZW5lcmFsU2V0dGluZ1RhYlwiO1xyXG5pbXBvcnQge01lcm1haWRCYXNlVmlld0Jhc2V9IGZyb20gXCIuL3NyYy92aWV3cy9NZXJtYWlkQmFzZVZpZXdCYXNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXJtYWlkQmFzZVZpZXdzIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogTWVybWFpZEJhc2VWaWV3c1NldHRpbmdzO1xyXG5cclxuXHRwcml2YXRlIG1lcm1haWRWaWV3cyA9IG5ldyBTZXQ8TWVybWFpZEJhc2VWaWV3QmFzZT4oKTtcclxuXHRwcm9wZXJ0eVR5cGVzOiBQcm9wZXJ0eVR5cGVSZWdpc3RyeTtcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgR2VuZXJhbFNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHJcblx0XHR0aGlzLnByb3BlcnR5VHlwZXMgPSBuZXcgUHJvcGVydHlUeXBlUmVnaXN0cnkodGhpcy5hcHApO1xyXG5cdFx0cmVnaXN0ZXJBbGxNZXJtYWlkVmlld3ModGhpcyk7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblxyXG5cdFx0Zm9yIChjb25zdCB2aWV3IG9mIHRoaXMubWVybWFpZFZpZXdzKVxyXG5cdFx0XHR2aWV3Lm9uRGF0YVVwZGF0ZWQoKTtcclxuXHR9XHJcblxyXG5cdHJlZ2lzdGVyTWVybWFpZFZpZXcodmlldzogTWVybWFpZEJhc2VWaWV3QmFzZSkge1xyXG5cdFx0dGhpcy5tZXJtYWlkVmlld3MuYWRkKHZpZXcpO1xyXG5cclxuXHRcdHZpZXcucmVnaXN0ZXIoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLm1lcm1haWRWaWV3cy5kZWxldGUodmlldyk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7XHJcblx0VEZpbGUsXHJcblx0QmFzZXNWaWV3LFxyXG5cdFF1ZXJ5Q29udHJvbGxlcixcclxuXHRNYXJrZG93blJlbmRlcmVyLFxyXG5cdEtleW1hcCwgTWVudSwgTm90aWNlLFxyXG59IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQge01lcm1haWRWaWV3UmVnaXN0cmF0aW9uRGF0YX0gZnJvbSBcIi4uL2NvcmUvTWVybWFpZFZpZXdSZWdpc3RyYXRpb25EYXRhXCI7XHJcbmltcG9ydCBNZXJtYWlkQmFzZVZpZXdzIGZyb20gXCIuLi8uLi9tYWluXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTWVybWFpZEJhc2VWaWV3QmFzZSBleHRlbmRzIEJhc2VzVmlldyB7XHJcblx0cHJvdGVjdGVkIHBsdWdpbjogTWVybWFpZEJhc2VWaWV3cztcclxuXHRwcm90ZWN0ZWQgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50O1xyXG5cclxuXHRhYnN0cmFjdCByZWdpc3RyYXRpb25EYXRhOiBNZXJtYWlkVmlld1JlZ2lzdHJhdGlvbkRhdGE7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGNvbnRyb2xsZXI6IFF1ZXJ5Q29udHJvbGxlciwgcGFyZW50RWw6IEhUTUxFbGVtZW50LCBwbHVnaW46IE1lcm1haWRCYXNlVmlld3MpIHtcclxuXHRcdHN1cGVyKGNvbnRyb2xsZXIpO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLmNvbnRhaW5lckVsID0gcGFyZW50RWwuY3JlYXRlRGl2KFwiYmFzZXMtbWVybWFpZC12aWV3LWNvbnRhaW5lclwiKTtcclxuXHRcdHBsdWdpbi5yZWdpc3Rlck1lcm1haWRWaWV3KHRoaXMpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIG9uRGF0YVVwZGF0ZWQoKTogdm9pZCB7XHJcblx0XHR0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblx0XHR2b2lkIHRoaXMucmVuZGVyKCkuY2F0Y2goKGVycm9yKSA9PiB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcmVuZGVyIE1lcm1haWRcIiwgZXJyb3IpO1xyXG5cdFx0XHR0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KHt0ZXh0OiBcIkVycm9yIHJlbmRlcmluZyBNZXJtYWlkLiBTZWUgY29uc29sZSBmb3IgZGV0YWlscy5cIn0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgYWJzdHJhY3QgcmVuZGVyKCk6IFByb21pc2U8dm9pZD47XHJcblxyXG5cdHByb3RlY3RlZCBhc3luYyByZW5kZXJNZXJtYWlkKG1lcm1haWRDb2RlOiBzdHJpbmcsIHZpZXdUeXBlTWVybWFpZENvbmZpZzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCB1c2VzU2V0dGluZ092ZXJyaWRlID0gdmlld1R5cGVNZXJtYWlkQ29uZmlnICYmIHZpZXdUeXBlTWVybWFpZENvbmZpZy5sZW5ndGggPiAwO1xyXG5cdFx0Y29uc3QgY29uZmlnQmxvY2sgPSB0aGlzLmdldENvbmZpZ1ZhbHVlPHN0cmluZz4oXCJtZXJtYWlkQ29uZmlnT3ZlcnJpZGVEaXJlY3RpdmVcIiwgYC0tLVxcbiR7dXNlc1NldHRpbmdPdmVycmlkZSA/IHZpZXdUeXBlTWVybWFpZENvbmZpZyA6IHRoaXMucGx1Z2luLnNldHRpbmdzLmdlbmVyYWxNZXJtYWlkQ29uZmlnfVxcbi0tLWApO1xyXG5cclxuXHRcdG1lcm1haWRDb2RlID0gbWVybWFpZENvZGUudHJpbSgpO1xyXG5cdFx0aWYgKGNvbmZpZ0Jsb2NrLmxlbmd0aCA+IDApXHJcblx0XHRcdG1lcm1haWRDb2RlID0gYCR7Y29uZmlnQmxvY2t9XFxuJHttZXJtYWlkQ29kZX1gO1xyXG5cclxuXHRcdGNvbnN0IG1hcmtkb3duOiBzdHJpbmcgPSBgXFxgXFxgXFxgbWVybWFpZFxcbiR7bWVybWFpZENvZGV9XFxuXFxgXFxgXFxgYDtcclxuXHJcblx0XHRjb25zdCBzb3VyY2VQYXRoID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKT8ucGF0aCA/PyBcIlwiO1xyXG5cclxuXHRcdGF3YWl0IE1hcmtkb3duUmVuZGVyZXIucmVuZGVyKFxyXG5cdFx0XHR0aGlzLmFwcCxcclxuXHRcdFx0bWFya2Rvd24sXHJcblx0XHRcdHRoaXMuY29udGFpbmVyRWwsXHJcblx0XHRcdHNvdXJjZVBhdGgsXHJcblx0XHRcdHRoaXNcclxuXHRcdCk7XHJcblxyXG5cdFx0dGhpcy5ob29rVXBJbnRlcm5hbExpbmtzKHRoaXMuY29udGFpbmVyRWwsIHNvdXJjZVBhdGgpO1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGhvb2tVcEludGVybmFsTGlua3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LCBzb3VyY2VQYXRoOiBzdHJpbmcpIHtcclxuXHJcblx0XHRjb250YWluZXJFbFxyXG5cdFx0XHQucXVlcnlTZWxlY3RvckFsbDxIVE1MQW5jaG9yRWxlbWVudD4oXCJhLmludGVybmFsLWxpbmtcIilcclxuXHRcdFx0LmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgZ2V0TGlua1RleHQgPSAoKSA9PiBlbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhyZWZcIikgfHwgZWwuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcclxuXHJcblx0XHRcdFx0Ly8gSG92ZXIgcHJldmlld1xyXG5cdFx0XHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChlbCwgXCJtb3VzZW92ZXJcIiwgKGV2dDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgbGlua1RleHQgPSBnZXRMaW5rVGV4dCgpO1xyXG5cdFx0XHRcdFx0aWYgKCFsaW5rVGV4dClcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS50cmlnZ2VyKFwiaG92ZXItbGlua1wiLCB7XHJcblx0XHRcdFx0XHRcdGV2ZW50OiBldnQsXHJcblx0XHRcdFx0XHRcdHNvdXJjZTogXCJwcmV2aWV3XCIsXHJcblx0XHRcdFx0XHRcdGhvdmVyUGFyZW50OiB7aG92ZXJQb3BvdmVyOiBudWxsfSxcclxuXHRcdFx0XHRcdFx0dGFyZ2V0RWw6IGVsLFxyXG5cdFx0XHRcdFx0XHRsaW5rdGV4dDogbGlua1RleHQsXHJcblx0XHRcdFx0XHRcdHNvdXJjZVBhdGgsXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8gTGVmdCBjbGlja1xyXG5cdFx0XHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChlbCwgXCJjbGlja1wiLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoZXZ0LmJ1dHRvbiAhPT0gMClcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGxpbmtUZXh0ID0gZ2V0TGlua1RleHQoKTtcclxuXHRcdFx0XHRcdGlmICghbGlua1RleHQpXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwLndvcmtzcGFjZS5vcGVuTGlua1RleHQoXHJcblx0XHRcdFx0XHRcdGxpbmtUZXh0LFxyXG5cdFx0XHRcdFx0XHRzb3VyY2VQYXRoLFxyXG5cdFx0XHRcdFx0XHRLZXltYXAuaXNNb2RFdmVudChldnQpXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyBNaWRkbGUgY2xpY2tcclxuXHRcdFx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZWwsIFwiYXV4Y2xpY2tcIiwgKGV2dDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGV2dC5idXR0b24gIT09IDEpXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBsaW5rVGV4dCA9IGdldExpbmtUZXh0KCk7XHJcblx0XHRcdFx0XHRpZiAoIWxpbmtUZXh0KVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHR2b2lkIHRoaXMuYXBwLndvcmtzcGFjZS5vcGVuTGlua1RleHQobGlua1RleHQsIHNvdXJjZVBhdGgsIFwidGFiXCIpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyBSaWdodCBjbGlja1xyXG5cdFx0XHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChlbCwgXCJjb250ZXh0bWVudVwiLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBsaW5rVGV4dCA9IGdldExpbmtUZXh0KCk7XHJcblx0XHRcdFx0XHRpZiAoIWxpbmtUZXh0KVxyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0Rmlyc3RMaW5rcGF0aERlc3QobGlua1RleHQsIHNvdXJjZVBhdGgpO1xyXG5cdFx0XHRcdFx0aWYgKCFmaWxlKSB7XHJcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEZpbGUgbm90IGZvdW5kIGZvciBsaW5rOiAke2xpbmtUZXh0fWApO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgbWVudSA9IG5ldyBNZW51KCk7XHJcblx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIGluIG5ldyB0YWJcIilcclxuXHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcImZpbGUtcGx1c1wiKVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRTZWN0aW9uKFwib3BlblwiKVxyXG5cdFx0XHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHAud29ya3NwYWNlLm9wZW5MaW5rVGV4dChsaW5rVGV4dCwgc291cmNlUGF0aCwgXCJ0YWJcIik7XHJcblx0XHRcdFx0XHRcdFx0fSksXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiT3BlbiB0byB0aGUgcmlnaHRcIilcclxuXHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcInNlcGFyYXRvci12ZXJ0aWNhbFwiKVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRTZWN0aW9uKFwib3BlblwiKVxyXG5cdFx0XHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hcHAud29ya3NwYWNlLm9wZW5MaW5rVGV4dChsaW5rVGV4dCwgc291cmNlUGF0aCwgXCJzcGxpdFwiKTtcclxuXHRcdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJSZW5hbWUuLi5cIilcclxuXHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcInBlbmNpbC1saW5lXCIpXHJcblx0XHRcdFx0XHRcdFx0LnNldFNlY3Rpb24oXCJhY3Rpb25cIilcclxuXHRcdFx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UudHJpZ2dlcihcInJlbmFtZVwiLCBmaWxlKTsvL1RPRE86IGZpeCB0aGlzIG5vdCB3b3JraW5nICh3aHkgaGF2ZSB0byByZWltcGxlbWVudCBpdCBhbnl3YXlzPylcclxuXHRcdFx0XHRcdFx0XHR9KSxcclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0Ly9UT0RPOiBhZGQgXCJDb3B5IC0gY29weVwiIHRoYXQgY29waWVzIG5vdCBuYW1lIHRvIHNlY3Rpb24gXCJjbGlwYm9hcmRcIlxyXG5cdFx0XHRcdFx0Ly9UT0RPOiByZW1vdmUgbWVyZ2UgZW50aXJlIGZpbGUgd2l0aC4uLlxyXG5cclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS50cmlnZ2VyKFwiZmlsZS1tZW51XCIsIG1lbnUsIGZpbGUpO1xyXG5cdFx0XHRcdFx0bWVudS5zaG93QXRNb3VzZUV2ZW50KGV2dCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGdldExhYmVsV2l0aFByb3BlcnRpZXMoZmlsZTogVEZpbGUsIHNob3dQcm9wZXJ0eU5hbWVzOiBib29sZWFuLCBuZXdMaW5lOiBzdHJpbmcsIGNvbG9uOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0Zm9yIChjb25zdCBncm91cCBvZiB0aGlzLmRhdGEuZ3JvdXBlZERhdGEpIHtcclxuXHRcdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBncm91cC5lbnRyaWVzKSB7XHJcblxyXG5cdFx0XHRcdGlmIChlbnRyeS5maWxlICE9IGZpbGUpXHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdFx0bGV0IGxhYmVsID0gXCJcIjtcclxuXHRcdFx0XHRsZXQgaXNGaXJzdCA9IHRydWU7XHJcblxyXG5cdFx0XHRcdGZvciAoY29uc3QgcHJvcGVydHkgb2YgdGhpcy5kYXRhLnByb3BlcnRpZXMpIHtcclxuXHRcdFx0XHRcdGNvbnN0IHZhbHVlID0gZW50cnkuZ2V0VmFsdWUocHJvcGVydHkpO1xyXG5cdFx0XHRcdFx0aWYgKCF2YWx1ZSlcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlzRmlyc3QpXHJcblx0XHRcdFx0XHRcdGlzRmlyc3QgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0bGFiZWwgKz0gbmV3TGluZTtcclxuXHJcblx0XHRcdFx0XHRpZiAoc2hvd1Byb3BlcnR5TmFtZXMgJiYgcHJvcGVydHkgIT0gXCJmaWxlLm5hbWVcIiAmJiBwcm9wZXJ0eSAhPSBcImZpbGUuYmFzZW5hbWVcIilcclxuXHRcdFx0XHRcdFx0bGFiZWwgKz0gYCR7dGhpcy5jb25maWcuZ2V0RGlzcGxheU5hbWUocHJvcGVydHkpfSR7Y29sb259IGA7XHJcblx0XHRcdFx0XHRsYWJlbCArPSB2YWx1ZS50b1N0cmluZygpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGxhYmVsID09IFwiXCIpXHJcblx0XHRcdFx0XHRyZXR1cm4gZmlsZS5iYXNlbmFtZTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRyZXR1cm4gbGFiZWw7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBmaWxlLmJhc2VuYW1lO1xyXG5cdH07XHJcblxyXG5cdHByb3RlY3RlZCBnZXRDb25maWdWYWx1ZTxUPihrZXk6IHN0cmluZywgZGVmYXVsdFZhbHVlPzogVCk6IFQge1xyXG5cdFx0aWYoZGVmYXVsdFZhbHVlID09PSBudWxsIHx8IGRlZmF1bHRWYWx1ZSA9PT0gdW5kZWZpbmVkKVxyXG5cdFx0XHRkZWZhdWx0VmFsdWUgPSB0aGlzLmdldENvbmZpZ0RlZmF1bHRWYWx1ZTxUPihrZXkpO1xyXG5cdFx0Y29uc3QgcmF3VmFsdWUgPSB0aGlzLmNvbmZpZy5nZXQoa2V5KTtcclxuXHJcblx0XHRpZiAocmF3VmFsdWUgPT09IG51bGwgfHwgcmF3VmFsdWUgPT09IHVuZGVmaW5lZClcclxuXHRcdFx0cmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuXHJcblx0XHRpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IHJhd1ZhbHVlIGFzIHN0cmluZztcclxuXHRcdFx0aWYgKHZhbHVlLmxlbmd0aCA+IDApXHJcblx0XHRcdFx0cmV0dXJuIHJhd1ZhbHVlIGFzIFQ7XHJcblx0XHRcdHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09IFwiYm9vbGVhblwiKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgcmF3VmFsdWUgPT09IFwiYm9vbGVhblwiKVxyXG5cdFx0XHRcdHJldHVybiByYXdWYWx1ZSBhcyB1bmtub3duIGFzIFQ7XHJcblx0XHRcdHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoZGVmYXVsdFZhbHVlKSkge1xyXG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheShyYXdWYWx1ZSkpXHJcblx0XHRcdFx0cmV0dXJuIHJhd1ZhbHVlIGFzIHVua25vd24gYXMgVDtcclxuXHRcdFx0cmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmF3VmFsdWUgYXMgVDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0Q29uZmlnRGVmYXVsdFZhbHVlPFQ+KGtleTogc3RyaW5nKTogVCB7XHJcblx0XHRjb25zdCBvcHRpb25zID0gdGhpcy5yZWdpc3RyYXRpb25EYXRhLmdldE9wdGlvbnModGhpcy5wbHVnaW4pXHJcblx0XHRcdC5maW5kKG9wdGlvbiA9PiAob3B0aW9uIGFzIHsga2V5OiBzdHJpbmcgfSkua2V5ID09PSBrZXkpIGFzIHsgZGVmYXVsdD86IFQgfSB8IHVuZGVmaW5lZDtcclxuXHJcblx0XHRpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5kZWZhdWx0ID09PSB1bmRlZmluZWQpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihgTm8gZGVmYXVsdCBjb25maWd1cmVkIGZvciBrZXkgXCIke2tleX1cIi5gKTtcclxuXHJcblx0XHRyZXR1cm4gb3B0aW9ucy5kZWZhdWx0O1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHtNZXJtYWlkQmFzZVZpZXdCYXNlfSBmcm9tIFwiLi9NZXJtYWlkQmFzZVZpZXdCYXNlXCI7XG5pbXBvcnQge01lcm1haWRWaWV3UmVnaXN0cmF0aW9uRGF0YX0gZnJvbSBcIi4uL2NvcmUvTWVybWFpZFZpZXdSZWdpc3RyYXRpb25EYXRhXCI7XG5pbXBvcnQge0Jhc2VzRW50cnlHcm91cCwgVEZpbGV9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IE1lcm1haWRCYXNlVmlld3MgZnJvbSBcIi4uLy4uL21haW5cIjtcblxudHlwZSBFZGdlID0ge1xuXHRmcm9tOiBzdHJpbmc7XG5cdHRvOiBzdHJpbmc7XG5cdGxhYmVsPzogc3RyaW5nO1xufTtcblxuaW50ZXJmYWNlIEZsb3djaGFydFJlbmRlckNvbnRleHQge1xuXHRmaWxlVG9Ob2RlSWQ6IE1hcDxzdHJpbmcsIHN0cmluZz47XG5cdG5vZGVJZFRvTGFiZWw6IE1hcDxzdHJpbmcsIHN0cmluZz47XG5cdGdyb3VwSW5kZXhUb05vZGVJZHM6IE1hcDxudW1iZXIsIFNldDxzdHJpbmc+Pjtcblx0Z3JvdXBlZE5vZGVJZHM6IFNldDxzdHJpbmc+O1xuXHRub3RlUHJvcERpc3BsYXlCeUtleTogTWFwPHN0cmluZywgc3RyaW5nPjtcblx0ZWRnZXM6IE1hcDxzdHJpbmcsIEVkZ2U+O1xuXHRub2RlTGFiZWxDb250ZW50OiBzdHJpbmc7XG5cdHNob3dQcm9wZXJ0eU5hbWVzOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgTWVybWFpZEZsb3djaGFydEJhc2VWaWV3IGV4dGVuZHMgTWVybWFpZEJhc2VWaWV3QmFzZSB7XG5cdHJlYWRvbmx5IHR5cGUgPSBNZXJtYWlkRmxvd2NoYXJ0QmFzZVZpZXcuUmVnaXN0cmF0aW9uRGF0YS5pZDtcblx0cmVhZG9ubHkgcmVnaXN0cmF0aW9uRGF0YSA9IE1lcm1haWRGbG93Y2hhcnRCYXNlVmlldy5SZWdpc3RyYXRpb25EYXRhO1xuXG5cdHN0YXRpYyByZWFkb25seSBSZWdpc3RyYXRpb25EYXRhOiBNZXJtYWlkVmlld1JlZ2lzdHJhdGlvbkRhdGEgPSB7XG5cdFx0aWQ6IFwibWVybWFpZC1mbG93Y2hhcnRcIixcblx0XHRuYW1lOiBcIkZsb3djaGFydFwiLFxuXHRcdGljb246IFwiZ2l0LWZvcmtcIiwvL3dheXBvaW50cy8vd29ya2Zsb3cvL3NoYXJlLTJcblx0XHRnZXRPcHRpb25zOiAocGx1Z2luOiBNZXJtYWlkQmFzZVZpZXdzKSA9PiBbXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRkaXNwbGF5TmFtZTogXCJUaXRsZVwiLFxuXHRcdFx0XHRrZXk6IFwidGl0bGVcIixcblx0XHRcdFx0ZGVmYXVsdDogXCJUaXRsZVwiLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0dHlwZTogXCJkcm9wZG93blwiLFxuXHRcdFx0XHRkaXNwbGF5TmFtZTogXCJEaXJlY3Rpb25cIixcblx0XHRcdFx0a2V5OiBcImRpcmVjdGlvblwiLFxuXHRcdFx0XHRkZWZhdWx0OiBcIlRCXCIsXG5cdFx0XHRcdG9wdGlvbnM6IHtcblx0XHRcdFx0XHRcIlRCXCI6IFwiVG9wIHRvIGJvdHRvbVwiLFxuXHRcdFx0XHRcdFwiQlRcIjogXCJCb3R0b20gdG8gdG9wXCIsXG5cdFx0XHRcdFx0XCJMUlwiOiBcIkxlZnQgdG8gcmlnaHRcIixcblx0XHRcdFx0XHRcIlJMXCI6IFwiUmlnaHQgdG8gbGVmdFwiXG5cdFx0XHRcdH0gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPixcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IFwiZHJvcGRvd25cIixcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiTm9kZSBMYWJlbCBDb250ZW50XCIsXG5cdFx0XHRcdGtleTogXCJub2RlTGFiZWxDb250ZW50XCIsXG5cdFx0XHRcdGRlZmF1bHQ6IFwibmFtZWQtbGlua3NcIixcblx0XHRcdFx0b3B0aW9uczoge1xuXHRcdFx0XHRcdFwibmFtZWQtbGlua3NcIjogXCJOb3RlIE5hbWVzIChDbGlja2FibGUgTGlua3MpXCIsXG5cdFx0XHRcdFx0XCJwcm9wZXJ0aWVzXCI6IFwiU2VsZWN0ZWQgUHJvcGVydGllc1wiXG5cdFx0XHRcdH0gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPixcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IFwidG9nZ2xlXCIsXG5cdFx0XHRcdGRpc3BsYXlOYW1lOiBcIlNob3cgcHJvcGVydHkgbmFtZXNcIixcblx0XHRcdFx0a2V5OiBcInNob3dQcm9wZXJ0eU5hbWVzXCIsXG5cdFx0XHRcdGRlZmF1bHQ6IHRydWUsXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiTWVybWFpZCBDb25maWcgT3ZlcnJpZGUgRGlyZWN0aXZlIChvcHRpb25hbClcIixcblx0XHRcdFx0a2V5OiBcIm1lcm1haWRDb25maWdPdmVycmlkZURpcmVjdGl2ZVwiLFxuXHRcdFx0XHRwbGFjZWhvbGRlcjogYCUle2luaXQ6IHsgXCJsb29rXCI6IFwiaGFuZERyYXduXCIsIFwidGhlbWVcIjogXCJuZXV0cmFsXCIgfX0lJWAsXG5cdFx0XHR9LFxuXHRcdF0sXG5cdH07XG5cblx0cHJvdGVjdGVkIGFzeW5jIHJlbmRlcigpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCB0aXRsZSA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8c3RyaW5nPihcInRpdGxlXCIpO1xuXHRcdGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8c3RyaW5nPihcImRpcmVjdGlvblwiKTtcblx0XHRjb25zdCBub2RlTGFiZWxDb250ZW50ID0gdGhpcy5nZXRDb25maWdWYWx1ZTxzdHJpbmc+KFwibm9kZUxhYmVsQ29udGVudFwiKTtcblx0XHRjb25zdCBzaG93UHJvcGVydHlOYW1lcyA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8Ym9vbGVhbj4oXCJzaG93UHJvcGVydHlOYW1lc1wiKTtcblxuXHRcdGNvbnN0IGN0eDogRmxvd2NoYXJ0UmVuZGVyQ29udGV4dCA9IHtcblx0XHRcdGZpbGVUb05vZGVJZDogbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKSxcblx0XHRcdG5vZGVJZFRvTGFiZWw6IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCksXG5cdFx0XHRncm91cEluZGV4VG9Ob2RlSWRzOiBuZXcgTWFwPG51bWJlciwgU2V0PHN0cmluZz4+KCksXG5cdFx0XHRncm91cGVkTm9kZUlkczogbmV3IFNldDxzdHJpbmc+KCksXG5cdFx0XHRub3RlUHJvcERpc3BsYXlCeUtleTogbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKSxcblx0XHRcdGVkZ2VzOiBuZXcgTWFwPHN0cmluZywgRWRnZT4oKSxcblx0XHRcdG5vZGVMYWJlbENvbnRlbnQsXG5cdFx0XHRzaG93UHJvcGVydHlOYW1lcyxcblx0XHR9O1xuXG5cdFx0dGhpcy5jb2xsZWN0Tm9kZXNBbmRFZGdlcyhjdHgpO1xuXG5cdFx0aWYgKGN0eC5maWxlVG9Ob2RlSWQuc2l6ZSA9PT0gMCkge1xuXHRcdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoe3RleHQ6IFwiTm8gbm90ZXMgZm91bmQgZm9yIHRoaXMgYmFzZSB0byBidWlsZCBhIGZsb3djaGFydCBmcm9tLlwifSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKGN0eC5maWxlVG9Ob2RlSWQuc2l6ZSA+IHRoaXMucGx1Z2luLnNldHRpbmdzLmZsb3djaGFydFJlc3VsdExpbWl0KSB7XG5cdFx0XHR0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdih7dGV4dDogYEV4Y2VlZGVkIHJlc3VsdCBsaW1pdCAoJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy5mbG93Y2hhcnRSZXN1bHRMaW1pdH0pLiBUaGlzIGNhbiBiZSBpbmNyZWFzZWQgaW4gdGhlIHNldHRpbmdzLCBidXQgbWF5IGltcGFjdCBwZXJmb3JtYW5jZS5gfSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgaGFzR3JvdXBpbmdDb25maWd1cmVkID0gdGhpcy5kYXRhLmdyb3VwZWREYXRhLmxlbmd0aCAhPT0gMTtcblx0XHRjb25zdCBtZXJtYWlkQ29kZSA9IHRoaXMuYnVpbGRNZXJtYWlkQ29kZShkaXJlY3Rpb24sIHRpdGxlLCBjdHgsIGhhc0dyb3VwaW5nQ29uZmlndXJlZCk7XG5cblx0XHRhd2FpdCB0aGlzLnJlbmRlck1lcm1haWQobWVybWFpZENvZGUsIHRoaXMucGx1Z2luLnNldHRpbmdzLmZsb3djaGFydE1lcm1haWRDb25maWcpO1xuXHR9XG5cblx0cHJpdmF0ZSBjb2xsZWN0Tm9kZXNBbmRFZGdlcyhcblx0XHRjdHg6IEZsb3djaGFydFJlbmRlckNvbnRleHQsXG5cdCk6IHZvaWQge1xuXHRcdGZvciAobGV0IGdyb3VwSW5kZXggPSAwOyBncm91cEluZGV4IDwgdGhpcy5kYXRhLmdyb3VwZWREYXRhLmxlbmd0aDsgZ3JvdXBJbmRleCsrKSB7XG5cdFx0XHRjb25zdCBncm91cCA9IHRoaXMuZGF0YS5ncm91cGVkRGF0YVtncm91cEluZGV4XTtcblxuXHRcdFx0bGV0IG5vZGVTZXQgPSBjdHguZ3JvdXBJbmRleFRvTm9kZUlkcy5nZXQoZ3JvdXBJbmRleCk7XG5cdFx0XHRpZiAoIW5vZGVTZXQpIHtcblx0XHRcdFx0bm9kZVNldCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXHRcdFx0XHRjdHguZ3JvdXBJbmRleFRvTm9kZUlkcy5zZXQoZ3JvdXBJbmRleCwgbm9kZVNldCk7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgZ3JvdXAuZW50cmllcykge1xuXHRcdFx0XHRpZiAoIWVudHJ5LmZpbGUpXG5cdFx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdFx0Y29uc3Qgc3JjSWQgPSB0aGlzLmVuc3VyZU5vZGUoZW50cnkuZmlsZSwgY3R4KTtcblx0XHRcdFx0aWYgKCFzcmNJZClcblx0XHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdFx0bm9kZVNldC5hZGQoc3JjSWQpO1xuXHRcdFx0XHRjdHguZ3JvdXBlZE5vZGVJZHMuYWRkKHNyY0lkKTtcblxuXHRcdFx0XHR0aGlzLmNvbGxlY3RPdXRnb2luZ0VkZ2VzRnJvbUxpbmtzKGVudHJ5LmZpbGUsIHNyY0lkLCBjdHgpO1xuXHRcdFx0XHR0aGlzLmNvbGxlY3RFZGdlc0Zyb21Gcm9udG1hdHRlckxpbmtzKGVudHJ5LmZpbGUsIHNyY0lkLCBjdHgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgZW5zdXJlTm9kZShmaWxlOiBURmlsZSwgY3R4OiBGbG93Y2hhcnRSZW5kZXJDb250ZXh0KTogc3RyaW5nIHtcblx0XHRsZXQgaWQgPSBjdHguZmlsZVRvTm9kZUlkLmdldChmaWxlLnBhdGgpO1xuXHRcdGlmIChpZClcblx0XHRcdHJldHVybiBpZDtcblxuXHRcdGlkID0gYG4ke2N0eC5maWxlVG9Ob2RlSWQuc2l6ZX1gO1xuXHRcdGN0eC5maWxlVG9Ob2RlSWQuc2V0KGZpbGUucGF0aCwgaWQpO1xuXG5cdFx0bGV0IGxhYmVsOiBzdHJpbmc7XG5cdFx0aWYgKGN0eC5ub2RlTGFiZWxDb250ZW50ID09PSBcIm5hbWVkLWxpbmtzXCIpXG5cdFx0XHRsYWJlbCA9IGZpbGUuYmFzZW5hbWU7XG5cdFx0ZWxzZVxuXHRcdFx0bGFiZWwgPSB0aGlzLmdldExhYmVsV2l0aFByb3BlcnRpZXMoZmlsZSwgY3R4LnNob3dQcm9wZXJ0eU5hbWVzLCBcIjxicj5cIiwgXCI6XCIpO1xuXG5cdFx0Y3R4Lm5vZGVJZFRvTGFiZWwuc2V0KGlkLCBsYWJlbCk7XG5cdFx0cmV0dXJuIGlkO1xuXHR9XG5cblx0cHJpdmF0ZSBjb2xsZWN0T3V0Z29pbmdFZGdlc0Zyb21MaW5rcyhcblx0XHRmaWxlOiBURmlsZSxcblx0XHRzcmNJZDogc3RyaW5nLFxuXHRcdGN0eDogRmxvd2NoYXJ0UmVuZGVyQ29udGV4dCxcblx0KTogdm9pZCB7XG5cdFx0Y29uc3QgZmlsZUNhY2hlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XG5cdFx0Y29uc3QgbGlua3MgPSBmaWxlQ2FjaGU/LmxpbmtzID8/IFtdO1xuXHRcdGZvciAoY29uc3QgbGluayBvZiBsaW5rcykge1xuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdChsaW5rLmxpbmssIGZpbGUucGF0aCk7XG5cdFx0XHRpZiAoIXRhcmdldClcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdGNvbnN0IHRndElkID0gdGhpcy5lbnN1cmVOb2RlKHRhcmdldCwgY3R4KTtcblx0XHRcdGlmICghdGd0SWQpXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0dGhpcy5hZGRFZGdlKHtmcm9tOiBzcmNJZCwgdG86IHRndElkfSwgY3R4KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGNvbGxlY3RFZGdlc0Zyb21Gcm9udG1hdHRlckxpbmtzKFxuXHRcdGZpbGU6IFRGaWxlLFxuXHRcdHNyY0lkOiBzdHJpbmcsXG5cdFx0Y3R4OiBGbG93Y2hhcnRSZW5kZXJDb250ZXh0LFxuXHQpOiB2b2lkIHtcblx0XHRjb25zdCBmaWxlQ2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcblx0XHRjb25zdCBmbUxpbmtzID0gZmlsZUNhY2hlPy5mcm9udG1hdHRlckxpbmtzID8/IFtdO1xuXHRcdGZvciAoY29uc3QgZm0gb2YgZm1MaW5rcykge1xuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdChmbS5saW5rLCBmaWxlLnBhdGgpO1xuXHRcdFx0aWYgKCF0YXJnZXQpXG5cdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRjb25zdCB0Z3RJZCA9IHRoaXMuZW5zdXJlTm9kZSh0YXJnZXQsIGN0eCk7XG5cdFx0XHRpZiAoIXRndElkKVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdGNvbnN0IGZyb250bWF0dGVyS2V5OiBzdHJpbmcgPSBmbS5rZXk7XG5cdFx0XHRjb25zdCBsYWJlbCA9IGN0eC5ub3RlUHJvcERpc3BsYXlCeUtleS5nZXQoZnJvbnRtYXR0ZXJLZXkpID8/IGZyb250bWF0dGVyS2V5O1xuXG5cdFx0XHR0aGlzLmFkZEVkZ2Uoe2Zyb206IHNyY0lkLCB0bzogdGd0SWQsIGxhYmVsfSwgY3R4KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFkZEVkZ2UoZWRnZTogRWRnZSwgY3R4OiBGbG93Y2hhcnRSZW5kZXJDb250ZXh0KTogdm9pZCB7XG5cdFx0Y29uc3Qga2V5ID0gYCR7ZWRnZS5mcm9tfXx8JHtlZGdlLmxhYmVsID8/IFwiXCJ9fHwke2VkZ2UudG99YDtcblx0XHRpZiAoIWN0eC5lZGdlcy5oYXMoa2V5KSlcblx0XHRcdGN0eC5lZGdlcy5zZXQoa2V5LCBlZGdlKTtcblx0fVxuXG5cdHByaXZhdGUgYnVpbGRNZXJtYWlkQ29kZShcblx0XHRkaXJlY3Rpb246IHN0cmluZyxcblx0XHR0aXRsZTogc3RyaW5nLFxuXHRcdGN0eDogRmxvd2NoYXJ0UmVuZGVyQ29udGV4dCxcblx0XHRoYXNHcm91cGluZ0NvbmZpZ3VyZWQ6IGJvb2xlYW4sXG5cdCk6IHN0cmluZyB7XG5cdFx0Y29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG5cblx0XHRsaW5lcy5wdXNoKGBmbG93Y2hhcnQgJHtkaXJlY3Rpb259YCk7XG5cdFx0aWYgKHRpdGxlPy5sZW5ndGggPiAwKVxuXHRcdFx0bGluZXMucHVzaChgICAgICUlICR7dGl0bGV9YCk7XG5cblx0XHRpZiAoaGFzR3JvdXBpbmdDb25maWd1cmVkKSB7XG5cdFx0XHRmb3IgKGxldCBncm91cEluZGV4ID0gMDsgZ3JvdXBJbmRleCA8IHRoaXMuZGF0YS5ncm91cGVkRGF0YS5sZW5ndGg7IGdyb3VwSW5kZXgrKykge1xuXHRcdFx0XHRjb25zdCBncm91cCA9IHRoaXMuZGF0YS5ncm91cGVkRGF0YVtncm91cEluZGV4XTtcblx0XHRcdFx0Y29uc3Qgbm9kZVNldCA9IGN0eC5ncm91cEluZGV4VG9Ob2RlSWRzLmdldChncm91cEluZGV4KTtcblx0XHRcdFx0aWYgKCFub2RlU2V0IHx8IG5vZGVTZXQuc2l6ZSA9PT0gMClcblx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHRjb25zdCBncm91cExhYmVsID0gdGhpcy5nZXRHcm91cExhYmVsKGdyb3VwLCBncm91cEluZGV4LCBoYXNHcm91cGluZ0NvbmZpZ3VyZWQpO1xuXHRcdFx0XHRjb25zdCBncm91cElkID0gYGcke2dyb3VwSW5kZXh9YDtcblxuXHRcdFx0XHRsaW5lcy5wdXNoKGAgICAgc3ViZ3JhcGggJHtncm91cElkfVtcIiR7Z3JvdXBMYWJlbH1cIl1gKTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IG5vZGVJZCBvZiBub2RlU2V0KSB7XG5cdFx0XHRcdFx0Y29uc3QgbGFiZWwgPSBjdHgubm9kZUlkVG9MYWJlbC5nZXQobm9kZUlkKSA/PyBub2RlSWQ7XG5cdFx0XHRcdFx0bGluZXMucHVzaChgICAgICAgICAke25vZGVJZH1bXCIke2xhYmVsfVwiXWApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGluZXMucHVzaChcIiAgICBlbmRcIik7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3QgW3BhdGgsIGlkXSBvZiBjdHguZmlsZVRvTm9kZUlkLmVudHJpZXMoKSkge1xuXHRcdFx0XHRpZiAoY3R4Lmdyb3VwZWROb2RlSWRzLmhhcyhpZCkpXG5cdFx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdFx0Y29uc3QgbGFiZWwgPSBjdHgubm9kZUlkVG9MYWJlbC5nZXQoaWQpID8/IHBhdGg7XG5cdFx0XHRcdGxpbmVzLnB1c2goYCAgICAke2lkfVtcIiR7bGFiZWx9XCJdYCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoY29uc3QgW3BhdGgsIGlkXSBvZiBjdHguZmlsZVRvTm9kZUlkLmVudHJpZXMoKSkge1xuXHRcdFx0XHRjb25zdCBsYWJlbCA9IGN0eC5ub2RlSWRUb0xhYmVsLmdldChpZCkgPz8gcGF0aDtcblx0XHRcdFx0bGluZXMucHVzaChgICAgICR7aWR9W1wiJHtsYWJlbH1cIl1gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGVkZ2Ugb2YgY3R4LmVkZ2VzLnZhbHVlcygpKVxuXHRcdFx0bGluZXMucHVzaChgICAgICR7dGhpcy5mb3JtYXRFZGdlRm9yTWVybWFpZChlZGdlKX1gKTtcblxuXHRcdGlmIChjdHgubm9kZUxhYmVsQ29udGVudCA9PT0gXCJuYW1lZC1saW5rc1wiKSB7XG5cdFx0XHRjb25zdCBhbGxJZHMgPSBBcnJheS5mcm9tKGN0eC5maWxlVG9Ob2RlSWQudmFsdWVzKCkpO1xuXHRcdFx0aWYgKGFsbElkcy5sZW5ndGggPiAwKVxuXHRcdFx0XHRsaW5lcy5wdXNoKGAgICAgY2xhc3MgJHthbGxJZHMuam9pbihcIixcIil9IGludGVybmFsLWxpbms7YCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGxpbmVzLmpvaW4oXCJcXG5cIik7XG5cdH1cblxuXHRwcml2YXRlIGZvcm1hdEVkZ2VGb3JNZXJtYWlkKGVkZ2U6IEVkZ2UpOiBzdHJpbmcge1xuXHRcdGlmIChlZGdlLmxhYmVsICYmIGVkZ2UubGFiZWwudHJpbSgpLmxlbmd0aCA+IDApXG5cdFx0XHRyZXR1cm4gYCR7ZWRnZS5mcm9tfS0tPnwke2VkZ2UubGFiZWx9fCR7ZWRnZS50b31gO1xuXHRcdHJldHVybiBgJHtlZGdlLmZyb219LS0+JHtlZGdlLnRvfWA7XG5cdH1cblxuXHRwcml2YXRlIGdldEdyb3VwTGFiZWwoZ3JvdXA6IEJhc2VzRW50cnlHcm91cCwgaW5kZXg6IG51bWJlciwgaGFzR3JvdXBpbmdDb25maWd1cmVkOiBib29sZWFuKTogc3RyaW5nIHtcblx0XHRpZiAoZ3JvdXAuaGFzS2V5KCkpIHtcblx0XHRcdGNvbnN0IGdyb3VwS2V5ID0gZ3JvdXAua2V5Py50b1N0cmluZygpID8/IFwiXCI7XG5cdFx0XHRpZiAoZ3JvdXBLZXkgJiYgZ3JvdXBLZXkudHJpbSgpLmxlbmd0aCA+IDApXG5cdFx0XHRcdHJldHVybiBncm91cEtleTtcblx0XHR9XG5cdFx0cmV0dXJuIGhhc0dyb3VwaW5nQ29uZmlndXJlZFxuXHRcdFx0PyBgTm8gdmFsdWUgKCR7aW5kZXggKyAxfSlgXG5cdFx0XHQ6IGBHcm91cCAke2luZGV4ICsgMX1gO1xuXHR9XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGluZGVudChsZXZlbDogbnVtYmVyKTogc3RyaW5ne1xyXG5cdHJldHVybiAnICAnLnJlcGVhdChsZXZlbCk7XHJcbn1cclxuIiwgImltcG9ydCB7TWVybWFpZEJhc2VWaWV3QmFzZX0gZnJvbSBcIi4vTWVybWFpZEJhc2VWaWV3QmFzZVwiO1xuaW1wb3J0IHtNZXRhZGF0YUNhY2hlLCBURmlsZX0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQge01lcm1haWRWaWV3UmVnaXN0cmF0aW9uRGF0YX0gZnJvbSBcIi4uL2NvcmUvTWVybWFpZFZpZXdSZWdpc3RyYXRpb25EYXRhXCI7XG5pbXBvcnQge2luZGVudH0gZnJvbSBcIi4uL2NvcmUvdXRpbHNcIjtcbmltcG9ydCBNZXJtYWlkQmFzZVZpZXdzIGZyb20gXCIuLi8uLi9tYWluXCI7XG5cbmludGVyZmFjZSBNaW5kbWFwUmVuZGVyQ29udGV4dCB7XG5cdHZpc2l0ZWQ6IFNldDxzdHJpbmc+O1xuXHRmaWxlc0J5UGF0aHM6IE1hcDxzdHJpbmcsIFRGaWxlPjtcblx0ZmlsZVRvTm9kZUlkc1RvTGFiZWxzOiBNYXA8c3RyaW5nLCBzdHJpbmc+O1xuXHRwYXRoVG9PdXRnb2luZ0xpbmtzOiBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj47XG5cdHNob3dQcm9wZXJ0eU5hbWVzOiBib29sZWFuO1xuXHRsaW5lczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBjbGFzcyBNZXJtYWlkTWluZG1hcEJhc2VWaWV3IGV4dGVuZHMgTWVybWFpZEJhc2VWaWV3QmFzZSB7XG5cdHJlYWRvbmx5IHR5cGUgPSBNZXJtYWlkTWluZG1hcEJhc2VWaWV3LlJlZ2lzdHJhdGlvbkRhdGEuaWQ7XG5cdHJlYWRvbmx5IHJlZ2lzdHJhdGlvbkRhdGEgPSBNZXJtYWlkTWluZG1hcEJhc2VWaWV3LlJlZ2lzdHJhdGlvbkRhdGE7XG5cblx0c3RhdGljIHJlYWRvbmx5IFJlZ2lzdHJhdGlvbkRhdGE6IE1lcm1haWRWaWV3UmVnaXN0cmF0aW9uRGF0YSA9IHtcblx0XHRpZDogXCJtZXJtYWlkLW1pbmRtYXBcIixcblx0XHRuYW1lOiBcIk1pbmRtYXBcIixcblx0XHRpY29uOiBcImJyYWluXCIsXG5cdFx0Z2V0T3B0aW9uczogKHBsdWdpbjogTWVybWFpZEJhc2VWaWV3cykgPT4gW1xuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiQ2VudHJhbCBub2RlIGxhYmVsXCIsXG5cdFx0XHRcdGtleTogXCJyb290TGFiZWxcIixcblx0XHRcdFx0ZGVmYXVsdDogXCJNaW5kbWFwXCIsXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiBcInRvZ2dsZVwiLFxuXHRcdFx0XHRkaXNwbGF5TmFtZTogXCJTaG93IHByb3BlcnR5IG5hbWVzXCIsXG5cdFx0XHRcdGtleTogXCJzaG93UHJvcGVydHlOYW1lc1wiLFxuXHRcdFx0XHRkZWZhdWx0OiB0cnVlLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdGRpc3BsYXlOYW1lOiBcIk1lcm1haWQgQ29uZmlnIE92ZXJyaWRlIERpcmVjdGl2ZSAob3B0aW9uYWwpXCIsXG5cdFx0XHRcdGtleTogXCJtZXJtYWlkQ29uZmlnT3ZlcnJpZGVEaXJlY3RpdmVcIixcblx0XHRcdFx0cGxhY2Vob2xkZXI6IGAlJXtpbml0OiB7IFwibG9va1wiOiBcImhhbmREcmF3blwiLCBcInRoZW1lXCI6IFwibmV1dHJhbFwiIH19JSVgLFxuXHRcdFx0fSxcblx0XHRdLFxuXHR9O1xuXG5cdHByb3RlY3RlZCBhc3luYyByZW5kZXIoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3Qgcm9vdExhYmVsID0gdGhpcy5nZXRDb25maWdWYWx1ZTxzdHJpbmc+KFwicm9vdExhYmVsXCIpO1xuXG5cdFx0Y29uc3Qgc2hvd1Byb3BlcnR5TmFtZXMgPSB0aGlzLmdldENvbmZpZ1ZhbHVlPGJvb2xlYW4+KFwic2hvd1Byb3BlcnR5TmFtZXNcIik7XG5cblx0XHRjb25zdCBtZXRhZGF0YUNhY2hlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZTtcblxuXHRcdGNvbnN0IGZpbGVzQnlQYXRocyA9IG5ldyBNYXA8c3RyaW5nLCBURmlsZT4oKTtcblx0XHRmb3IgKGNvbnN0IGdyb3VwIG9mIHRoaXMuZGF0YS5ncm91cGVkRGF0YSkge1xuXHRcdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBncm91cC5lbnRyaWVzKSB7XG5cdFx0XHRcdGlmICghZmlsZXNCeVBhdGhzLmhhcyhlbnRyeS5maWxlLnBhdGgpKVxuXHRcdFx0XHRcdGZpbGVzQnlQYXRocy5zZXQoZW50cnkuZmlsZS5wYXRoLCBlbnRyeS5maWxlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZmlsZXNCeVBhdGhzLnNpemUgPT09IDApIHtcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KHt0ZXh0OiBcIk5vIGZpbGVzIGZvdW5kIGluIHRoaXMgYmFzZS5cIn0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmIChmaWxlc0J5UGF0aHMuc2l6ZSA+IHRoaXMucGx1Z2luLnNldHRpbmdzLm1pbmRtYXBSZXN1bHRMaW1pdCkge1xuXHRcdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoe3RleHQ6IGBFeGNlZWRlZCByZXN1bHQgbGltaXQgKCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MubWluZG1hcFJlc3VsdExpbWl0fSkuIFRoaXMgY2FuIGJlIGluY3JlYXNlZCBpbiB0aGUgc2V0dGluZ3MsIGJ1dCBtYXkgaW1wYWN0IHBlcmZvcm1hbmNlLmB9KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCB7cGF0aFRvT3V0Z29pbmdMaW5rcywgcGF0aEluZGVncmVlc30gPSB0aGlzLmJ1aWxkQWRqYWNlbmN5RnJvbU91dGdvaW5nTGlua3NSZXN0cmljdGVkVG9CYXNlKGZpbGVzQnlQYXRocywgbWV0YWRhdGFDYWNoZSk7XG5cblx0XHRjb25zdCBhbGxQYXRocyA9IEFycmF5LmZyb20oZmlsZXNCeVBhdGhzLmtleXMoKSk7XG5cdFx0bGV0IHJvb3RzID0gYWxsUGF0aHMuZmlsdGVyKChwKSA9PiAocGF0aEluZGVncmVlcy5nZXQocCkgPz8gMCkgPT09IDApO1xuXHRcdGlmIChyb290cy5sZW5ndGggPT09IDApXG5cdFx0XHRyb290cyA9IGFsbFBhdGhzO1xuXG5cdFx0Y29uc3QgZmlsZVRvTm9kZUlkc1RvTGFiZWxzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcblxuXHRcdGxldCBpZHggPSAwO1xuXHRcdGZvciAoY29uc3QgcGF0aCBvZiBhbGxQYXRocykge1xuXHRcdFx0Y29uc3QgaWQgPSBgbiR7aWR4Kyt9YDtcblx0XHRcdGZpbGVUb05vZGVJZHNUb0xhYmVscy5zZXQocGF0aCwgaWQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IG1lcm1haWRDb2RlID0gdGhpcy5idWlsZE1lcm1haWRDb2RlKHJvb3RMYWJlbCwgZmlsZXNCeVBhdGhzLCBmaWxlVG9Ob2RlSWRzVG9MYWJlbHMsIHBhdGhUb091dGdvaW5nTGlua3MsIHNob3dQcm9wZXJ0eU5hbWVzLCByb290cyk7XG5cdFx0YXdhaXQgdGhpcy5yZW5kZXJNZXJtYWlkKG1lcm1haWRDb2RlLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5taW5kbWFwTWVybWFpZENvbmZpZyk7XG5cdH1cblxuXHRwcml2YXRlIGJ1aWxkTWVybWFpZENvZGUocm9vdExhYmVsOiBzdHJpbmcsIGZpbGVzQnlQYXRoczogTWFwPHN0cmluZywgVEZpbGU+LCBmaWxlVG9Ob2RlSWRzVG9MYWJlbHM6IE1hcDxzdHJpbmcsIHN0cmluZz4sIHBhdGhUb091dGdvaW5nTGlua3M6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+Piwgc2hvd1Byb3BlcnR5TmFtZXM6IGJvb2xlYW4sIHJvb3RzOiBzdHJpbmdbXSk6IHN0cmluZyB7XG5cdFx0Y29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG5cdFx0bGluZXMucHVzaChcIm1pbmRtYXBcIik7XG5cblx0XHRjb25zdCByb290SWQgPSBcInJvb3RcIjtcblx0XHRsaW5lcy5wdXNoKGAgICR7cm9vdElkfVtcIiR7cm9vdExhYmVsfVwiXWApO1xuXG5cdFx0Y29uc3QgY3R4OiBNaW5kbWFwUmVuZGVyQ29udGV4dCA9IHtcblx0XHRcdHZpc2l0ZWQ6IG5ldyBTZXQ8c3RyaW5nPigpLFxuXHRcdFx0ZmlsZXNCeVBhdGhzLFxuXHRcdFx0ZmlsZVRvTm9kZUlkc1RvTGFiZWxzLFxuXHRcdFx0cGF0aFRvT3V0Z29pbmdMaW5rcyxcblx0XHRcdHNob3dQcm9wZXJ0eU5hbWVzLFxuXHRcdFx0bGluZXMsXG5cdFx0fTtcblxuXHRcdGZvciAoY29uc3Qgcm9vdFBhdGggb2Ygcm9vdHMpXG5cdFx0XHR0aGlzLnJlbmRlck5vZGUocm9vdFBhdGgsIDIsIGN0eCk7XG5cblx0XHRyZXR1cm4gbGluZXMuam9pbihcIlxcblwiKTtcblx0fVxuXG5cdHByaXZhdGUgcmVuZGVyTm9kZShwYXRoOiBzdHJpbmcsIGxldmVsOiBudW1iZXIsIGN0eDogTWluZG1hcFJlbmRlckNvbnRleHQpOiB2b2lke1xuXHRcdGlmIChjdHgudmlzaXRlZC5oYXMocGF0aCkpXG5cdFx0XHRyZXR1cm47XG5cdFx0Y3R4LnZpc2l0ZWQuYWRkKHBhdGgpO1xuXG5cdFx0Y29uc3QgZmlsZSA9IGN0eC5maWxlc0J5UGF0aHMuZ2V0KHBhdGgpO1xuXHRcdGlmICghZmlsZSlcblx0XHRcdHJldHVybjtcblxuXHRcdGNvbnN0IG5vZGVJZCA9IGN0eC5maWxlVG9Ob2RlSWRzVG9MYWJlbHMuZ2V0KHBhdGgpITtcblx0XHRjb25zdCBsYWJlbCA9IHRoaXMuZ2V0TGFiZWxXaXRoUHJvcGVydGllcyhmaWxlLCBjdHguc2hvd1Byb3BlcnR5TmFtZXMsIFwiXFxuXCIsIFwiOlwiKTtcblxuXHRcdGN0eC5saW5lcy5wdXNoKGAke2luZGVudChsZXZlbCl9JHtub2RlSWR9W1wiJHtsYWJlbH1cIl1gKTtcblxuXHRcdGNvbnN0IGNoaWxkcmVuID0gY3R4LnBhdGhUb091dGdvaW5nTGlua3MuZ2V0KHBhdGgpO1xuXHRcdGlmICghY2hpbGRyZW4pXG5cdFx0XHRyZXR1cm47XG5cblx0XHRmb3IgKGNvbnN0IGNoaWxkUGF0aCBvZiBjaGlsZHJlbilcblx0XHRcdHRoaXMucmVuZGVyTm9kZShjaGlsZFBhdGgsIGxldmVsICsgMSwgY3R4KTtcblx0fVxuXG5cdHByaXZhdGUgYnVpbGRBZGphY2VuY3lGcm9tT3V0Z29pbmdMaW5rc1Jlc3RyaWN0ZWRUb0Jhc2UoZmlsZXNCeVBhdGhzOiBNYXA8c3RyaW5nLCBURmlsZT4sIG1ldGFkYXRhQ2FjaGU6IE1ldGFkYXRhQ2FjaGUpOlxuXHRcdHsgcGF0aFRvT3V0Z29pbmdMaW5rczogTWFwPHN0cmluZywgU2V0PHN0cmluZz4+OyBwYXRoSW5kZWdyZWVzOiBNYXA8c3RyaW5nLCBudW1iZXI+OyB9IHtcblx0XHRjb25zdCBwYXRoVG9PdXRnb2luZ0xpbmtzID0gbmV3IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PigpO1xuXHRcdGNvbnN0IHBhdGhJbmRlZ3JlZXMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuXG5cdFx0Y29uc3QgYmFzZVBhdGhzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cdFx0Zm9yIChjb25zdCBwYXRoIG9mIGZpbGVzQnlQYXRocy5rZXlzKCkpIHtcblx0XHRcdGJhc2VQYXRocy5hZGQocGF0aCk7XG5cdFx0XHRwYXRoSW5kZWdyZWVzLnNldChwYXRoLCAwKTtcblx0XHR9XG5cblx0XHRjb25zdCByZXNvbHZlZExpbmtzID0gbWV0YWRhdGFDYWNoZS5yZXNvbHZlZExpbmtzO1xuXG5cdFx0Zm9yIChjb25zdCBmcm9tUGF0aCBpbiByZXNvbHZlZExpbmtzKSB7XG5cdFx0XHRpZiAoIWJhc2VQYXRocy5oYXMoZnJvbVBhdGgpKVxuXHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0Y29uc3QgdGFyZ2V0cyA9IHJlc29sdmVkTGlua3NbZnJvbVBhdGhdO1xuXHRcdFx0bGV0IG91dGdvaW5nID0gcGF0aFRvT3V0Z29pbmdMaW5rcy5nZXQoZnJvbVBhdGgpO1xuXHRcdFx0Zm9yIChjb25zdCB0b1BhdGggaW4gdGFyZ2V0cykge1xuXHRcdFx0XHRpZiAoIWJhc2VQYXRocy5oYXModG9QYXRoKSlcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0aWYgKHRvUGF0aCA9PT0gZnJvbVBhdGgpXG5cdFx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdFx0aWYgKCFvdXRnb2luZykge1xuXHRcdFx0XHRcdG91dGdvaW5nID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cdFx0XHRcdFx0cGF0aFRvT3V0Z29pbmdMaW5rcy5zZXQoZnJvbVBhdGgsIG91dGdvaW5nKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghb3V0Z29pbmcuaGFzKHRvUGF0aCkpIHtcblx0XHRcdFx0XHRvdXRnb2luZy5hZGQodG9QYXRoKTtcblx0XHRcdFx0XHRwYXRoSW5kZWdyZWVzLnNldCh0b1BhdGgsIChwYXRoSW5kZWdyZWVzLmdldCh0b1BhdGgpID8/IDApICsgMSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4geyBwYXRoVG9PdXRnb2luZ0xpbmtzLCBwYXRoSW5kZWdyZWVzIH07XG5cdH1cbn1cbiIsICJpbXBvcnQge01lcm1haWRCYXNlVmlld0Jhc2V9IGZyb20gXCIuL01lcm1haWRCYXNlVmlld0Jhc2VcIjtcclxuaW1wb3J0IHtNZXJtYWlkVmlld1JlZ2lzdHJhdGlvbkRhdGF9IGZyb20gXCIuLi9jb3JlL01lcm1haWRWaWV3UmVnaXN0cmF0aW9uRGF0YVwiO1xyXG5pbXBvcnQge0Jhc2VzUHJvcGVydHlJZH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCBNZXJtYWlkQmFzZVZpZXdzIGZyb20gXCIuLi8uLi9tYWluXCI7XHJcbmltcG9ydCB7SW5mZXJyZWRQcm9wZXJ0eVR5cGV9IGZyb20gXCIuLi9wcm9wZXJ0eVR5cGVzL0luZmVycmVkUHJvcGVydHlUeXBlXCI7XHJcblxyXG50eXBlIFRpbWVHcmFudWxhcml0eSA9IFwieWVhclwiIHwgXCJtb250aFwiIHwgXCJkYXlcIiB8IFwiaG91clwiIHwgXCJtaW51dGVcIiB8IFwic2Vjb25kXCI7XHJcblxyXG50eXBlIEdyb3VwID0ge1xyXG5cdGxhYmVsOiBzdHJpbmc7XHJcblx0ZGF0ZTogRGF0ZTtcclxuXHRldmVudHM6IHN0cmluZ1tdO1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lcm1haWRUaW1lbGluZUJhc2VWaWV3IGV4dGVuZHMgTWVybWFpZEJhc2VWaWV3QmFzZSB7XHJcblx0cmVhZG9ubHkgdHlwZSA9IE1lcm1haWRUaW1lbGluZUJhc2VWaWV3LlJlZ2lzdHJhdGlvbkRhdGEuaWQ7XHJcblx0cmVhZG9ubHkgcmVnaXN0cmF0aW9uRGF0YSA9IE1lcm1haWRUaW1lbGluZUJhc2VWaWV3LlJlZ2lzdHJhdGlvbkRhdGE7XHJcblxyXG5cdHN0YXRpYyByZWFkb25seSBSZWdpc3RyYXRpb25EYXRhOiBNZXJtYWlkVmlld1JlZ2lzdHJhdGlvbkRhdGEgPSB7XHJcblx0XHRpZDogXCJtZXJtYWlkLXRpbWVsaW5lXCIsXHJcblx0XHRuYW1lOiBcIlRpbWVsaW5lXCIsXHJcblx0XHRpY29uOiBcImNoYXJ0LW5vLWF4ZXMtZ2FudHRcIixcclxuXHRcdGdldE9wdGlvbnM6IChwbHVnaW46IE1lcm1haWRCYXNlVmlld3MpID0+IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxyXG5cdFx0XHRcdGRpc3BsYXlOYW1lOiBcIlRpdGxlXCIsXHJcblx0XHRcdFx0a2V5OiBcInRpdGxlXCIsXHJcblx0XHRcdFx0ZGVmYXVsdDogXCJUaXRsZVwiLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dHlwZTogXCJwcm9wZXJ0eVwiLFxyXG5cdFx0XHRcdGRpc3BsYXlOYW1lOiBcIkRhdGUgLyBUaW1lIHByb3BlcnR5XCIsXHJcblx0XHRcdFx0a2V5OiBcInRpbWVQcm9wZXJ0eVwiLFxyXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiBcImUuZy4gY3JlYXRlZCBvciBtb2RpZmllZFwiLFxyXG5cdFx0XHRcdGZpbHRlcjogcGx1Z2luLnByb3BlcnR5VHlwZXMuY3JlYXRlRmlsdGVyKEluZmVycmVkUHJvcGVydHlUeXBlLkRhdGUpLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dHlwZTogXCJkcm9wZG93blwiLFxyXG5cdFx0XHRcdGRpc3BsYXlOYW1lOiBcIkN1dG9mZlwiLFxyXG5cdFx0XHRcdGtleTogXCJjdXRvZmZcIixcclxuXHRcdFx0XHRkZWZhdWx0OiBcImRheVwiLFxyXG5cdFx0XHRcdG9wdGlvbnM6IHtcclxuXHRcdFx0XHRcdFwieWVhclwiOiBcIlllYXJcIixcclxuXHRcdFx0XHRcdFwibW9udGhcIjogXCJNb250aFwiLFxyXG5cdFx0XHRcdFx0XCJkYXlcIjogXCJEYXlcIixcclxuXHRcdFx0XHRcdFwiaG91clwiOiBcIkhvdXJcIixcclxuXHRcdFx0XHRcdFwibWludXRlXCI6IFwiTWludXRlXCIsXHJcblx0XHRcdFx0XHRcInNlY29uZFwiOiBcIlNlY29uZFwiXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHR5cGU6IFwidG9nZ2xlXCIsXHJcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiU2hvdyBwcm9wZXJ0eSBuYW1lc1wiLFxyXG5cdFx0XHRcdGtleTogXCJzaG93UHJvcGVydHlOYW1lc1wiLFxyXG5cdFx0XHRcdGRlZmF1bHQ6IHRydWUsXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0eXBlOiBcInRleHRcIixcclxuXHRcdFx0XHRkaXNwbGF5TmFtZTogXCJNZXJtYWlkIENvbmZpZyBPdmVycmlkZSBEaXJlY3RpdmUgKG9wdGlvbmFsKVwiLFxyXG5cdFx0XHRcdGtleTogXCJtZXJtYWlkQ29uZmlnT3ZlcnJpZGVEaXJlY3RpdmVcIixcclxuXHRcdFx0XHRwbGFjZWhvbGRlcjogYCUle2luaXQ6IHsgXCJsb29rXCI6IFwiaGFuZERyYXduXCIsIFwidGhlbWVcIjogXCJuZXV0cmFsXCIgfX0lJWAsXHJcblx0XHRcdH0sXHJcblx0XHRdLFxyXG5cdH07XHJcblxyXG5cdHByb3RlY3RlZCBhc3luYyByZW5kZXIoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCB0aW1lUHJvcGVydHlJZCA9IHRoaXMuY29uZmlnLmdldEFzUHJvcGVydHlJZChcInRpbWVQcm9wZXJ0eVwiKTtcclxuXHJcblx0XHRjb25zdCBzaG93UHJvcGVydHlOYW1lcyA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8Ym9vbGVhbj4oXCJzaG93UHJvcGVydHlOYW1lc1wiKTtcclxuXHJcblx0XHRpZiAoIXRpbWVQcm9wZXJ0eUlkKSB7XHJcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KHt0ZXh0OiBcIkNvbmZpZ3VyZSBhIHRpbWUgcHJvcGVydHkgaW4gdGhlIHZpZXcgc2V0dGluZ3MuXCJ9KTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHRpdGxlID0gdGhpcy5nZXRDb25maWdWYWx1ZTxzdHJpbmc+KFwidGl0bGVcIik7XHJcblxyXG5cdFx0Y29uc3QgZ3JhbnVsYXJpdHkgPSB0aGlzLmdldENvbmZpZ1ZhbHVlPFRpbWVHcmFudWxhcml0eT4oXCJjdXRvZmZcIik7XHJcblxyXG5cdFx0Y29uc3Qgc29ydGVkR3JvdXBzID0gdGhpcy5nZW5lcmF0ZUdyb3Vwcyh0aW1lUHJvcGVydHlJZCwgc2hvd1Byb3BlcnR5TmFtZXMsIGdyYW51bGFyaXR5KTtcclxuXHJcblx0XHRpZiAoc29ydGVkR3JvdXBzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHR0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdih7dGV4dDogXCJObyB2YWxpZCB0aW1lIHZhbHVlcyBmb3VuZCBmb3IgdGhlIHNlbGVjdGVkIHByb3BlcnR5LlwifSk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc29ydGVkR3JvdXBzLmxlbmd0aCA+IHRoaXMucGx1Z2luLnNldHRpbmdzLnRpbWVsaW5lUmVzdWx0TGltaXQpIHtcclxuXHRcdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoe3RleHQ6IGBFeGNlZWRlZCByZXN1bHQgbGltaXQgKCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MudGltZWxpbmVSZXN1bHRMaW1pdH0pLiBUaGlzIGNhbiBiZSBpbmNyZWFzZWQgaW4gdGhlIHNldHRpbmdzLCBidXQgbWF5IGltcGFjdCBwZXJmb3JtYW5jZS5gfSk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBtZXJtYWlkQ29kZSA9IHRoaXMuYnVpbGRNZXJtYWlkQ29kZSh0aXRsZSwgc29ydGVkR3JvdXBzKTtcclxuXHRcdGF3YWl0IHRoaXMucmVuZGVyTWVybWFpZChtZXJtYWlkQ29kZSwgdGhpcy5wbHVnaW4uc2V0dGluZ3MudGltZWxpbmVNZXJtYWlkQ29uZmlnKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2VuZXJhdGVHcm91cHMoXHJcblx0XHR0aW1lUHJvcGVydHlJZDogQmFzZXNQcm9wZXJ0eUlkLFxyXG5cdFx0c2hvd1Byb3BlcnR5TmFtZXM6IGJvb2xlYW4sXHJcblx0XHRncmFudWxhcml0eTogVGltZUdyYW51bGFyaXR5LFxyXG5cdCk6IEdyb3VwW10ge1xyXG5cdFx0Y29uc3QgZ3JvdXBzID0gbmV3IE1hcDxzdHJpbmcsIEdyb3VwPigpO1xyXG5cclxuXHRcdGZvciAoY29uc3QgZ3JvdXAgb2YgdGhpcy5kYXRhLmdyb3VwZWREYXRhKSB7XHJcblx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgZ3JvdXAuZW50cmllcykge1xyXG5cdFx0XHRcdGNvbnN0IHRpbWVWYWx1ZSA9IGVudHJ5LmdldFZhbHVlKHRpbWVQcm9wZXJ0eUlkKTtcclxuXHRcdFx0XHRpZiAoIXRpbWVWYWx1ZSlcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0XHRjb25zdCB0aW1lVGV4dCA9IHRpbWVWYWx1ZS50b1N0cmluZygpLnRyaW0oKTtcclxuXHRcdFx0XHRpZiAoIXRpbWVUZXh0KVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lVGV4dCk7XHJcblx0XHRcdFx0aWYgKE51bWJlci5pc05hTihkYXRlLmdldFRpbWUoKSkpXHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdFx0Y29uc3Qge2xhYmVsLCB0cnVuY2F0ZWREYXRlfSA9IHRoaXMudHJ1bmNhdGVBbmRGb3JtYXREYXRlKGRhdGUsIGdyYW51bGFyaXR5KTtcclxuXHJcblx0XHRcdFx0Y29uc3QgZXZlbnRMYWJlbCA9IHRoaXMuZ2V0TGFiZWxXaXRoUHJvcGVydGllcyhlbnRyeS5maWxlLCBzaG93UHJvcGVydHlOYW1lcywgXCI8YnI+XCIsIFwiXHUwMkQwXCIpO1xyXG5cclxuXHRcdFx0XHRsZXQgZyA9IGdyb3Vwcy5nZXQobGFiZWwpO1xyXG5cdFx0XHRcdGlmICghZykge1xyXG5cdFx0XHRcdFx0ZyA9IHtsYWJlbCwgZGF0ZTogdHJ1bmNhdGVkRGF0ZSwgZXZlbnRzOiBbXX07XHJcblx0XHRcdFx0XHRncm91cHMuc2V0KGxhYmVsLCBnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zy5ldmVudHMucHVzaChldmVudExhYmVsKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBBcnJheS5mcm9tKGdyb3Vwcy52YWx1ZXMoKSkuc29ydChcclxuXHRcdFx0KGEsIGIpID0+IGEuZGF0ZS5nZXRUaW1lKCkgLSBiLmRhdGUuZ2V0VGltZSgpLFxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYnVpbGRNZXJtYWlkQ29kZSh0aXRsZTogc3RyaW5nLCBncm91cHM6IEdyb3VwW10pOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XHJcblx0XHRsaW5lcy5wdXNoKFwidGltZWxpbmVcIik7XHJcblx0XHRpZiAodGl0bGUpXHJcblx0XHRcdGxpbmVzLnB1c2goYCAgICB0aXRsZSAke3RpdGxlfWApO1xyXG5cclxuXHRcdGZvciAoY29uc3QgZyBvZiBncm91cHMpIHtcclxuXHRcdFx0aWYgKGcuZXZlbnRzLmxlbmd0aCA9PT0gMClcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdGxldCBsaW5lID0gYCAgICAke2cubGFiZWx9IDogJHtnLmV2ZW50c1swXX1gO1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8IGcuZXZlbnRzLmxlbmd0aDsgaSsrKVxyXG5cdFx0XHRcdGxpbmUgKz0gYCA6ICR7Zy5ldmVudHNbaV19YDtcclxuXHRcdFx0bGluZXMucHVzaChsaW5lKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbGluZXMuam9pbihcIlxcblwiKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdHJ1bmNhdGVBbmRGb3JtYXREYXRlKFxyXG5cdFx0ZGF0ZTogRGF0ZSxcclxuXHRcdGdyYW51bGFyaXR5OiBUaW1lR3JhbnVsYXJpdHksXHJcblx0KTogeyBsYWJlbDogc3RyaW5nOyB0cnVuY2F0ZWREYXRlOiBEYXRlIH0ge1xyXG5cdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuXHRcdGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xyXG5cdFx0Y29uc3QgZGF5ID0gZGF0ZS5nZXREYXRlKCk7XHJcblx0XHRjb25zdCBob3VyID0gZGF0ZS5nZXRIb3VycygpO1xyXG5cdFx0Y29uc3QgbWludXRlID0gZGF0ZS5nZXRNaW51dGVzKCk7XHJcblx0XHRjb25zdCBzZWNvbmQgPSBkYXRlLmdldFNlY29uZHMoKTtcclxuXHJcblx0XHRsZXQgdHJ1bmNhdGVkRGF0ZTogRGF0ZTtcclxuXHRcdGxldCBsYWJlbDogc3RyaW5nO1xyXG5cclxuXHRcdHN3aXRjaCAoZ3JhbnVsYXJpdHkpIHtcclxuXHRcdFx0Y2FzZSBcInllYXJcIjpcclxuXHRcdFx0XHR0cnVuY2F0ZWREYXRlID0gbmV3IERhdGUoeWVhciwgMCwgMSwgMCwgMCwgMCwgMCk7XHJcblx0XHRcdFx0bGFiZWwgPSBgJHt5ZWFyfWA7XHJcblx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRjYXNlIFwibW9udGhcIjpcclxuXHRcdFx0XHR0cnVuY2F0ZWREYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEsIDAsIDAsIDAsIDApO1xyXG5cdFx0XHRcdGxhYmVsID0gYCR7eWVhcn0tJHttb250aCArIDF9YDtcclxuXHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdGNhc2UgXCJkYXlcIjpcclxuXHRcdFx0XHR0cnVuY2F0ZWREYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSwgMCwgMCwgMCwgMCk7XHJcblx0XHRcdFx0bGFiZWwgPSBgJHt5ZWFyfS0ke21vbnRoICsgMX0tJHtkYXl9YDtcclxuXHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdGNhc2UgXCJob3VyXCI6XHJcblx0XHRcdFx0dHJ1bmNhdGVkRGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIDAsIDAsIDApO1xyXG5cdFx0XHRcdGxhYmVsID0gYCR7eWVhcn0tJHttb250aCArIDF9LSR7ZGF5fSAke2hvdXJ9aGA7XHJcblx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRjYXNlIFwibWludXRlXCI6XHJcblx0XHRcdFx0dHJ1bmNhdGVkRGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgMCwgMCk7XHJcblx0XHRcdFx0bGFiZWwgPSBgJHt5ZWFyfS0ke21vbnRoICsgMX0tJHtkYXl9ICR7aG91cn1oJHttaW51dGV9YDtcclxuXHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdGNhc2UgXCJzZWNvbmRcIjpcclxuXHRcdFx0XHR0cnVuY2F0ZWREYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsIDApO1xyXG5cdFx0XHRcdGxhYmVsID0gYCR7eWVhcn0tJHttb250aCArIDF9LSR7ZGF5fSAke2hvdXJ9aCR7bWludXRlfW0ke3NlY29uZH1zYDtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4ge2xhYmVsLCB0cnVuY2F0ZWREYXRlfTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7TWVybWFpZEJhc2VWaWV3QmFzZX0gZnJvbSBcIi4vTWVybWFpZEJhc2VWaWV3QmFzZVwiO1xuaW1wb3J0IHtCYXNlc1Byb3BlcnR5SWR9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHtNZXJtYWlkVmlld1JlZ2lzdHJhdGlvbkRhdGF9IGZyb20gXCIuLi9jb3JlL01lcm1haWRWaWV3UmVnaXN0cmF0aW9uRGF0YVwiO1xuaW1wb3J0IE1lcm1haWRCYXNlVmlld3MgZnJvbSBcIi4uLy4uL21haW5cIjtcblxuZXhwb3J0IGNsYXNzIE1lcm1haWRTYW5rZXlCYXNlVmlldyBleHRlbmRzIE1lcm1haWRCYXNlVmlld0Jhc2Uge1xuXHRyZWFkb25seSB0eXBlID0gTWVybWFpZFNhbmtleUJhc2VWaWV3LlJlZ2lzdHJhdGlvbkRhdGEuaWQ7XG5cdHJlYWRvbmx5IHJlZ2lzdHJhdGlvbkRhdGEgPSBNZXJtYWlkU2Fua2V5QmFzZVZpZXcuUmVnaXN0cmF0aW9uRGF0YTtcblxuXHRzdGF0aWMgcmVhZG9ubHkgUmVnaXN0cmF0aW9uRGF0YTogTWVybWFpZFZpZXdSZWdpc3RyYXRpb25EYXRhID0ge1xuXHRcdGlkOiBcIm1lcm1haWQtc2Fua2V5XCIsXG5cdFx0bmFtZTogXCJTYW5rZXlcIixcblx0XHRpY29uOiBcInNodWZmbGVcIixcblx0XHRnZXRPcHRpb25zOiAocGx1Z2luOiBNZXJtYWlkQmFzZVZpZXdzKSA9PiBbXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IFwibXVsdGl0ZXh0XCIsLy9UT0RPOiBzaG91bGQgdXNlIHByb3BlcnR5IHR5cGUgdG8gc2VsZWN0IGZvcm11bGFzIG1vcmUgZWFzaWx5LCBidXQgY3VycmVudGx5IHRoZXJlIGlzIG5vIHdheSB0byBtYWtlIGEgbGlzdCBvZiB0aGVtP1xuXHRcdFx0XHRkaXNwbGF5TmFtZTogXCJGbG93cyAoc291cmNlIG5hbWUsIHRhcmdldCBuYW1lLCB2YWx1ZSBwcm9wZXJ0eSlcIixcblx0XHRcdFx0a2V5OiBcImZsb3dzXCIsXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiTWVybWFpZCBDb25maWcgT3ZlcnJpZGUgRGlyZWN0aXZlIChvcHRpb25hbClcIixcblx0XHRcdFx0a2V5OiBcIm1lcm1haWRDb25maWdPdmVycmlkZURpcmVjdGl2ZVwiLFxuXHRcdFx0XHRwbGFjZWhvbGRlcjogYCUle2luaXQ6IHsgXCJsb29rXCI6IFwiaGFuZERyYXduXCIsIFwidGhlbWVcIjogXCJuZXV0cmFsXCIgfX0lJWAsXG5cdFx0XHR9LFxuXHRcdF0sXG5cdH07XG5cblx0cHJvdGVjdGVkIGFzeW5jIHJlbmRlcigpOiBQcm9taXNlPHZvaWQ+IHtcblxuXHRcdGNvbnN0IGZsb3dJdGVtcyA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8c3RyaW5nW10+KFwiZmxvd3NcIiwgW10pO1xuXG5cdFx0aWYgKGZsb3dJdGVtcy5sZW5ndGggPCAzKSB7XG5cdFx0XHR0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdih7dGV4dDogXCJBZGQgYXQgbGVhc3Qgb25lIGZsb3cgdHJpcGxlIChzb3VyY2UgbmFtZSwgdGFyZ2V0IG5hbWUsIHZhbHVlIHByb3BlcnR5KSBpbiB0aGUgdmlldyBzZXR0aW5ncy5cIn0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHR5cGUgRmxvd0NvbmZpZyA9IHtcblx0XHRcdHNvdXJjZTogc3RyaW5nO1xuXHRcdFx0dGFyZ2V0OiBzdHJpbmc7XG5cdFx0XHRwcm9wZXJ0eU5hbWU6IHN0cmluZztcblx0XHR9O1xuXG5cdFx0Y29uc3QgZmxvd0NvbmZpZ3M6IEZsb3dDb25maWdbXSA9IFtdO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgKyAyIDwgZmxvd0l0ZW1zLmxlbmd0aDsgaSArPSAzKSB7XG5cdFx0XHRjb25zdCBzb3VyY2UgPSAoZmxvd0l0ZW1zW2ldID8/IFwiXCIpLnRyaW0oKTtcblx0XHRcdGNvbnN0IHRhcmdldCA9IChmbG93SXRlbXNbaSArIDFdID8/IFwiXCIpLnRyaW0oKTtcblx0XHRcdGNvbnN0IHByb3BlcnR5TmFtZSA9IChmbG93SXRlbXNbaSArIDJdID8/IFwiXCIpLnRyaW0oKTtcblxuXHRcdFx0aWYgKCFzb3VyY2UgfHwgIXRhcmdldCB8fCAhcHJvcGVydHlOYW1lKVxuXHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0Zmxvd0NvbmZpZ3MucHVzaCh7c291cmNlLCB0YXJnZXQsIHByb3BlcnR5TmFtZTogcHJvcGVydHlOYW1lfSk7XG5cdFx0fVxuXG5cdFx0aWYgKGZsb3dDb25maWdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoe3RleHQ6IFwiTm8gY29tcGxldGUgKHNvdXJjZSBuYW1lLCB0YXJnZXQgbmFtZSwgdmFsdWUgcHJvcGVydHkpIHRyaXBsZXMgZm91bmQgaW4gdGhlIGZsb3cgY29uZmlndXJhdGlvbi5cIn0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHR5cGUgUmVzb2x2ZWRGbG93ID0ge1xuXHRcdFx0c291cmNlOiBzdHJpbmc7XG5cdFx0XHR0YXJnZXQ6IHN0cmluZztcblx0XHRcdHZhbHVlOiBudW1iZXI7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHJlc29sdmVkRmxvd3M6IFJlc29sdmVkRmxvd1tdID0gW107XG5cblx0XHRmb3IgKGNvbnN0IGZsb3cgb2YgZmxvd0NvbmZpZ3MpIHtcblx0XHRcdGNvbnN0IHByb3BlcnR5SWQgPSB0aGlzLnJlc29sdmVQcm9wZXJ0eUlkRnJvbVVzZXJJbnB1dChmbG93LnByb3BlcnR5TmFtZSk7XG5cdFx0XHRpZiAoIXByb3BlcnR5SWQpIHtcblx0XHRcdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoe3RleHQ6IGBTYW5rZXkgdmlldzogQ291bGQgbm90IHJlc29sdmUgcHJvcGVydHkgZnJvbSBcIiR7Zmxvdy5wcm9wZXJ0eU5hbWV9XCIuYH0pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHRvdGFsID0gdGhpcy5hZ2dyZWdhdGVOdW1lcmljUHJvcGVydHkocHJvcGVydHlJZCk7XG5cdFx0XHRpZiAodG90YWwgPT09IG51bGwpIHtcblx0XHRcdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoe3RleHQ6IGBTYW5rZXkgdmlldzogUHJvcGVydHkgXCIke3Byb3BlcnR5SWR9XCIgZGlkIG5vdCBwcm9kdWNlIGFueSBudW1lcmljL2Jvb2xlYW4gdmFsdWVzLmB9KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXNvbHZlZEZsb3dzLnB1c2goe1xuXHRcdFx0XHRzb3VyY2U6IGZsb3cuc291cmNlLFxuXHRcdFx0XHR0YXJnZXQ6IGZsb3cudGFyZ2V0LFxuXHRcdFx0XHR2YWx1ZTogdG90YWwsXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAocmVzb2x2ZWRGbG93cy5sZW5ndGggPT09IDApIHtcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KHt0ZXh0OiBcIk5vIGZsb3dzIHByb2R1Y2VkIG51bWVyaWMvYm9vbGVhbiB2YWx1ZXMuIENoZWNrIHlvdXIgdmFsdWUgcHJvcGVydGllcyBhbmQgZmlsdGVycy5cIn0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxpbmVzOiBzdHJpbmdbXSA9IFtdO1xuXHRcdGxpbmVzLnB1c2goXCJzYW5rZXktYmV0YVwiKTtcblx0XHRsaW5lcy5wdXNoKFwiJSUgc291cmNlLHRhcmdldCx2YWx1ZVwiKTtcblxuXHRcdGZvciAoY29uc3QgcmVzb2x2ZWRGbG93IG9mIHJlc29sdmVkRmxvd3MpXG5cdFx0XHRsaW5lcy5wdXNoKGAke3Jlc29sdmVkRmxvdy5zb3VyY2V9LCR7cmVzb2x2ZWRGbG93LnRhcmdldH0sJHtyZXNvbHZlZEZsb3cudmFsdWV9YCk7XG5cblx0XHRjb25zdCBtZXJtYWlkQ29kZSA9IGxpbmVzLmpvaW4oXCJcXG5cIik7XG5cdFx0YXdhaXQgdGhpcy5yZW5kZXJNZXJtYWlkKG1lcm1haWRDb2RlLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYW5rZXlNZXJtYWlkQ29uZmlnKTtcblx0fVxuXG5cdHByaXZhdGUgcmVzb2x2ZVByb3BlcnR5SWRGcm9tVXNlcklucHV0KGlucHV0OiBzdHJpbmcpOiBCYXNlc1Byb3BlcnR5SWQgfCBudWxsIHtcblx0XHRpZiAoIWlucHV0KVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHQvLyBEaXJlY3QgbWF0Y2ggb24gZnVsbCBpZCAoZS5nLiBcImZvcm11bGEuYmFyXCIsIFwiZmlsZS5zaXplXCIsIGV0Yylcblx0XHRmb3IgKGNvbnN0IGlkIG9mIHRoaXMuYWxsUHJvcGVydGllcykge1xuXHRcdFx0aWYgKGlkID09PSBpbnB1dClcblx0XHRcdFx0cmV0dXJuIGlkO1xuXHRcdH1cblxuXHRcdC8vIE1hdGNoIGJ5IGJhcmUgbmFtZSAoYWZ0ZXIgdGhlIGZpcnN0IGRvdClcblx0XHRmb3IgKGNvbnN0IGlkIG9mIHRoaXMuYWxsUHJvcGVydGllcykge1xuXHRcdFx0Y29uc3QgZG90ID0gaWQuaW5kZXhPZihcIi5cIik7XG5cdFx0XHRjb25zdCBiYXJlID0gZG90ID49IDAgPyBpZC5zdWJzdHJpbmcoZG90ICsgMSkgOiBpZDtcblx0XHRcdGlmIChiYXJlID09PSBpbnB1dClcblx0XHRcdFx0cmV0dXJuIGlkO1xuXHRcdH1cblxuXHRcdC8vIE1hdGNoIGJ5IGRpc3BsYXkgbmFtZVxuXHRcdGZvciAoY29uc3QgaWQgb2YgdGhpcy5hbGxQcm9wZXJ0aWVzKSB7XG5cdFx0XHRjb25zdCBkaXNwbGF5TmFtZSA9IHRoaXMuY29uZmlnLmdldERpc3BsYXlOYW1lKGlkKTtcblx0XHRcdGlmIChkaXNwbGF5TmFtZSA9PT0gaW5wdXQpXG5cdFx0XHRcdHJldHVybiBpZDtcblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHByaXZhdGUgYWdncmVnYXRlTnVtZXJpY1Byb3BlcnR5KHByb3BlcnR5SWQ6IEJhc2VzUHJvcGVydHlJZCk6IG51bWJlciB8IG51bGwge1xuXHRcdGlmICghdGhpcy5kYXRhKVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHRsZXQgc3VtID0gMDtcblx0XHRsZXQgZm91bmRBbnkgPSBmYWxzZTtcblxuXHRcdGZvciAoY29uc3QgZ3JvdXAgb2YgdGhpcy5kYXRhLmdyb3VwZWREYXRhKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIGdyb3VwLmVudHJpZXMpIHtcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSBlbnRyeS5nZXRWYWx1ZShwcm9wZXJ0eUlkKTtcblx0XHRcdFx0aWYgKCF2YWx1ZSlcblx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHRjb25zdCB0ZXh0ID0gdmFsdWUudG9TdHJpbmcoKS50cmltKCk7XG5cblx0XHRcdFx0bGV0IG51bWJlcjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cblx0XHRcdFx0aWYgKHRleHQgPT09IFwidHJ1ZVwiKVxuXHRcdFx0XHRcdG51bWJlciA9IDE7XG5cdFx0XHRcdGVsc2UgaWYgKHRleHQgPT09IFwiZmFsc2VcIilcblx0XHRcdFx0XHRudW1iZXIgPSAwO1xuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRjb25zdCBwYXJzZWQgPSBOdW1iZXIodGV4dCk7XG5cdFx0XHRcdFx0aWYgKE51bWJlci5pc0Zpbml0ZShwYXJzZWQpKVxuXHRcdFx0XHRcdFx0bnVtYmVyID0gcGFyc2VkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG51bWJlciAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdHN1bSArPSBudW1iZXI7XG5cdFx0XHRcdFx0Zm91bmRBbnkgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZvdW5kQW55ID8gc3VtIDogbnVsbDtcblx0fVxufVxuIiwgImltcG9ydCB7TWVybWFpZEJhc2VWaWV3QmFzZX0gZnJvbSBcIi4vTWVybWFpZEJhc2VWaWV3QmFzZVwiO1xyXG5pbXBvcnQge01lcm1haWRWaWV3UmVnaXN0cmF0aW9uRGF0YX0gZnJvbSBcIi4uL2NvcmUvTWVybWFpZFZpZXdSZWdpc3RyYXRpb25EYXRhXCI7XHJcbmltcG9ydCBNZXJtYWlkQmFzZVZpZXdzIGZyb20gXCIuLi8uLi9tYWluXCI7XHJcbmltcG9ydCB7SW5mZXJyZWRQcm9wZXJ0eVR5cGV9IGZyb20gXCIuLi9wcm9wZXJ0eVR5cGVzL0luZmVycmVkUHJvcGVydHlUeXBlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVybWFpZFBpZUNoYXJ0QmFzZVZpZXcgZXh0ZW5kcyBNZXJtYWlkQmFzZVZpZXdCYXNlIHtcclxuXHRyZWFkb25seSB0eXBlID0gTWVybWFpZFBpZUNoYXJ0QmFzZVZpZXcuUmVnaXN0cmF0aW9uRGF0YS5pZDtcclxuXHRyZWFkb25seSByZWdpc3RyYXRpb25EYXRhID0gTWVybWFpZFBpZUNoYXJ0QmFzZVZpZXcuUmVnaXN0cmF0aW9uRGF0YTtcclxuXHJcblx0c3RhdGljIHJlYWRvbmx5IFJlZ2lzdHJhdGlvbkRhdGE6IE1lcm1haWRWaWV3UmVnaXN0cmF0aW9uRGF0YSA9IHtcclxuXHRcdGlkOiBcIm1lcm1haWQtcGllLWNoYXJ0XCIsXHJcblx0XHRuYW1lOiBcIlBpZSBDaGFydFwiLFxyXG5cdFx0aWNvbjogXCJwaWUtY2hhcnRcIixcclxuXHRcdGdldE9wdGlvbnM6IChwbHVnaW46IE1lcm1haWRCYXNlVmlld3MpID0+IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxyXG5cdFx0XHRcdGRpc3BsYXlOYW1lOiBcIlRpdGxlXCIsXHJcblx0XHRcdFx0a2V5OiBcInRpdGxlXCIsXHJcblx0XHRcdFx0ZGVmYXVsdDogXCJUaXRsZVwiLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dHlwZTogXCJwcm9wZXJ0eVwiLFxyXG5cdFx0XHRcdGRpc3BsYXlOYW1lOiBcIkNhdGVnb3J5IHByb3BlcnR5XCIsXHJcblx0XHRcdFx0a2V5OiBcImNhdGVnb3J5UHJvcGVydHlcIixcclxuXHRcdFx0XHRwbGFjZWhvbGRlcjogXCJlLmcuIHRhZyBvciBmb2xkZXJcIixcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHR5cGU6IFwicHJvcGVydHlcIixcclxuXHRcdFx0XHRkaXNwbGF5TmFtZTogXCJWYWx1ZSBwcm9wZXJ0eSAob3B0aW9uYWwpXCIsXHJcblx0XHRcdFx0a2V5OiBcInZhbHVlUHJvcGVydHlcIixcclxuXHRcdFx0XHRwbGFjZWhvbGRlcjogXCJlLmcuIGZpbGUgc2l6ZVwiLFxyXG5cdFx0XHRcdGZpbHRlcjogcGx1Z2luLnByb3BlcnR5VHlwZXMuY3JlYXRlRmlsdGVyKEluZmVycmVkUHJvcGVydHlUeXBlLk51bWJlciksXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0eXBlOiBcInRvZ2dsZVwiLFxyXG5cdFx0XHRcdGRpc3BsYXlOYW1lOiBcIlNob3cgdmFsdWVzIG9uIGxhYmVsc1wiLFxyXG5cdFx0XHRcdGtleTogXCJzaG93RGF0YUxhYmVsXCIsXHJcblx0XHRcdFx0ZGVmYXVsdDogZmFsc2UsXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0eXBlOiBcInRleHRcIixcclxuXHRcdFx0XHRkaXNwbGF5TmFtZTogXCJNZXJtYWlkIENvbmZpZyBPdmVycmlkZSBEaXJlY3RpdmUgKG9wdGlvbmFsKVwiLFxyXG5cdFx0XHRcdGtleTogXCJtZXJtYWlkQ29uZmlnT3ZlcnJpZGVEaXJlY3RpdmVcIixcclxuXHRcdFx0XHRwbGFjZWhvbGRlcjogYCUle2luaXQ6IHsgXCJsb29rXCI6IFwiaGFuZERyYXduXCIsIFwidGhlbWVcIjogXCJuZXV0cmFsXCIgfX0lJWAsXHJcblx0XHRcdH0sXHJcblx0XHRdLFxyXG5cdH07XHJcblxyXG5cdHByb3RlY3RlZCBhc3luYyByZW5kZXIoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCBjYXRlZ29yeVByb3BlcnR5SWQgPSB0aGlzLmNvbmZpZy5nZXRBc1Byb3BlcnR5SWQoXCJjYXRlZ29yeVByb3BlcnR5XCIpO1xyXG5cdFx0Y29uc3QgdmFsdWVQcm9wZXJ0eUlkID0gdGhpcy5jb25maWcuZ2V0QXNQcm9wZXJ0eUlkKFwidmFsdWVQcm9wZXJ0eVwiKTtcclxuXHRcdGNvbnN0IHRpdGxlID0gdGhpcy5nZXRDb25maWdWYWx1ZTxzdHJpbmc+KFwidGl0bGVcIik7XHJcblx0XHRjb25zdCBzaG93RGF0YUxhYmVsID0gdGhpcy5nZXRDb25maWdWYWx1ZTxib29sZWFuPihcInNob3dEYXRhTGFiZWxcIik7XHJcblxyXG5cdFx0aWYgKCFjYXRlZ29yeVByb3BlcnR5SWQpIHtcclxuXHRcdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoe3RleHQ6IFwiQ29uZmlndXJlIGEgY2F0ZWdvcnkgcHJvcGVydHkgaW4gdGhlIHZpZXcgc2V0dGluZ3MuXCJ9KTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGNhdGVnb3J5VG90YWxzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGdyb3VwIG9mIHRoaXMuZGF0YS5ncm91cGVkRGF0YSkge1xyXG5cdFx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIGdyb3VwLmVudHJpZXMpIHtcclxuXHRcdFx0XHRjb25zdCBjYXRlZ29yeVZhbHVlID0gZW50cnkuZ2V0VmFsdWUoY2F0ZWdvcnlQcm9wZXJ0eUlkKTtcclxuXHRcdFx0XHRpZiAoY2F0ZWdvcnlWYWx1ZSA9PSBudWxsKVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGxhYmVsID0gY2F0ZWdvcnlWYWx1ZS50b1N0cmluZygpO1xyXG5cdFx0XHRcdGlmICghbGFiZWwpXHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdFx0bGV0IGFtb3VudCA9IDE7XHJcblx0XHRcdFx0aWYgKHZhbHVlUHJvcGVydHlJZCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgdmFsdWUgPSBlbnRyeS5nZXRWYWx1ZSh2YWx1ZVByb3BlcnR5SWQpO1xyXG5cdFx0XHRcdFx0aWYgKHZhbHVlICE9IG51bGwpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgbnVtYmVyID0gTnVtYmVyKHZhbHVlLnRvU3RyaW5nKCkpO1xyXG5cdFx0XHRcdFx0XHRpZiAoIU51bWJlci5pc05hTihudW1iZXIpKVxyXG5cdFx0XHRcdFx0XHRcdGFtb3VudCA9IG51bWJlcjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNhdGVnb3J5VG90YWxzLnNldChsYWJlbCwgKGNhdGVnb3J5VG90YWxzLmdldChsYWJlbCkgPz8gMCkgKyBhbW91bnQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNhdGVnb3J5VG90YWxzLnNpemUgPT09IDApIHtcclxuXHRcdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoe3RleHQ6IFwiTm8gZGF0YSB0byBkaXNwbGF5IGZvciB0aGUgY3VycmVudCBmaWx0ZXIgYW5kIGNvbmZpZ3VyYXRpb24uXCJ9KTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBtZXJtYWlkQ29kZSA9IGBwaWUgJHtzaG93RGF0YUxhYmVsID8gXCJzaG93RGF0YVwiIDogXCJcIn0gdGl0bGUgJHt0aXRsZX1cXG5gO1xyXG5cdFx0Zm9yIChjb25zdCBbbGFiZWwsIGFtb3VudF0gb2YgY2F0ZWdvcnlUb3RhbHMpXHJcblx0XHRcdG1lcm1haWRDb2RlICs9IGAgICAgXCIke2xhYmVsfVwiIDogJHthbW91bnR9XFxuYDtcclxuXHJcblx0XHRhd2FpdCB0aGlzLnJlbmRlck1lcm1haWQobWVybWFpZENvZGUsIHRoaXMucGx1Z2luLnNldHRpbmdzLnBpZUNoYXJ0TWVybWFpZENvbmZpZyk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQge01lcm1haWRCYXNlVmlld0Jhc2V9IGZyb20gXCIuL01lcm1haWRCYXNlVmlld0Jhc2VcIjtcclxuaW1wb3J0IHtNZXJtYWlkVmlld1JlZ2lzdHJhdGlvbkRhdGF9IGZyb20gXCIuLi9jb3JlL01lcm1haWRWaWV3UmVnaXN0cmF0aW9uRGF0YVwiO1xyXG5pbXBvcnQge3BhcnNlUHJvcGVydHlJZH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCBNZXJtYWlkQmFzZVZpZXdzIGZyb20gXCIuLi8uLi9tYWluXCI7XHJcbmltcG9ydCB7SW5mZXJyZWRQcm9wZXJ0eVR5cGV9IGZyb20gXCIuLi9wcm9wZXJ0eVR5cGVzL0luZmVycmVkUHJvcGVydHlUeXBlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVybWFpZFhZQ2hhcnRCYXNlVmlldyBleHRlbmRzIE1lcm1haWRCYXNlVmlld0Jhc2Uge1xyXG5cdHJlYWRvbmx5IHR5cGUgPSBNZXJtYWlkWFlDaGFydEJhc2VWaWV3LlJlZ2lzdHJhdGlvbkRhdGEuaWQ7XHJcblx0cmVhZG9ubHkgcmVnaXN0cmF0aW9uRGF0YSA9IE1lcm1haWRYWUNoYXJ0QmFzZVZpZXcuUmVnaXN0cmF0aW9uRGF0YTtcclxuXHJcblx0c3RhdGljIHJlYWRvbmx5IFJlZ2lzdHJhdGlvbkRhdGE6IE1lcm1haWRWaWV3UmVnaXN0cmF0aW9uRGF0YSA9IHtcclxuXHRcdGlkOiBcIm1lcm1haWQteHktY2hhcnRcIixcclxuXHRcdG5hbWU6IFwiWFkgQ2hhcnRcIixcclxuXHRcdGljb246IFwibGluZS1jaGFydFwiLFxyXG5cdFx0Z2V0T3B0aW9uczogKHBsdWdpbjogTWVybWFpZEJhc2VWaWV3cykgPT4gW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXHJcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiVGl0bGVcIixcclxuXHRcdFx0XHRrZXk6IFwidGl0bGVcIixcclxuXHRcdFx0XHRkZWZhdWx0OiBcIlRpdGxlXCIsXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0eXBlOiBcInByb3BlcnR5XCIsXHJcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiWS1heGlzIHByb3BlcnR5XCIsXHJcblx0XHRcdFx0a2V5OiBcInlWYWx1ZVByb3BlcnR5XCIsXHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6IFwiZS5nLiBmaWxlIHNpemVcIixcclxuXHRcdFx0XHRmaWx0ZXI6IHBsdWdpbi5wcm9wZXJ0eVR5cGVzLmNyZWF0ZUZpbHRlcihJbmZlcnJlZFByb3BlcnR5VHlwZS5OdW1iZXIpLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXHJcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiWS1heGlzIGxhYmVsXCIsXHJcblx0XHRcdFx0a2V5OiBcInlBeGlzTGFiZWxcIixcclxuXHRcdFx0XHRkZWZhdWx0OiBcIlwiLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXHJcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiWS1taW5pbXVtIChvcHRpb25hbClcIixcclxuXHRcdFx0XHRrZXk6IFwieU1pblwiLFxyXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiBcIm51bWJlciAoZGVmYXVsdHMgdG8gYXV0b21hdGljIGZyb20gZGF0YSlcIixcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxyXG5cdFx0XHRcdGRpc3BsYXlOYW1lOiBcIlktbWF4aW11bSAob3B0aW9uYWwpXCIsXHJcblx0XHRcdFx0a2V5OiBcInlNYXhcIixcclxuXHRcdFx0XHRwbGFjZWhvbGRlcjogXCJudW1iZXIgKGRlZmF1bHRzIHRvIGF1dG9tYXRpYyBmcm9tIGRhdGEpXCIsXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0eXBlOiBcImRyb3Bkb3duXCIsXHJcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiQ2hhcnQgdHlwZVwiLFxyXG5cdFx0XHRcdGtleTogXCJjaGFydFR5cGVcIixcclxuXHRcdFx0XHRkZWZhdWx0OiBcImJhclwiLFxyXG5cdFx0XHRcdG9wdGlvbnM6IHtcImJhclwiOiBcImJhclwiLCBcImxpbmVcIjogXCJsaW5lXCIsIFwiYmFyLWFuZC1saW5lXCI6IFwiYm90aFwifSxcclxuXHRcdFx0fSxcclxuXHRcdFx0Ly8ge1xyXG5cdFx0XHQvLyBcdHR5cGU6IFwidG9nZ2xlXCIsXHJcblx0XHRcdC8vIFx0ZGlzcGxheU5hbWU6IFwiU2hvdyBkYXRhIGxhYmVsc1wiLFxyXG5cdFx0XHQvLyBcdGtleTogXCJzaG93RGF0YUxhYmVsXCIsXHJcblx0XHRcdC8vIFx0ZGVmYXVsdDogZmFsc2UsXHJcblx0XHRcdC8vIH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0eXBlOiBcInRvZ2dsZVwiLFxyXG5cdFx0XHRcdGRpc3BsYXlOYW1lOiBcIlNob3cgcHJvcGVydHkgbmFtZXNcIixcclxuXHRcdFx0XHRrZXk6IFwic2hvd1Byb3BlcnR5TmFtZXNcIixcclxuXHRcdFx0XHRkZWZhdWx0OiB0cnVlLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXHJcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiTWVybWFpZCBDb25maWcgT3ZlcnJpZGUgRGlyZWN0aXZlIChvcHRpb25hbClcIixcclxuXHRcdFx0XHRrZXk6IFwibWVybWFpZENvbmZpZ092ZXJyaWRlRGlyZWN0aXZlXCIsXHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6IGAlJXtpbml0OiB7IFwibG9va1wiOiBcImhhbmREcmF3blwiLCBcInRoZW1lXCI6IFwibmV1dHJhbFwiIH19JSVgLFxyXG5cdFx0XHR9LFxyXG5cdFx0XSxcclxuXHR9O1xyXG5cclxuXHRwcm90ZWN0ZWQgYXN5bmMgcmVuZGVyKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3QgeVZhbHVlUHJvcGVydHlJZCA9IHRoaXMuY29uZmlnLmdldEFzUHJvcGVydHlJZChcInlWYWx1ZVByb3BlcnR5XCIpO1xyXG5cclxuXHRcdGNvbnN0IHNob3dQcm9wZXJ0eU5hbWVzID0gdGhpcy5nZXRDb25maWdWYWx1ZTxib29sZWFuPihcInNob3dQcm9wZXJ0eU5hbWVzXCIpO1xyXG5cclxuXHRcdGlmICgheVZhbHVlUHJvcGVydHlJZCkge1xyXG5cdFx0XHR0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdih7dGV4dDogXCJDb25maWd1cmUgYSBudW1lcmljIFktYXhpcyB2YWx1ZSBwcm9wZXJ0eSBpbiB0aGUgdmlldyBzZXR0aW5ncy5cIn0pO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgdGl0bGUgPSB0aGlzLmdldENvbmZpZ1ZhbHVlPHN0cmluZz4oXCJ0aXRsZVwiKTtcclxuXHRcdGNvbnN0IHlBeGlzTGFiZWwgPSB0aGlzLmdldENvbmZpZ1ZhbHVlPHN0cmluZz4oXCJ5QXhpc0xhYmVsXCIsIHBhcnNlUHJvcGVydHlJZCh5VmFsdWVQcm9wZXJ0eUlkKS5uYW1lKTtcclxuXHRcdGNvbnN0IGNoYXJ0VHlwZSA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8XCJiYXJcIiB8IFwibGluZVwiIHwgXCJiYXItYW5kLWxpbmVcIj4oXCJjaGFydFR5cGVcIik7XHJcblxyXG5cdFx0Y29uc3QgeExhYmVsczogc3RyaW5nW10gPSBbXTtcclxuXHRcdGNvbnN0IHlWYWx1ZXM6IG51bWJlcltdID0gW107XHJcblxyXG5cdFx0bGV0IG1pblZhbHVlID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xyXG5cdFx0bGV0IG1heFZhbHVlID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xyXG5cclxuXHRcdGZvciAoY29uc3QgZ3JvdXAgb2YgdGhpcy5kYXRhLmdyb3VwZWREYXRhKSB7XHJcblx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgZ3JvdXAuZW50cmllcykge1xyXG5cclxuXHRcdFx0XHRjb25zdCBsYWJlbCA9IHRoaXMuZ2V0TGFiZWxXaXRoUHJvcGVydGllcyhlbnRyeS5maWxlLCBzaG93UHJvcGVydHlOYW1lcywgXCIsIFwiLCBcIlx1MDJEMFwiKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgeVZhbHVlID0gZW50cnkuZ2V0VmFsdWUoeVZhbHVlUHJvcGVydHlJZCk7XHJcblx0XHRcdFx0aWYgKHlWYWx1ZSA9PSBudWxsKVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblxyXG5cdFx0XHRcdGNvbnN0IG51bWJlciA9IE51bWJlcih5VmFsdWUudG9TdHJpbmcoKSk7XHJcblx0XHRcdFx0aWYgKCFOdW1iZXIuaXNGaW5pdGUobnVtYmVyKSlcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0XHR4TGFiZWxzLnB1c2gobGFiZWwpO1xyXG5cdFx0XHRcdHlWYWx1ZXMucHVzaChudW1iZXIpO1xyXG5cclxuXHRcdFx0XHRpZiAobnVtYmVyIDwgbWluVmFsdWUpXHJcblx0XHRcdFx0XHRtaW5WYWx1ZSA9IG51bWJlcjtcclxuXHRcdFx0XHRpZiAobnVtYmVyID4gbWF4VmFsdWUpXHJcblx0XHRcdFx0XHRtYXhWYWx1ZSA9IG51bWJlcjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh5VmFsdWVzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHR0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdih7dGV4dDogXCJObyBudW1lcmljIGRhdGEgZm91bmQgZm9yIHRoZSBzZWxlY3RlZCBZLWF4aXMgcHJvcGVydHkuXCJ9KTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEF1dG8gcmFuZ2UgaWYgb3ZlcnJpZGVzIG5vdCBzZXRcclxuXHRcdGxldCB5TWluID0gbWluVmFsdWU7XHJcblx0XHRsZXQgeU1heCA9IG1heFZhbHVlO1xyXG5cclxuXHRcdGNvbnN0IGluZmluaXR5ID0gSW5maW5pdHkudG9TdHJpbmcoKTtcclxuXHJcblx0XHRjb25zdCB5TWluQ29uZmlnID0gdGhpcy5nZXRDb25maWdWYWx1ZTxzdHJpbmc+KFwieU1pblwiLCBpbmZpbml0eSkudHJpbSgpO1xyXG5cdFx0aWYgKHlNaW5Db25maWcubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRjb25zdCB5TWluQ29uZmlnTnVtYmVyID0gTnVtYmVyKHlNaW5Db25maWcpO1xyXG5cdFx0XHRpZiAoTnVtYmVyLmlzRmluaXRlKHlNaW5Db25maWdOdW1iZXIpKVxyXG5cdFx0XHRcdHlNaW4gPSB5TWluQ29uZmlnTnVtYmVyO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgeU1heENvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8c3RyaW5nPihcInlNYXhcIiwgaW5maW5pdHkpLnRyaW0oKTtcclxuXHRcdGlmICh5TWF4Q29uZmlnLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Y29uc3QgeU1heENvbmZpZ051bWJlciA9IE51bWJlcih5TWF4Q29uZmlnKTtcclxuXHRcdFx0aWYgKE51bWJlci5pc0Zpbml0ZSh5TWF4Q29uZmlnTnVtYmVyKSlcclxuXHRcdFx0XHR5TWF4ID0geU1heENvbmZpZ051bWJlcjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCB4QXhpcyA9IGBbJHt4TGFiZWxzLm1hcCgobCkgPT4gYFwiJHtsfVwiYCkuam9pbihcIiwgXCIpfV1gO1xyXG5cdFx0Y29uc3QgdmFsdWVzQXJyYXkgPSBgWyR7eVZhbHVlcy5qb2luKFwiLCBcIil9XWA7XHJcblxyXG5cdFx0Y29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XHJcblx0XHRsaW5lcy5wdXNoKFwieHljaGFydC1iZXRhXCIpO1xyXG5cdFx0aWYgKHRpdGxlKVxyXG5cdFx0XHRsaW5lcy5wdXNoKGAgICAgdGl0bGUgXCIke3RpdGxlfVwiYCk7XHJcblx0XHRsaW5lcy5wdXNoKGAgICAgeC1heGlzICR7eEF4aXN9YCk7XHJcblx0XHRsaW5lcy5wdXNoKGAgICAgeS1heGlzIFwiJHt5QXhpc0xhYmVsfVwiICR7eU1pbn0gLS0+ICR7eU1heH1gKTtcclxuXHJcblx0XHRpZiAoY2hhcnRUeXBlID09PSBcImxpbmVcIikge1xyXG5cdFx0XHRsaW5lcy5wdXNoKGAgICAgbGluZSAke3ZhbHVlc0FycmF5fWApO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFydFR5cGUgPT09IFwiYmFyLWFuZC1saW5lXCIpIHtcclxuXHRcdFx0bGluZXMucHVzaChgICAgIGJhciAke3ZhbHVlc0FycmF5fWApO1xyXG5cdFx0XHRsaW5lcy5wdXNoKGAgICAgbGluZSAke3ZhbHVlc0FycmF5fWApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bGluZXMucHVzaChgICAgIGJhciAke3ZhbHVlc0FycmF5fWApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IG1lcm1haWRDb2RlID0gbGluZXMuam9pbihcIlxcblwiKTtcclxuXHJcblx0XHQvLyBjb25zdCBzaG93RGF0YUxhYmVsID0gdGhpcy5nZXRDb25maWdWYWx1ZTxib29sZWFuPihcInNob3dEYXRhTGFiZWxcIik7XHJcblx0XHQvLyBjb25zdCBleHRyYUNvbmZpZyA9IHNob3dEYXRhTGFiZWwgPyBcIiUle2luaXQ6IHtcXFwieHlDaGFydFxcXCI6IHtcXFwic2hvd0RhdGFMYWJlbFxcXCI6IFxcXCJ0cnVlXFxcIn0gfX0lJVwiIDogXCJcIjsvL1RPRE86IHdhaXQgZm9yIG1lcm1haWQgdjExLjcuMFxyXG5cclxuXHRcdGF3YWl0IHRoaXMucmVuZGVyTWVybWFpZChtZXJtYWlkQ29kZSwgdGhpcy5wbHVnaW4uc2V0dGluZ3MuWFlDaGFydE1lcm1haWRDb25maWcpO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHtNZXJtYWlkQmFzZVZpZXdCYXNlfSBmcm9tIFwiLi9NZXJtYWlkQmFzZVZpZXdCYXNlXCI7XHJcbmltcG9ydCB7TWVybWFpZFZpZXdSZWdpc3RyYXRpb25EYXRhfSBmcm9tIFwiLi4vY29yZS9NZXJtYWlkVmlld1JlZ2lzdHJhdGlvbkRhdGFcIjtcclxuaW1wb3J0IHtCYXNlc0VudHJ5R3JvdXAsIEJhc2VzUHJvcGVydHlJZH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCBNZXJtYWlkQmFzZVZpZXdzIGZyb20gXCIuLi8uLi9tYWluXCI7XHJcbmltcG9ydCB7SW5mZXJyZWRQcm9wZXJ0eVR5cGV9IGZyb20gXCIuLi9wcm9wZXJ0eVR5cGVzL0luZmVycmVkUHJvcGVydHlUeXBlXCI7XHJcblxyXG50eXBlIFBvaW50ID0ge1xyXG5cdGxhYmVsOiBzdHJpbmc7XHJcblx0eDogbnVtYmVyO1xyXG5cdHk6IG51bWJlcjtcclxuXHRjb2xvcjogc3RyaW5nO1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lcm1haWRRdWFkcmFudENoYXJ0QmFzZVZpZXcgZXh0ZW5kcyBNZXJtYWlkQmFzZVZpZXdCYXNlIHtcclxuXHRyZWFkb25seSB0eXBlID0gTWVybWFpZFF1YWRyYW50Q2hhcnRCYXNlVmlldy5SZWdpc3RyYXRpb25EYXRhLmlkO1xyXG5cdHJlYWRvbmx5IHJlZ2lzdHJhdGlvbkRhdGEgPSBNZXJtYWlkUXVhZHJhbnRDaGFydEJhc2VWaWV3LlJlZ2lzdHJhdGlvbkRhdGE7XHJcblxyXG5cdHN0YXRpYyByZWFkb25seSBSZWdpc3RyYXRpb25EYXRhOiBNZXJtYWlkVmlld1JlZ2lzdHJhdGlvbkRhdGEgPSB7XHJcblx0XHRpZDogXCJtZXJtYWlkLXF1YWRyYW50LWNoYXJ0XCIsXHJcblx0XHRuYW1lOiBcIlF1YWRyYW50IENoYXJ0XCIsXHJcblx0XHRpY29uOiBcInNjYXR0ZXItY2hhcnRcIixcclxuXHRcdGdldE9wdGlvbnM6IChwbHVnaW46IE1lcm1haWRCYXNlVmlld3MpID0+IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxyXG5cdFx0XHRcdGRpc3BsYXlOYW1lOiBcIlRpdGxlXCIsXHJcblx0XHRcdFx0a2V5OiBcInRpdGxlXCIsXHJcblx0XHRcdFx0ZGVmYXVsdDogXCJUaXRsZVwiLFxyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0e1xyXG5cdFx0XHRcdHR5cGU6IFwicHJvcGVydHlcIixcclxuXHRcdFx0XHRkaXNwbGF5TmFtZTogXCJYIGNvb3JkaW5hdGUgcHJvcGVydHlcIixcclxuXHRcdFx0XHRrZXk6IFwieFByb3BlcnR5XCIsXHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6IFwiZS5nLiBpbXBvcnRhbmNlXCIsXHJcblx0XHRcdFx0ZmlsdGVyOiBwbHVnaW4ucHJvcGVydHlUeXBlcy5jcmVhdGVGaWx0ZXIoSW5mZXJyZWRQcm9wZXJ0eVR5cGUuTnVtYmVyKSxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHR5cGU6IFwicHJvcGVydHlcIixcclxuXHRcdFx0XHRkaXNwbGF5TmFtZTogXCJZIGNvb3JkaW5hdGUgcHJvcGVydHlcIixcclxuXHRcdFx0XHRrZXk6IFwieVByb3BlcnR5XCIsXHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6IFwiZS5nLiB1cmdlbmN5XCIsXHJcblx0XHRcdFx0ZmlsdGVyOiBwbHVnaW4ucHJvcGVydHlUeXBlcy5jcmVhdGVGaWx0ZXIoSW5mZXJyZWRQcm9wZXJ0eVR5cGUuTnVtYmVyKSxcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0eXBlOiBcImdyb3VwXCIsXHJcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiQXhpcyBsYWJlbHNcIixcclxuXHRcdFx0XHRpdGVtczogW1xyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcclxuXHRcdFx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiWC1heGlzIGxlZnQgbGFiZWxcIixcclxuXHRcdFx0XHRcdFx0a2V5OiBcInhBeGlzTGFiZWxMZWZ0XCIsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcclxuXHRcdFx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiWC1heGlzIHJpZ2h0IGxhYmVsIChyZXF1aXJlcyBsZWZ0KVwiLFxyXG5cdFx0XHRcdFx0XHRrZXk6IFwieEF4aXNMYWJlbFJpZ2h0XCIsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcclxuXHRcdFx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiWS1heGlzIGJvdHRvbSBsYWJlbFwiLFxyXG5cdFx0XHRcdFx0XHRrZXk6IFwieUF4aXNMYWJlbEJvdHRvbVwiLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXHJcblx0XHRcdFx0XHRcdGRpc3BsYXlOYW1lOiBcIlktYXhpcyB0b3AgbGFiZWwgKHJlcXVpcmVzIGJvdHRvbSlcIixcclxuXHRcdFx0XHRcdFx0a2V5OiBcInlBeGlzTGFiZWxUb3BcIixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0eXBlOiBcImdyb3VwXCIsXHJcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiUXVhZHJhbnQgbGFiZWxzXCIsXHJcblx0XHRcdFx0aXRlbXM6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXHJcblx0XHRcdFx0XHRcdGRpc3BsYXlOYW1lOiBcIlRvcC1sZWZ0IHF1YWRyYW50IGxhYmVsXCIsXHJcblx0XHRcdFx0XHRcdGtleTogXCJxdWFkcmFudExhYmVsVG9wTGVmdFwiLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXHJcblx0XHRcdFx0XHRcdGRpc3BsYXlOYW1lOiBcIlRvcC1yaWdodCBxdWFkcmFudCBsYWJlbFwiLFxyXG5cdFx0XHRcdFx0XHRrZXk6IFwicXVhZHJhbnRMYWJlbFRvcFJpZ2h0XCIsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcclxuXHRcdFx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiQm90dG9tLWxlZnQgcXVhZHJhbnQgbGFiZWxcIixcclxuXHRcdFx0XHRcdFx0a2V5OiBcInF1YWRyYW50TGFiZWxCb3R0b21MZWZ0XCIsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcclxuXHRcdFx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiQm90dG9tLXJpZ2h0IHF1YWRyYW50IGxhYmVsXCIsXHJcblx0XHRcdFx0XHRcdGtleTogXCJxdWFkcmFudExhYmVsQm90dG9tUmlnaHRcIixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0eXBlOiBcImdyb3VwXCIsXHJcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiQXhpcyBSYW5nZXNcIixcclxuXHRcdFx0XHRpdGVtczogW1xyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcclxuXHRcdFx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiWC1taW5pbXVtIChvcHRpb25hbClcIixcclxuXHRcdFx0XHRcdFx0a2V5OiBcInhNaW5cIixcclxuXHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI6IFwibnVtYmVyIChkZWZhdWx0cyB0byBhdXRvbWF0aWMgZnJvbSBkYXRhKVwiLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXHJcblx0XHRcdFx0XHRcdGRpc3BsYXlOYW1lOiBcIlgtbWF4aW11bSAob3B0aW9uYWwpXCIsXHJcblx0XHRcdFx0XHRcdGtleTogXCJ4TWF4XCIsXHJcblx0XHRcdFx0XHRcdHBsYWNlaG9sZGVyOiBcIm51bWJlciAoZGVmYXVsdHMgdG8gYXV0b21hdGljIGZyb20gZGF0YSlcIixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxyXG5cdFx0XHRcdFx0XHRkaXNwbGF5TmFtZTogXCJZLW1pbmltdW0gKG9wdGlvbmFsKVwiLFxyXG5cdFx0XHRcdFx0XHRrZXk6IFwieU1pblwiLFxyXG5cdFx0XHRcdFx0XHRwbGFjZWhvbGRlcjogXCJudW1iZXIgKGRlZmF1bHRzIHRvIGF1dG9tYXRpYyBmcm9tIGRhdGEpXCIsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcclxuXHRcdFx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiWS1tYXhpbXVtIChvcHRpb25hbClcIixcclxuXHRcdFx0XHRcdFx0a2V5OiBcInlNYXhcIixcclxuXHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI6IFwibnVtYmVyIChkZWZhdWx0cyB0byBhdXRvbWF0aWMgZnJvbSBkYXRhKVwiLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0e1xyXG5cdFx0XHRcdHR5cGU6IFwidG9nZ2xlXCIsXHJcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiU2hvdyBwcm9wZXJ0eSBuYW1lc1wiLFxyXG5cdFx0XHRcdGtleTogXCJzaG93UHJvcGVydHlOYW1lc1wiLFxyXG5cdFx0XHRcdGRlZmF1bHQ6IHRydWUsXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0eXBlOiBcIm11bHRpdGV4dFwiLFxyXG5cdFx0XHRcdGRpc3BsYXlOYW1lOiBgR3JvdXBpbmcgcGFsZXR0ZSAoaGV4IGNvbG9ycyBlLmcuIFwiI2ZmMDAwMFwiKWAsXHJcblx0XHRcdFx0a2V5OiBcImdyb3VwaW5nUGFsZXR0ZVwiLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXHJcblx0XHRcdFx0ZGlzcGxheU5hbWU6IFwiTWVybWFpZCBDb25maWcgT3ZlcnJpZGUgRGlyZWN0aXZlIChvcHRpb25hbClcIixcclxuXHRcdFx0XHRrZXk6IFwibWVybWFpZENvbmZpZ092ZXJyaWRlRGlyZWN0aXZlXCIsXHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6IGAlJXtpbml0OiB7IFwibG9va1wiOiBcImhhbmREcmF3blwiLCBcInRoZW1lXCI6IFwibmV1dHJhbFwiIH19JSVgLFxyXG5cdFx0XHR9LFxyXG5cdFx0XSxcclxuXHR9O1xyXG5cclxuXHRwcm90ZWN0ZWQgYXN5bmMgcmVuZGVyKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cclxuXHRcdGNvbnN0IHhQcm9wZXJ0eUlkID0gdGhpcy5jb25maWcuZ2V0QXNQcm9wZXJ0eUlkKFwieFByb3BlcnR5XCIpO1xyXG5cdFx0Y29uc3QgeVByb3BlcnR5SWQgPSB0aGlzLmNvbmZpZy5nZXRBc1Byb3BlcnR5SWQoXCJ5UHJvcGVydHlcIik7XHJcblxyXG5cdFx0Y29uc3Qgc2hvd1Byb3BlcnR5TmFtZXMgPSB0aGlzLmdldENvbmZpZ1ZhbHVlPGJvb2xlYW4+KFwic2hvd1Byb3BlcnR5TmFtZXNcIik7XHJcblxyXG5cdFx0aWYgKCF4UHJvcGVydHlJZCB8fCAheVByb3BlcnR5SWQpIHtcclxuXHRcdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoe3RleHQ6IFwiQ29uZmlndXJlIG51bWVyaWMgWCBhbmQgWSBwcm9wZXJ0aWVzIGluIHRoZSB2aWV3IHNldHRpbmdzLlwifSk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYXdQYWxldHRlID0gdGhpcy5nZXRDb25maWdWYWx1ZTxzdHJpbmdbXT4oXCJncm91cGluZ1BhbGV0dGVcIiwgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdEdyb3VwaW5nUGFsZXR0ZSk7XHJcblxyXG5cdFx0Y29uc3QgcGFsZXR0ZSA9XHJcblx0XHRcdEFycmF5LmlzQXJyYXkocmF3UGFsZXR0ZSlcclxuXHRcdFx0XHQ/IHJhd1BhbGV0dGVcclxuXHRcdFx0XHRcdC5tYXAoKHYpID0+IHY/LnRvU3RyaW5nKCkudHJpbSgpKVxyXG5cdFx0XHRcdFx0LmZpbHRlcigodikgPT4gdiAmJiB2Lmxlbmd0aCA+IDApXHJcblx0XHRcdFx0OiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0R3JvdXBpbmdQYWxldHRlO1xyXG5cclxuXHRcdGlmICghQXJyYXkuaXNBcnJheShyYXdQYWxldHRlKSB8fCBwYWxldHRlLmxlbmd0aCA9PT0gMClcclxuXHRcdFx0cGFsZXR0ZS5zcGxpY2UoMCwgcGFsZXR0ZS5sZW5ndGgsIC4uLnRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRHcm91cGluZ1BhbGV0dGUpO1xyXG5cclxuXHRcdGNvbnN0IGdyb3VwcyA9IHRoaXMuZGF0YS5ncm91cGVkRGF0YTtcclxuXHRcdGNvbnN0IGdyb3VwaW5nRW5hYmxlZCA9IGdyb3Vwcy5sZW5ndGggPiAxIHx8IChncm91cHMubGVuZ3RoID09PSAxICYmIGdyb3Vwc1swXS5rZXkgIT09IHVuZGVmaW5lZCk7XHJcblxyXG5cdFx0Y29uc3Qge1xyXG5cdFx0XHRwb2ludHMsXHJcblx0XHRcdG1pblg6IGRhdGFNaW5YLFxyXG5cdFx0XHRtYXhYOiBkYXRhTWF4WCxcclxuXHRcdFx0bWluWTogZGF0YU1pblksXHJcblx0XHRcdG1heFk6IGRhdGFNYXhZLFxyXG5cdFx0fSA9IHRoaXMuY29sbGVjdFBvaW50c0Zyb21Hcm91cHMoZ3JvdXBzLCB4UHJvcGVydHlJZCwgeVByb3BlcnR5SWQsIHNob3dQcm9wZXJ0eU5hbWVzLCBwYWxldHRlLCBncm91cGluZ0VuYWJsZWQpO1xyXG5cclxuXHRcdGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KHt0ZXh0OiBcIk5vIG51bWVyaWMgZGF0YSBmb3VuZCBmb3IgdGhlIHNlbGVjdGVkIFgvWSBwcm9wZXJ0aWVzLlwifSk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQge21pblgsIG1heFgsIG1pblksIG1heFl9ID0gdGhpcy5hcHBseUF4aXNPdmVycmlkZXMoZGF0YU1pblgsIGRhdGFNYXhYLCBkYXRhTWluWSwgZGF0YU1heFkpO1xyXG5cclxuXHRcdC8vIEF2b2lkIHplcm8gcmFuZ2UgKHdvdWxkIGNhdXNlIGRpdmlzaW9uIGJ5IHplcm8gd2hlbiBub3JtYWxpemluZylcclxuXHRcdGlmIChtaW5YID09PSBtYXhYKSB7XHJcblx0XHRcdG1pblggLT0gMTtcclxuXHRcdFx0bWF4WCArPSAxO1xyXG5cdFx0fVxyXG5cdFx0aWYgKG1pblkgPT09IG1heFkpIHtcclxuXHRcdFx0bWluWSAtPSAxO1xyXG5cdFx0XHRtYXhZICs9IDE7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgbm9ybWFsaXplZFBvaW50cyA9IHRoaXMubm9ybWFsaXplUG9pbnRzKHBvaW50cywgbWluWCwgbWF4WCwgbWluWSwgbWF4WSk7XHJcblxyXG5cdFx0Y29uc3QgbWVybWFpZENvZGUgPSB0aGlzLmJ1aWxkTWVybWFpZENvZGUobm9ybWFsaXplZFBvaW50cyk7XHJcblxyXG5cdFx0YXdhaXQgdGhpcy5yZW5kZXJNZXJtYWlkKG1lcm1haWRDb2RlLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5xdWFkcmFudENoYXJ0TWVybWFpZENvbmZpZyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNvbGxlY3RQb2ludHNGcm9tR3JvdXBzKFxyXG5cdFx0Z3JvdXBzOiBCYXNlc0VudHJ5R3JvdXBbXSxcclxuXHRcdHhQcm9wZXJ0eUlkOiBCYXNlc1Byb3BlcnR5SWQsXHJcblx0XHR5UHJvcGVydHlJZDogQmFzZXNQcm9wZXJ0eUlkLFxyXG5cdFx0c2hvd1Byb3BlcnR5TmFtZXM6IGJvb2xlYW4sXHJcblx0XHRwYWxldHRlOiBzdHJpbmdbXSxcclxuXHRcdGdyb3VwaW5nRW5hYmxlZDogYm9vbGVhbixcclxuXHQpOiB7XHJcblx0XHRwb2ludHM6IFBvaW50W107XHJcblx0XHRtaW5YOiBudW1iZXI7XHJcblx0XHRtYXhYOiBudW1iZXI7XHJcblx0XHRtaW5ZOiBudW1iZXI7XHJcblx0XHRtYXhZOiBudW1iZXI7XHJcblx0fSB7XHJcblx0XHRjb25zdCBwb2ludHM6IFBvaW50W10gPSBbXTtcclxuXHJcblx0XHRsZXQgbWluWCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcclxuXHRcdGxldCBtYXhYID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xyXG5cdFx0bGV0IG1pblkgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XHJcblx0XHRsZXQgbWF4WSA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcclxuXHJcblx0XHRmb3IgKGxldCBnaSA9IDA7IGdpIDwgZ3JvdXBzLmxlbmd0aDsgZ2krKykge1xyXG5cdFx0XHRjb25zdCBncm91cCA9IGdyb3Vwc1tnaV07XHJcblx0XHRcdGNvbnN0IGdyb3VwQ29sb3IgPSBncm91cGluZ0VuYWJsZWQgPyBwYWxldHRlW2dpICUgcGFsZXR0ZS5sZW5ndGhdIDogXCJcIjtcclxuXHJcblx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgZ3JvdXAuZW50cmllcykge1xyXG5cdFx0XHRcdGNvbnN0IHhWYWx1ZSA9IGVudHJ5LmdldFZhbHVlKHhQcm9wZXJ0eUlkKTtcclxuXHRcdFx0XHRjb25zdCB5VmFsdWUgPSBlbnRyeS5nZXRWYWx1ZSh5UHJvcGVydHlJZCk7XHJcblxyXG5cdFx0XHRcdGlmICgheFZhbHVlIHx8ICF5VmFsdWUpXHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdFx0Y29uc3QgeE51bWJlciA9IE51bWJlcih4VmFsdWUudG9TdHJpbmcoKSk7XHJcblx0XHRcdFx0Y29uc3QgeU51bWJlciA9IE51bWJlcih5VmFsdWUudG9TdHJpbmcoKSk7XHJcblx0XHRcdFx0aWYgKCFOdW1iZXIuaXNGaW5pdGUoeE51bWJlcikgfHwgIU51bWJlci5pc0Zpbml0ZSh5TnVtYmVyKSlcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0XHRjb25zdCBsYWJlbCA9IHRoaXMuZ2V0TGFiZWxXaXRoUHJvcGVydGllcyhlbnRyeS5maWxlLCBzaG93UHJvcGVydHlOYW1lcywgXCIsIFwiLCBcIlx1MDJEMFwiKTtcclxuXHJcblx0XHRcdFx0cG9pbnRzLnB1c2goe2xhYmVsLCB4OiB4TnVtYmVyLCB5OiB5TnVtYmVyLCBjb2xvcjogZ3JvdXBDb2xvcn0pO1xyXG5cclxuXHRcdFx0XHRpZiAoeE51bWJlciA8IG1pblgpXHJcblx0XHRcdFx0XHRtaW5YID0geE51bWJlcjtcclxuXHRcdFx0XHRpZiAoeE51bWJlciA+IG1heFgpXHJcblx0XHRcdFx0XHRtYXhYID0geE51bWJlcjtcclxuXHRcdFx0XHRpZiAoeU51bWJlciA8IG1pblkpXHJcblx0XHRcdFx0XHRtaW5ZID0geU51bWJlcjtcclxuXHRcdFx0XHRpZiAoeU51bWJlciA+IG1heFkpXHJcblx0XHRcdFx0XHRtYXhZID0geU51bWJlcjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB7cG9pbnRzLCBtaW5YLCBtYXhYLCBtaW5ZLCBtYXhZfTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXBwbHlBeGlzT3ZlcnJpZGVzKFxyXG5cdFx0bWluWDogbnVtYmVyLFxyXG5cdFx0bWF4WDogbnVtYmVyLFxyXG5cdFx0bWluWTogbnVtYmVyLFxyXG5cdFx0bWF4WTogbnVtYmVyLFxyXG5cdCk6IHsgbWluWDogbnVtYmVyOyBtYXhYOiBudW1iZXI7IG1pblk6IG51bWJlcjsgbWF4WTogbnVtYmVyIH0ge1xyXG5cclxuXHRcdC8vIEF1dG8gcmFuZ2UgaWYgb3ZlcnJpZGVzIG5vdCBzZXRcclxuXHRcdGNvbnN0IGluZmluaXR5ID0gSW5maW5pdHkudG9TdHJpbmcoKTtcclxuXHRcdGNvbnN0IG1pblhDb25maWdPdmVycmlkZSA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8c3RyaW5nPihcInhNaW5cIiwgaW5maW5pdHkpLnRyaW0oKTtcclxuXHRcdGNvbnN0IG1heFhDb25maWdPdmVycmlkZSA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8c3RyaW5nPihcInhNYXhcIiwgaW5maW5pdHkpLnRyaW0oKTtcclxuXHRcdGNvbnN0IG1pbllDb25maWdPdmVycmlkZSA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8c3RyaW5nPihcInlNaW5cIiwgaW5maW5pdHkpLnRyaW0oKTtcclxuXHRcdGNvbnN0IG1heFlDb25maWdPdmVycmlkZSA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8c3RyaW5nPihcInlNYXhcIiwgaW5maW5pdHkpLnRyaW0oKTtcclxuXHJcblx0XHRpZiAobWluWENvbmZpZ092ZXJyaWRlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Y29uc3QgdmFsdWUgPSBOdW1iZXIobWluWENvbmZpZ092ZXJyaWRlKTtcclxuXHRcdFx0aWYgKE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpXHJcblx0XHRcdFx0bWluWCA9IHZhbHVlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKG1heFhDb25maWdPdmVycmlkZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGNvbnN0IHZhbHVlID0gTnVtYmVyKG1heFhDb25maWdPdmVycmlkZSk7XHJcblx0XHRcdGlmIChOdW1iZXIuaXNGaW5pdGUodmFsdWUpKVxyXG5cdFx0XHRcdG1heFggPSB2YWx1ZTtcclxuXHRcdH1cclxuXHRcdGlmIChtaW5ZQ29uZmlnT3ZlcnJpZGUubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IE51bWJlcihtaW5ZQ29uZmlnT3ZlcnJpZGUpO1xyXG5cdFx0XHRpZiAoTnVtYmVyLmlzRmluaXRlKHZhbHVlKSlcclxuXHRcdFx0XHRtaW5ZID0gdmFsdWU7XHJcblx0XHR9XHJcblx0XHRpZiAobWF4WUNvbmZpZ092ZXJyaWRlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Y29uc3QgdmFsdWUgPSBOdW1iZXIobWF4WUNvbmZpZ092ZXJyaWRlKTtcclxuXHRcdFx0aWYgKE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpXHJcblx0XHRcdFx0bWF4WSA9IHZhbHVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB7bWluWCwgbWF4WCwgbWluWSwgbWF4WX07XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIG5vcm1hbGl6ZVBvaW50cyhwb2ludHM6IFBvaW50W10sIG1pblg6IG51bWJlciwgbWF4WDogbnVtYmVyLCBtaW5ZOiBudW1iZXIsIG1heFk6IG51bWJlcik6IFBvaW50W10ge1xyXG5cdFx0cmV0dXJuIHBvaW50cy5tYXAoKHBvaW50KSA9PiB7XHJcblx0XHRcdGNvbnN0IG5vcm1hbGl6ZWRYID0gKHBvaW50LnggLSBtaW5YKSAvIChtYXhYIC0gbWluWCk7XHJcblx0XHRcdGNvbnN0IG5vcm1hbGl6ZWRZID0gKHBvaW50LnkgLSBtaW5ZKSAvIChtYXhZIC0gbWluWSk7XHJcblxyXG5cdFx0XHRjb25zdCBjbGFtcGVkWCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIG5vcm1hbGl6ZWRYKSk7XHJcblx0XHRcdGNvbnN0IGNsYW1wZWRZID0gTWF0aC5taW4oMSwgTWF0aC5tYXgoMCwgbm9ybWFsaXplZFkpKTtcclxuXHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0bGFiZWw6IHBvaW50LmxhYmVsLFxyXG5cdFx0XHRcdHg6IGNsYW1wZWRYLFxyXG5cdFx0XHRcdHk6IGNsYW1wZWRZLFxyXG5cdFx0XHRcdGNvbG9yOiBwb2ludC5jb2xvcixcclxuXHRcdFx0fTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBidWlsZE1lcm1haWRDb2RlKG5vcm1hbGl6ZWRQb2ludHM6IFBvaW50W10pOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgdGl0bGUgPSB0aGlzLmdldENvbmZpZ1ZhbHVlPHN0cmluZz4oXCJ0aXRsZVwiKTtcclxuXHJcblx0XHRsZXQgeEF4aXNMYWJlbHM6IHN0cmluZyA9IFwiXCI7XHJcblx0XHRjb25zdCB4QXhpc0xhYmVsTGVmdCA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8c3RyaW5nPihcInhBeGlzTGFiZWxMZWZ0XCIsIFwiXCIpO1xyXG5cdFx0Y29uc3QgeEF4aXNMYWJlbFJpZ2h0ID0gdGhpcy5nZXRDb25maWdWYWx1ZTxzdHJpbmc+KFwieEF4aXNMYWJlbFJpZ2h0XCIsIFwiXCIpO1xyXG5cdFx0aWYgKHhBeGlzTGFiZWxMZWZ0KVxyXG5cdFx0XHR4QXhpc0xhYmVscyA9IHhBeGlzTGFiZWxMZWZ0O1xyXG5cdFx0aWYgKHhBeGlzTGFiZWxSaWdodCAmJiB4QXhpc0xhYmVscylcclxuXHRcdFx0eEF4aXNMYWJlbHMgKz0gYCAtLT4gJHt4QXhpc0xhYmVsUmlnaHR9YDtcclxuXHJcblx0XHRsZXQgeUF4aXNMYWJlbHM6IHN0cmluZyA9IFwiXCI7XHJcblx0XHRjb25zdCB5QXhpc0xhYmVsQm90dG9tID0gdGhpcy5nZXRDb25maWdWYWx1ZTxzdHJpbmc+KFwieUF4aXNMYWJlbEJvdHRvbVwiLCBcIlwiKTtcclxuXHRcdGNvbnN0IHlBeGlzTGFiZWxUb3AgPSB0aGlzLmdldENvbmZpZ1ZhbHVlPHN0cmluZz4oXCJ5QXhpc0xhYmVsVG9wXCIsIFwiXCIpO1xyXG5cdFx0aWYgKHlBeGlzTGFiZWxCb3R0b20pXHJcblx0XHRcdHlBeGlzTGFiZWxzID0geUF4aXNMYWJlbEJvdHRvbTtcclxuXHRcdGlmICh5QXhpc0xhYmVsVG9wICYmIHlBeGlzTGFiZWxzKVxyXG5cdFx0XHR5QXhpc0xhYmVscyArPSBgIC0tPiAke3lBeGlzTGFiZWxUb3B9YDtcclxuXHJcblx0XHRjb25zdCBxdWFkcmFudExhYmVsVG9wTGVmdCA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8c3RyaW5nPihcInF1YWRyYW50TGFiZWxUb3BMZWZ0XCIsIFwiXCIpO1xyXG5cdFx0Y29uc3QgcXVhZHJhbnRMYWJlbFRvcFJpZ2h0ID0gdGhpcy5nZXRDb25maWdWYWx1ZTxzdHJpbmc+KFwicXVhZHJhbnRMYWJlbFRvcFJpZ2h0XCIsIFwiXCIpO1xyXG5cdFx0Y29uc3QgcXVhZHJhbnRMYWJlbEJvdHRvbUxlZnQgPSB0aGlzLmdldENvbmZpZ1ZhbHVlPHN0cmluZz4oXCJxdWFkcmFudExhYmVsQm90dG9tTGVmdFwiLCBcIlwiKTtcclxuXHRcdGNvbnN0IHF1YWRyYW50TGFiZWxCb3R0b21SaWdodCA9IHRoaXMuZ2V0Q29uZmlnVmFsdWU8c3RyaW5nPihcInF1YWRyYW50TGFiZWxCb3R0b21SaWdodFwiLCBcIlwiKTtcclxuXHJcblx0XHRjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcclxuXHRcdGxpbmVzLnB1c2goXCJxdWFkcmFudENoYXJ0XCIpO1xyXG5cdFx0aWYgKHRpdGxlKVxyXG5cdFx0XHRsaW5lcy5wdXNoKGAgICAgdGl0bGUgJHt0aXRsZX1gKTtcclxuXHRcdGlmICh4QXhpc0xhYmVscylcclxuXHRcdFx0bGluZXMucHVzaChgICAgIHgtYXhpcyAke3hBeGlzTGFiZWxzfWApO1xyXG5cdFx0aWYgKHlBeGlzTGFiZWxzKVxyXG5cdFx0XHRsaW5lcy5wdXNoKGAgICAgeS1heGlzICR7eUF4aXNMYWJlbHN9YCk7XHJcblx0XHRpZiAocXVhZHJhbnRMYWJlbFRvcFJpZ2h0KVxyXG5cdFx0XHRsaW5lcy5wdXNoKGAgICAgcXVhZHJhbnQtMSBcIiR7cXVhZHJhbnRMYWJlbFRvcFJpZ2h0fVwiYCk7XHJcblx0XHRpZiAocXVhZHJhbnRMYWJlbFRvcExlZnQpXHJcblx0XHRcdGxpbmVzLnB1c2goYCAgICBxdWFkcmFudC0yIFwiJHtxdWFkcmFudExhYmVsVG9wTGVmdH1cImApO1xyXG5cdFx0aWYgKHF1YWRyYW50TGFiZWxCb3R0b21MZWZ0KVxyXG5cdFx0XHRsaW5lcy5wdXNoKGAgICAgcXVhZHJhbnQtMyBcIiR7cXVhZHJhbnRMYWJlbEJvdHRvbUxlZnR9XCJgKTtcclxuXHRcdGlmIChxdWFkcmFudExhYmVsQm90dG9tUmlnaHQpXHJcblx0XHRcdGxpbmVzLnB1c2goYCAgICBxdWFkcmFudC00IFwiJHtxdWFkcmFudExhYmVsQm90dG9tUmlnaHR9XCJgKTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IHBvaW50IG9mIG5vcm1hbGl6ZWRQb2ludHMpIHtcclxuXHRcdFx0aWYgKHBvaW50LmNvbG9yKVxyXG5cdFx0XHRcdGxpbmVzLnB1c2goYCAgICBcIiR7cG9pbnQubGFiZWx9XCI6IFske3BvaW50Lnh9LCAke3BvaW50Lnl9XSBjb2xvcjogJHtwb2ludC5jb2xvcn1gKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGxpbmVzLnB1c2goYCAgICBcIiR7cG9pbnQubGFiZWx9XCI6IFske3BvaW50Lnh9LCAke3BvaW50Lnl9XWApO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGxpbmVzLmpvaW4oXCJcXG5cIik7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQge1F1ZXJ5Q29udHJvbGxlcn0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IE1lcm1haWRCYXNlVmlld0Jhc2UgfSBmcm9tIFwiLi4vdmlld3MvTWVybWFpZEJhc2VWaWV3QmFzZVwiO1xyXG5pbXBvcnQge01lcm1haWRWaWV3UmVnaXN0cmF0aW9uRGF0YX0gZnJvbSBcIi4vTWVybWFpZFZpZXdSZWdpc3RyYXRpb25EYXRhXCI7XHJcbmltcG9ydCB7TWVybWFpZEZsb3djaGFydEJhc2VWaWV3fSBmcm9tIFwiLi4vdmlld3MvTWVybWFpZEZsb3djaGFydEJhc2VWaWV3XCI7XHJcbmltcG9ydCB7TWVybWFpZE1pbmRtYXBCYXNlVmlld30gZnJvbSBcIi4uL3ZpZXdzL01lcm1haWRNaW5kbWFwQmFzZVZpZXdcIjtcclxuaW1wb3J0IHtNZXJtYWlkVGltZWxpbmVCYXNlVmlld30gZnJvbSBcIi4uL3ZpZXdzL01lcm1haWRUaW1lbGluZUJhc2VWaWV3XCI7XHJcbmltcG9ydCB7TWVybWFpZFNhbmtleUJhc2VWaWV3fSBmcm9tIFwiLi4vdmlld3MvTWVybWFpZFNhbmtleUJhc2VWaWV3XCI7XHJcbi8vIGltcG9ydCB7TWVybWFpZFJhZGFyQ2hhcnRCYXNlVmlld30gZnJvbSBcIi4uL3ZpZXdzL01lcm1haWRSYWRhckNoYXJ0QmFzZVZpZXdcIjtcclxuaW1wb3J0IHsgTWVybWFpZFBpZUNoYXJ0QmFzZVZpZXcgfSBmcm9tIFwiLi4vdmlld3MvTWVybWFpZFBpZUNoYXJ0QmFzZVZpZXdcIjtcclxuaW1wb3J0IHsgTWVybWFpZFhZQ2hhcnRCYXNlVmlldyB9IGZyb20gXCIuLi92aWV3cy9NZXJtYWlkWFlDaGFydEJhc2VWaWV3XCI7XHJcbmltcG9ydCB7TWVybWFpZFF1YWRyYW50Q2hhcnRCYXNlVmlld30gZnJvbSBcIi4uL3ZpZXdzL01lcm1haWRRdWFkcmFudENoYXJ0QmFzZVZpZXdcIjtcclxuaW1wb3J0IE1lcm1haWRCYXNlVmlld3MgZnJvbSBcIi4uLy4uL21haW5cIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckFsbE1lcm1haWRWaWV3cyhwbHVnaW46IE1lcm1haWRCYXNlVmlld3MpOiB2b2lkIHtcclxuXHRyZWdpc3Rlck1lcm1haWRWaWV3KHBsdWdpbiwgTWVybWFpZEZsb3djaGFydEJhc2VWaWV3LCBNZXJtYWlkRmxvd2NoYXJ0QmFzZVZpZXcuUmVnaXN0cmF0aW9uRGF0YSk7XHJcblx0cmVnaXN0ZXJNZXJtYWlkVmlldyhwbHVnaW4sIE1lcm1haWRNaW5kbWFwQmFzZVZpZXcsIE1lcm1haWRNaW5kbWFwQmFzZVZpZXcuUmVnaXN0cmF0aW9uRGF0YSk7XHJcblx0cmVnaXN0ZXJNZXJtYWlkVmlldyhwbHVnaW4sIE1lcm1haWRUaW1lbGluZUJhc2VWaWV3LCBNZXJtYWlkVGltZWxpbmVCYXNlVmlldy5SZWdpc3RyYXRpb25EYXRhKTtcclxuXHRyZWdpc3Rlck1lcm1haWRWaWV3KHBsdWdpbiwgTWVybWFpZFNhbmtleUJhc2VWaWV3LCBNZXJtYWlkU2Fua2V5QmFzZVZpZXcuUmVnaXN0cmF0aW9uRGF0YSk7XHJcblx0Ly8gcmVnaXN0ZXJNZXJtYWlkVmlldyhwbHVnaW4sIE1lcm1haWRSYWRhckNoYXJ0QmFzZVZpZXcpOy8vcmVxdWlyZXMgbWVybWFpZCB2MTEuNi4wK1xyXG5cdHJlZ2lzdGVyTWVybWFpZFZpZXcocGx1Z2luLCBNZXJtYWlkUGllQ2hhcnRCYXNlVmlldywgTWVybWFpZFBpZUNoYXJ0QmFzZVZpZXcuUmVnaXN0cmF0aW9uRGF0YSk7XHJcblx0cmVnaXN0ZXJNZXJtYWlkVmlldyhwbHVnaW4sIE1lcm1haWRYWUNoYXJ0QmFzZVZpZXcsIE1lcm1haWRYWUNoYXJ0QmFzZVZpZXcuUmVnaXN0cmF0aW9uRGF0YSk7XHJcblx0cmVnaXN0ZXJNZXJtYWlkVmlldyhwbHVnaW4sIE1lcm1haWRRdWFkcmFudENoYXJ0QmFzZVZpZXcsIE1lcm1haWRRdWFkcmFudENoYXJ0QmFzZVZpZXcuUmVnaXN0cmF0aW9uRGF0YSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlck1lcm1haWRWaWV3KFxyXG5cdHBsdWdpbjogTWVybWFpZEJhc2VWaWV3cyxcclxuXHRWaWV3OiBuZXcgKGNvbnRyb2xsZXI6IFF1ZXJ5Q29udHJvbGxlciwgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LCBwbHVnaW46IE1lcm1haWRCYXNlVmlld3MpID0+IE1lcm1haWRCYXNlVmlld0Jhc2UsXHJcblx0cmVnaXN0cmF0aW9uRGF0YTogTWVybWFpZFZpZXdSZWdpc3RyYXRpb25EYXRhLFxyXG4pOiB2b2lkIHtcclxuXHRwbHVnaW4ucmVnaXN0ZXJCYXNlc1ZpZXcocmVnaXN0cmF0aW9uRGF0YS5pZCwge1xyXG5cdFx0bmFtZTogcmVnaXN0cmF0aW9uRGF0YS5uYW1lLFxyXG5cdFx0aWNvbjogcmVnaXN0cmF0aW9uRGF0YS5pY29uLFxyXG5cdFx0ZmFjdG9yeTogKGNvbnRyb2xsZXIsIGNvbnRhaW5lckVsKSA9PlxyXG5cdFx0XHRuZXcgVmlldyhjb250cm9sbGVyLCBjb250YWluZXJFbCwgcGx1Z2luKSxcclxuXHRcdG9wdGlvbnM6ICgpID0+IHJlZ2lzdHJhdGlvbkRhdGEuZ2V0T3B0aW9ucyhwbHVnaW4pLFxyXG5cdH0pO1xyXG59XHJcbiIsICJpbXBvcnQge1xyXG5cdEJhc2VzUHJvcGVydHlJZCxcclxuXHRwYXJzZVByb3BlcnR5SWQsXHJcbn0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7SW5mZXJyZWRQcm9wZXJ0eVR5cGV9IGZyb20gXCIuL0luZmVycmVkUHJvcGVydHlUeXBlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvcGVydHlUeXBlUmVnaXN0cnkge1xyXG5cclxuICAgIHByaXZhdGUgZmlsdGVyKHByb3BlcnR5SWQ6IEJhc2VzUHJvcGVydHlJZCwgLi4ucHJvcGVydHlUeXBlczogSW5mZXJyZWRQcm9wZXJ0eVR5cGVbXSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IHByb3BlcnR5ICA9IHBhcnNlUHJvcGVydHlJZChwcm9wZXJ0eUlkKTtcclxuXHJcbiAgICAgICAgaWYocHJvcGVydHkudHlwZSA9PT0gXCJmb3JtdWxhXCIpXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5VHlwZSBvZiBwcm9wZXJ0eVR5cGVzKSB7XHJcbiAgICAgICAgICAgIGlmKHByb3BlcnR5VHlwZSA9PSBJbmZlcnJlZFByb3BlcnR5VHlwZS5EYXRlICYmIHByb3BlcnR5LnR5cGUgPT09IFwiZmlsZVwiICYmIChwcm9wZXJ0eS5uYW1lICE9PSBcImN0aW1lXCIgJiYgcHJvcGVydHkubmFtZSAhPT0gXCJtdGltZVwiKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgaWYocHJvcGVydHlUeXBlID09IEluZmVycmVkUHJvcGVydHlUeXBlLk51bWJlciAmJiBwcm9wZXJ0eS50eXBlID09PSBcImZpbGVcIiAmJiBwcm9wZXJ0eS5uYW1lICE9PSBcInNpemVcIilcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vVE9ETzogZmlndXJlIG91dCBhIHNhZmUgJiBwZXJmb3JtYW50IHdheSB0byBkbyBtb3JlIHNvcGhpc3RpY2F0ZWQgZmlsdGVyaW5nXHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cdGNyZWF0ZUZpbHRlciguLi50eXBlczogSW5mZXJyZWRQcm9wZXJ0eVR5cGVbXSkge1xyXG5cdFx0cmV0dXJuIChwcm9wZXJ0eUlkOiBCYXNlc1Byb3BlcnR5SWQpID0+IHRoaXMuZmlsdGVyKHByb3BlcnR5SWQsIC4uLnR5cGVzKTtcclxuXHR9XHJcbn1cclxuIiwgImV4cG9ydCBpbnRlcmZhY2UgTWVybWFpZEJhc2VWaWV3c1NldHRpbmdzIHtcblx0Z2VuZXJhbE1lcm1haWRDb25maWc6IHN0cmluZztcblx0Zmxvd2NoYXJ0TWVybWFpZENvbmZpZzogc3RyaW5nO1xuXHRtaW5kbWFwTWVybWFpZENvbmZpZzogc3RyaW5nO1xuXHRwaWVDaGFydE1lcm1haWRDb25maWc6IHN0cmluZztcblx0cXVhZHJhbnRDaGFydE1lcm1haWRDb25maWc6IHN0cmluZztcblx0cmFkYXJDaGFydE1lcm1haWRDb25maWc6IHN0cmluZztcblx0c2Fua2V5TWVybWFpZENvbmZpZzogc3RyaW5nO1xuXHR0aW1lbGluZU1lcm1haWRDb25maWc6IHN0cmluZztcblx0WFlDaGFydE1lcm1haWRDb25maWc6IHN0cmluZztcblxuXHRmbG93Y2hhcnRSZXN1bHRMaW1pdDogbnVtYmVyO1xuXHRtaW5kbWFwUmVzdWx0TGltaXQ6IG51bWJlcjtcblx0dGltZWxpbmVSZXN1bHRMaW1pdDogbnVtYmVyO1xuXG5cdGRlZmF1bHRHcm91cGluZ1BhbGV0dGU6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTWVybWFpZEJhc2VWaWV3c1NldHRpbmdzID0ge1xuXHRnZW5lcmFsTWVybWFpZENvbmZpZzogXCJcIixcblx0Zmxvd2NoYXJ0TWVybWFpZENvbmZpZzogXCJcIixcblx0bWluZG1hcE1lcm1haWRDb25maWc6IFwiXCIsXG5cdHBpZUNoYXJ0TWVybWFpZENvbmZpZzogXCJcIixcblx0cXVhZHJhbnRDaGFydE1lcm1haWRDb25maWc6IFwiXCIsXG5cdHJhZGFyQ2hhcnRNZXJtYWlkQ29uZmlnOiBcIlwiLFxuXHRzYW5rZXlNZXJtYWlkQ29uZmlnOiBcIlwiLFxuXHR0aW1lbGluZU1lcm1haWRDb25maWc6IFwiXCIsXG5cdFhZQ2hhcnRNZXJtYWlkQ29uZmlnOiBcIlwiLFxuXG5cdGZsb3djaGFydFJlc3VsdExpbWl0OiAxMDAsXG5cdG1pbmRtYXBSZXN1bHRMaW1pdDogMTAwLFxuXHR0aW1lbGluZVJlc3VsdExpbWl0OiAxMDAsXG5cblx0ZGVmYXVsdEdyb3VwaW5nUGFsZXR0ZTogW1xuXHRcdFwiIzRjNzhhOFwiLFxuXHRcdFwiI2Y1ODUxOFwiLFxuXHRcdFwiIzU0YTI0YlwiLFxuXHRcdFwiI2U0NTc1NlwiLFxuXHRcdFwiI2IyNzlhMlwiLFxuXHRcdFwiI2ZmOWRhNlwiLFxuXHRcdFwiIzljNzU1ZlwiLFxuXHRcdFwiI2JhYjBhYlwiLFxuXHRcdFwiIzU5YTE0ZlwiLFxuXHRcdFwiI2VkYzk0OFwiLFxuXHRdLFxufVxuIiwgImltcG9ydCB7QXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBNZXJtYWlkQmFzZVZpZXdzIGZyb20gXCIuLi8uLi9tYWluXCI7XG5pbXBvcnQge0RFRkFVTFRfU0VUVElOR1N9IGZyb20gXCIuL21lcm1haWRCYXNlVmlld3NTZXR0aW5nc1wiO1xuXG5leHBvcnQgY2xhc3MgR2VuZXJhbFNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBNZXJtYWlkQmFzZVZpZXdzO1xuXG5cdHByaXZhdGUgcGFsZXR0ZUNvbGxhcHNlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE1lcm1haWRCYXNlVmlld3MpIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdHRoaXMuYWRkTWVybWFpZEZyb250bWF0dGVyQ29uZmlnU2V0dGluZyhcblx0XHRcdGNvbnRhaW5lckVsLFxuXHRcdFx0XCJHZW5lcmFsIG1lcm1haWQgY29uZmlnXCIsXG5cdFx0XHRcIlRoZSBkZWZhdWx0IGZyb250bWF0dGVyIGNvbmZpZ3VyYXRpb24gZm9yIGV2ZXJ5dGhpbmcuIENhbiBiZSB1c2VkIHRvIGUuZy4gc2V0IGEgdGhlbWUuXCIsXG5cdFx0XHQoKSA9PiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZW5lcmFsTWVybWFpZENvbmZpZyxcblx0XHRcdHZhbHVlID0+IHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2VuZXJhbE1lcm1haWRDb25maWcgPSB2YWx1ZVxuXHRcdFx0fSxcblx0XHRcdERFRkFVTFRfU0VUVElOR1MuZ2VuZXJhbE1lcm1haWRDb25maWdcblx0XHQpO1xuXG5cdFx0dGhpcy5hZGRHcm91cGluZ0NvbG9yU2V0dGluZ3MoY29udGFpbmVyRWwpO1xuXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIkZsb3djaGFydFwiKS5zZXRIZWFkaW5nKCk7XG5cblx0XHR0aGlzLmFkZE1lcm1haWRGcm9udG1hdHRlckNvbmZpZ1NldHRpbmcoXG5cdFx0XHRjb250YWluZXJFbCxcblx0XHRcdFwiTWVybWFpZCBjb25maWdcIixcblx0XHRcdFwiVGhlIGRlZmF1bHQgZnJvbnRtYXR0ZXIgY29uZmlndXJhdGlvbiBmb3IgZXZlcnkgZmxvd2NoYXJ0IHZpZXcuXCIsXG5cdFx0XHQoKSA9PiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mbG93Y2hhcnRNZXJtYWlkQ29uZmlnLFxuXHRcdFx0dmFsdWUgPT4ge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mbG93Y2hhcnRNZXJtYWlkQ29uZmlnID0gdmFsdWVcblx0XHRcdH0sXG5cdFx0XHRERUZBVUxUX1NFVFRJTkdTLmZsb3djaGFydE1lcm1haWRDb25maWdcblx0XHQpO1xuXG5cdFx0dGhpcy5hZGRFbnRyeUxpbWl0Q29uZmlnU2V0dGluZyhcblx0XHRcdGNvbnRhaW5lckVsLFxuXHRcdFx0XCJSZXN1bHQgbGltaXRcIixcblx0XHRcdFwiVGhlIG1heGltdW0gYW1vdW50IG9mIGVudHJpZXMgdG8gZGlzcGxheS4gTmVlZGVkIGJlY2F1c2UgdGhpcyB2aWV3IHR5cGUgaXMgcGVyZm9ybWFuY2UgaGVhdnkuXCIsXG5cdFx0XHQoKSA9PiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mbG93Y2hhcnRSZXN1bHRMaW1pdCxcblx0XHRcdHZhbHVlID0+IHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZmxvd2NoYXJ0UmVzdWx0TGltaXQgPSB2YWx1ZVxuXHRcdFx0fSxcblx0XHRcdERFRkFVTFRfU0VUVElOR1MuZmxvd2NoYXJ0UmVzdWx0TGltaXRcblx0XHQpO1xuXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIk1pbmRtYXBcIikuc2V0SGVhZGluZygpO1xuXG5cdFx0dGhpcy5hZGRNZXJtYWlkRnJvbnRtYXR0ZXJDb25maWdTZXR0aW5nKFxuXHRcdFx0Y29udGFpbmVyRWwsXG5cdFx0XHRcIk1lcm1haWQgY29uZmlnXCIsXG5cdFx0XHRcIlRoZSBkZWZhdWx0IGZyb250bWF0dGVyIGNvbmZpZ3VyYXRpb24gZm9yIGV2ZXJ5IG1pbmRtYXAgdmlldy5cIixcblx0XHRcdCgpID0+IHRoaXMucGx1Z2luLnNldHRpbmdzLm1pbmRtYXBNZXJtYWlkQ29uZmlnLFxuXHRcdFx0dmFsdWUgPT4ge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5taW5kbWFwTWVybWFpZENvbmZpZyA9IHZhbHVlXG5cdFx0XHR9LFxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUy5taW5kbWFwTWVybWFpZENvbmZpZ1xuXHRcdCk7XG5cblx0XHR0aGlzLmFkZEVudHJ5TGltaXRDb25maWdTZXR0aW5nKFxuXHRcdFx0Y29udGFpbmVyRWwsXG5cdFx0XHRcIlJlc3VsdCBsaW1pdFwiLFxuXHRcdFx0XCJUaGUgbWF4aW11bSBhbW91bnQgb2YgZW50cmllcyB0byBkaXNwbGF5LiBOZWVkZWQgYmVjYXVzZSB0aGlzIHZpZXcgdHlwZSBpcyBwZXJmb3JtYW5jZSBoZWF2eS5cIixcblx0XHRcdCgpID0+IHRoaXMucGx1Z2luLnNldHRpbmdzLm1pbmRtYXBSZXN1bHRMaW1pdCxcblx0XHRcdHZhbHVlID0+IHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWluZG1hcFJlc3VsdExpbWl0ID0gdmFsdWVcblx0XHRcdH0sXG5cdFx0XHRERUZBVUxUX1NFVFRJTkdTLm1pbmRtYXBSZXN1bHRMaW1pdFxuXHRcdCk7XG5cblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKFwiVGltZWxpbmVcIikuc2V0SGVhZGluZygpO1xuXG5cdFx0dGhpcy5hZGRNZXJtYWlkRnJvbnRtYXR0ZXJDb25maWdTZXR0aW5nKFxuXHRcdFx0Y29udGFpbmVyRWwsXG5cdFx0XHRcIk1lcm1haWQgY29uZmlnXCIsXG5cdFx0XHRcIlRoZSBkZWZhdWx0IGZyb250bWF0dGVyIGNvbmZpZ3VyYXRpb24gZm9yIGV2ZXJ5IHRpbWVsaW5lIHZpZXcuXCIsXG5cdFx0XHQoKSA9PiB0aGlzLnBsdWdpbi5zZXR0aW5ncy50aW1lbGluZU1lcm1haWRDb25maWcsXG5cdFx0XHR2YWx1ZSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnRpbWVsaW5lTWVybWFpZENvbmZpZyA9IHZhbHVlXG5cdFx0XHR9LFxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUy50aW1lbGluZU1lcm1haWRDb25maWdcblx0XHQpO1xuXG5cdFx0dGhpcy5hZGRFbnRyeUxpbWl0Q29uZmlnU2V0dGluZyhcblx0XHRcdGNvbnRhaW5lckVsLFxuXHRcdFx0XCJSZXN1bHQgbGltaXRcIixcblx0XHRcdFwiVGhlIG1heGltdW0gYW1vdW50IG9mIGVudHJpZXMgdG8gZGlzcGxheS4gTmVlZGVkIGJlY2F1c2UgdGhpcyB2aWV3IHR5cGUgaXMgcGVyZm9ybWFuY2UgaGVhdnkuXCIsXG5cdFx0XHQoKSA9PiB0aGlzLnBsdWdpbi5zZXR0aW5ncy50aW1lbGluZVJlc3VsdExpbWl0LFxuXHRcdFx0dmFsdWUgPT4ge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50aW1lbGluZVJlc3VsdExpbWl0ID0gdmFsdWVcblx0XHRcdH0sXG5cdFx0XHRERUZBVUxUX1NFVFRJTkdTLnRpbWVsaW5lUmVzdWx0TGltaXRcblx0XHQpO1xuXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIlNhbmtleVwiKS5zZXRIZWFkaW5nKCk7XG5cblx0XHR0aGlzLmFkZE1lcm1haWRGcm9udG1hdHRlckNvbmZpZ1NldHRpbmcoXG5cdFx0XHRjb250YWluZXJFbCxcblx0XHRcdFwiTWVybWFpZCBjb25maWdcIixcblx0XHRcdFwiVGhlIGRlZmF1bHQgZnJvbnRtYXR0ZXIgY29uZmlndXJhdGlvbiBmb3IgZXZlcnkgc2Fua2V5IHZpZXcuXCIsXG5cdFx0XHQoKSA9PiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYW5rZXlNZXJtYWlkQ29uZmlnLFxuXHRcdFx0dmFsdWUgPT4ge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYW5rZXlNZXJtYWlkQ29uZmlnID0gdmFsdWVcblx0XHRcdH0sXG5cdFx0XHRERUZBVUxUX1NFVFRJTkdTLnNhbmtleU1lcm1haWRDb25maWdcblx0XHQpO1xuXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIlBpZSBjaGFydFwiKS5zZXRIZWFkaW5nKCk7XG5cblx0XHR0aGlzLmFkZE1lcm1haWRGcm9udG1hdHRlckNvbmZpZ1NldHRpbmcoXG5cdFx0XHRjb250YWluZXJFbCxcblx0XHRcdFwiTWVybWFpZCBjb25maWdcIixcblx0XHRcdFwiVGhlIGRlZmF1bHQgZnJvbnRtYXR0ZXIgY29uZmlndXJhdGlvbiBmb3IgZXZlcnkgcGllIGNoYXJ0IHZpZXcuXCIsXG5cdFx0XHQoKSA9PiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5waWVDaGFydE1lcm1haWRDb25maWcsXG5cdFx0XHR2YWx1ZSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnBpZUNoYXJ0TWVybWFpZENvbmZpZyA9IHZhbHVlXG5cdFx0XHR9LFxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUy5waWVDaGFydE1lcm1haWRDb25maWdcblx0XHQpO1xuXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIlhZIGNoYXJ0XCIpLnNldEhlYWRpbmcoKTtcblxuXHRcdHRoaXMuYWRkTWVybWFpZEZyb250bWF0dGVyQ29uZmlnU2V0dGluZyhcblx0XHRcdGNvbnRhaW5lckVsLFxuXHRcdFx0XCJNZXJtYWlkIGNvbmZpZ1wiLFxuXHRcdFx0XCJUaGUgZGVmYXVsdCBmcm9udG1hdHRlciBjb25maWd1cmF0aW9uIGZvciBldmVyeSBYWSBjaGFydCB2aWV3LlwiLFxuXHRcdFx0KCkgPT4gdGhpcy5wbHVnaW4uc2V0dGluZ3MuWFlDaGFydE1lcm1haWRDb25maWcsXG5cdFx0XHR2YWx1ZSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLlhZQ2hhcnRNZXJtYWlkQ29uZmlnID0gdmFsdWVcblx0XHRcdH0sXG5cdFx0XHRERUZBVUxUX1NFVFRJTkdTLlhZQ2hhcnRNZXJtYWlkQ29uZmlnXG5cdFx0KTtcblxuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJRdWFkcmFudCBjaGFydFwiKS5zZXRIZWFkaW5nKCk7XG5cblx0XHR0aGlzLmFkZE1lcm1haWRGcm9udG1hdHRlckNvbmZpZ1NldHRpbmcoXG5cdFx0XHRjb250YWluZXJFbCxcblx0XHRcdFwiTWVybWFpZCBjb25maWdcIixcblx0XHRcdFwiVGhlIGRlZmF1bHQgZnJvbnRtYXR0ZXIgY29uZmlndXJhdGlvbiBmb3IgZXZlcnkgcXVhZHJhbnQgY2hhcnQgdmlldy5cIixcblx0XHRcdCgpID0+IHRoaXMucGx1Z2luLnNldHRpbmdzLnF1YWRyYW50Q2hhcnRNZXJtYWlkQ29uZmlnLFxuXHRcdFx0dmFsdWUgPT4ge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5xdWFkcmFudENoYXJ0TWVybWFpZENvbmZpZyA9IHZhbHVlXG5cdFx0XHR9LFxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUy5xdWFkcmFudENoYXJ0TWVybWFpZENvbmZpZ1xuXHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIGFkZE1lcm1haWRGcm9udG1hdHRlckNvbmZpZ1NldHRpbmcoXG5cdFx0Y29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxuXHRcdG5hbWU6IHN0cmluZyxcblx0XHRkZXNjcmlwdGlvbjogc3RyaW5nLFxuXHRcdGdldENvbmZpZ1ZhbHVlOiAoKSA9PiBzdHJpbmcsXG5cdFx0c2V0Q29uZmlnVmFsdWU6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcblx0XHRjb25maWdEZWZhdWx0VmFsdWU6IHN0cmluZ1xuXHQpIHtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKG5hbWUpXG5cdFx0XHQuc2V0RGVzYyhkZXNjcmlwdGlvbilcblx0XHRcdC5hZGRUZXh0QXJlYSh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKGBjb25maWc6XFxuICB0aGVtZTogJ2ZvcmVzdCdgKVxuXHRcdFx0XHQuc2V0VmFsdWUoZ2V0Q29uZmlnVmFsdWUoKSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGF3YWl0IHNldENvbmZpZ1ZhbHVlKHZhbHVlKTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSlcblx0XHRcdClcblx0XHRcdC5hZGRFeHRyYUJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG5cdFx0XHRcdC5zZXRJY29uKFwicmVzZXRcIilcblx0XHRcdFx0LnNldFRvb2x0aXAoXCJSZXNldCB0byBkZWZhdWx0XCIpXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRhd2FpdCBzZXRDb25maWdWYWx1ZShjb25maWdEZWZhdWx0VmFsdWUpO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgYWRkRW50cnlMaW1pdENvbmZpZ1NldHRpbmcoXG5cdFx0Y29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxuXHRcdG5hbWU6IHN0cmluZyxcblx0XHRkZXNjcmlwdGlvbjogc3RyaW5nLFxuXHRcdGdldENvbmZpZ1ZhbHVlOiAoKSA9PiBudW1iZXIsXG5cdFx0c2V0Q29uZmlnVmFsdWU6ICh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcblx0XHRjb25maWdEZWZhdWx0VmFsdWU6IG51bWJlclxuXHQpIHtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKG5hbWUpXG5cdFx0XHQuc2V0RGVzYyhkZXNjcmlwdGlvbilcblx0XHRcdC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxuXHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxuXHRcdFx0XHQuc2V0TGltaXRzKDUwLCAxMDAwLCA1MClcblx0XHRcdFx0LnNldFZhbHVlKGdldENvbmZpZ1ZhbHVlKCkpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRhd2FpdCBzZXRDb25maWdWYWx1ZSh2YWx1ZSk7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pXG5cdFx0XHQpXG5cdFx0XHQuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbikgPT4gYnV0dG9uXG5cdFx0XHRcdC5zZXRJY29uKFwicmVzZXRcIilcblx0XHRcdFx0LnNldFRvb2x0aXAoXCJSZXNldCB0byBkZWZhdWx0XCIpXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRhd2FpdCBzZXRDb25maWdWYWx1ZShjb25maWdEZWZhdWx0VmFsdWUpO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgYWRkR3JvdXBpbmdDb2xvclNldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCkge1xuXHRcdGNvbnN0IHNlY3Rpb24gPSBjb250YWluZXJFbC5jcmVhdGVEaXYoKTtcblxuXHRcdGNvbnN0IGhlYWRlciA9IG5ldyBTZXR0aW5nKHNlY3Rpb24pXG5cdFx0XHQuc2V0TmFtZShcIkdyb3VwaW5nIGNvbG9yIHBhbGV0dGVcIilcblx0XHRcdC5zZXREZXNjKFwiVGhlIGRlZmF1bHQgcGFsZXR0ZSBmb3IgY29sb3JpbmcgZmlsZXMgd2hlbiBncm91cGVkLiBJZiB0aGVyZSBhcmUgbW9yZSBncm91cHMgdGhhbiBjb2xvcnMgaXQgd2lsbCBsb29wIGFyb3VuZCB0byB0aGUgZmlyc3QgY29sb3IuXCIpXG5cdFx0XHQuc2V0SGVhZGluZygpO1xuXG5cdFx0Y29uc3QgYm9keUVsZW1lbnQgPSBzZWN0aW9uLmNyZWF0ZURpdigpO1xuXG5cdFx0aGVhZGVyLmFkZEV4dHJhQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cblx0XHRcdC5zZXRJY29uKFwicmVzZXRcIilcblx0XHRcdC5zZXRUb29sdGlwKFwiUmVzZXQgdG8gZGVmYXVsdFwiKVxuXHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0R3JvdXBpbmdQYWxldHRlID0gWy4uLkRFRkFVTFRfU0VUVElOR1MuZGVmYXVsdEdyb3VwaW5nUGFsZXR0ZV07XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHRcdH0pXG5cdFx0KVxuXHRcdFx0LmFkZEV4dHJhQnV0dG9uKGJ1dHRvbiA9PiB7XG5cdFx0XHRcdGNvbnN0IHNldEljb25Gb3JTdGF0ZSA9ICgpID0+IHtcblx0XHRcdFx0XHRidXR0b24uc2V0SWNvbih0aGlzLnBhbGV0dGVDb2xsYXBzZWQgPyBcImNoZXZyb24tcmlnaHRcIiA6IFwiY2hldnJvbi1kb3duXCIpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRzZXRJY29uRm9yU3RhdGUoKTtcblxuXHRcdFx0XHRidXR0b24uc2V0VG9vbHRpcChcIlNob3cgLyBoaWRlIHNlY3Rpb25cIilcblx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBhbGV0dGVDb2xsYXBzZWQgPSAhdGhpcy5wYWxldHRlQ29sbGFwc2VkO1xuXHRcdFx0XHRcdFx0c2V0SWNvbkZvclN0YXRlKCk7XG5cdFx0XHRcdFx0XHR0aGlzLnVwZGF0ZUdyb3VwaW5nQ29sb3JTZXR0aW5nc0JvZHlWaXNpYmlsaXR5KGJvZHlFbGVtZW50KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0dGhpcy51cGRhdGVHcm91cGluZ0NvbG9yU2V0dGluZ3NCb2R5VmlzaWJpbGl0eShib2R5RWxlbWVudCk7XG5cdFx0dGhpcy5yZW5kZXJHcm91cGluZ0NvbG9yU2V0dGluZ3NMaXN0KGJvZHlFbGVtZW50KTtcblx0fVxuXG5cdHByaXZhdGUgdXBkYXRlR3JvdXBpbmdDb2xvclNldHRpbmdzQm9keVZpc2liaWxpdHkoYm9keUVsOiBIVE1MRWxlbWVudCkge1xuXHRcdGJvZHlFbC5zdHlsZS5kaXNwbGF5ID0gdGhpcy5wYWxldHRlQ29sbGFwc2VkID8gXCJub25lXCIgOiBcIlwiO1xuXHR9XG5cblx0cHJpdmF0ZSByZW5kZXJHcm91cGluZ0NvbG9yU2V0dGluZ3NMaXN0KGJvZHlFbGVtZW50OiBIVE1MRWxlbWVudCkge1xuXHRcdGJvZHlFbGVtZW50LmVtcHR5KCk7XG5cblx0XHRjb25zdCBwYWxldHRlID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdEdyb3VwaW5nUGFsZXR0ZTtcblx0XHRjb25zdCBsaXN0RWxlbWVudCA9IGJvZHlFbGVtZW50LmNyZWF0ZURpdigpO1xuXG5cdFx0cGFsZXR0ZS5mb3JFYWNoKChjb2xvclZhbHVlLCBpbmRleCkgPT4ge1xuXHRcdFx0bmV3IFNldHRpbmcobGlzdEVsZW1lbnQpLnNldE5hbWUoYEdyb3VwICR7aW5kZXggKyAxfWApXG5cdFx0XHRcdC5hZGRDb2xvclBpY2tlcihjb2xvciA9PiBjb2xvclxuXHRcdFx0XHRcdC5zZXRWYWx1ZShjb2xvclZhbHVlKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRHcm91cGluZ1BhbGV0dGVbaW5kZXhdID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHQpXG5cdFx0XHRcdC5hZGRFeHRyYUJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG5cdFx0XHRcdFx0LnNldEljb24oXCJhcnJvdy11cFwiKVxuXHRcdFx0XHRcdC5zZXRUb29sdGlwKFwiTW92ZSB1cFwiKVxuXHRcdFx0XHRcdC5zZXREaXNhYmxlZChpbmRleCA9PT0gMClcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoaW5kZXggPT09IDApXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblxuXHRcdFx0XHRcdFx0Y29uc3QgYXJyID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdEdyb3VwaW5nUGFsZXR0ZTtcblx0XHRcdFx0XHRcdFthcnJbaW5kZXggLSAxXSwgYXJyW2luZGV4XV0gPSBbYXJyW2luZGV4XSwgYXJyW2luZGV4IC0gMV1dO1xuXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdHRoaXMucmVuZGVyR3JvdXBpbmdDb2xvclNldHRpbmdzTGlzdChib2R5RWxlbWVudCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0KVxuXHRcdFx0XHQuYWRkRXh0cmFCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuXHRcdFx0XHRcdC5zZXRJY29uKFwiYXJyb3ctZG93blwiKVxuXHRcdFx0XHRcdC5zZXRUb29sdGlwKFwiTW92ZSBkb3duXCIpXG5cdFx0XHRcdFx0LnNldERpc2FibGVkKGluZGV4ID09PSBwYWxldHRlLmxlbmd0aCAtIDEpXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGluZGV4ID09PSBwYWxldHRlLmxlbmd0aCAtIDEpXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblxuXHRcdFx0XHRcdFx0Y29uc3QgYXJyID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdEdyb3VwaW5nUGFsZXR0ZTtcblx0XHRcdFx0XHRcdFthcnJbaW5kZXggKyAxXSwgYXJyW2luZGV4XV0gPSBbYXJyW2luZGV4XSwgYXJyW2luZGV4ICsgMV1dO1xuXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdHRoaXMucmVuZGVyR3JvdXBpbmdDb2xvclNldHRpbmdzTGlzdChib2R5RWxlbWVudCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0KVxuXHRcdFx0XHQuYWRkRXh0cmFCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuXHRcdFx0XHRcdC5zZXRJY29uKFwidHJhc2hcIilcblx0XHRcdFx0XHQuc2V0VG9vbHRpcChcIlJlbW92ZSBjb2xvclwiKVxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRHcm91cGluZ1BhbGV0dGUuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0dGhpcy5yZW5kZXJHcm91cGluZ0NvbG9yU2V0dGluZ3NMaXN0KGJvZHlFbGVtZW50KTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHQpO1xuXHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcobGlzdEVsZW1lbnQpLmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG5cdFx0XHQuc2V0QnV0dG9uVGV4dChcIkFkZCBjb2xvclwiKVxuXHRcdFx0LnNldFRvb2x0aXAoXCJBZGQgYSBuZXcgY29sb3IgdG8gdGhlIHBhbGV0dGVcIilcblx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdEdyb3VwaW5nUGFsZXR0ZS5wdXNoKFwiI2ZmZmZmZlwiKTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdHRoaXMucmVuZGVyR3JvdXBpbmdDb2xvclNldHRpbmdzTGlzdChib2R5RWxlbWVudCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBcUI7OztBQ0FyQixzQkFNTztBQUlBLElBQWUsc0JBQWYsY0FBMkMsMEJBQVU7QUFBQSxFQU0zRCxZQUFZLFlBQTZCLFVBQXVCLFFBQTBCO0FBQ3pGLFVBQU0sVUFBVTtBQUNoQixTQUFLLFNBQVM7QUFDZCxTQUFLLGNBQWMsU0FBUyxVQUFVLDhCQUE4QjtBQUNwRSxXQUFPLG9CQUFvQixJQUFJO0FBQUEsRUFDaEM7QUFBQSxFQUVPLGdCQUFzQjtBQUM1QixTQUFLLFlBQVksTUFBTTtBQUN2QixTQUFLLEtBQUssT0FBTyxFQUFFLE1BQU0sQ0FB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QSxNQUNGLEVBQ0M7QUFBQSxRQUFlLFlBQVUsT0FDeEIsUUFBUSxPQUFPLEVBQ2YsV0FBVyxjQUFjLEVBQ3pCLFFBQVEsWUFBWTtBQUNwQixlQUFLLE9BQU8sU0FBUyx1QkFBdUIsT0FBTyxPQUFPLENBQUM7QUFDM0QsZ0JBQU0sS0FBSyxPQUFPLGFBQWE7QUFDL0IsZUFBSyxnQ0FBZ0MsV0FBVztBQUFBLFFBQ2pELENBQUM7QUFBQSxNQUNGO0FBQUEsSUFDRixDQUFDO0FBRUQsUUFBSSx5QkFBUSxXQUFXLEVBQUU7QUFBQSxNQUFVLFlBQVUsT0FDM0MsY0FBYyxXQUFXLEVBQ3pCLFdBQVcsZ0NBQWdDLEVBQzNDLFFBQVEsWUFBWTtBQUNwQixhQUFLLE9BQU8sU0FBUyx1QkFBdUIsS0FBSyxTQUFTO0FBQzFELGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFDL0IsYUFBSyxnQ0FBZ0MsV0FBVztBQUFBLE1BQ2pELENBQUM7QUFBQSxJQUNGO0FBQUEsRUFDRDtBQUNEOzs7QWJyVUEsSUFBcUIsbUJBQXJCLGNBQThDLHdCQUFPO0FBQUEsRUFBckQ7QUFBQTtBQUdDLFNBQVEsZUFBZSxvQkFBSSxJQUF5QjtBQUFBO0FBQUEsRUFHcEQsTUFBTSxTQUFTO0FBQ2QsVUFBTSxLQUFLLGFBQWE7QUFDeEIsU0FBSyxjQUFjLElBQUksa0JBQWtCLEtBQUssS0FBSyxJQUFJLENBQUM7QUFFeEQsU0FBSyxnQkFBZ0IsSUFBSSxxQkFBcUIsS0FBSyxHQUFHO0FBQ3RELDRCQUF3QixJQUFJO0FBQUEsRUFDN0I7QUFBQSxFQUVBLFdBQVc7QUFBQSxFQUVYO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsU0FBSyxXQUFXLE9BQU8sT0FBTyxDQUFDLEdBQUcsa0JBQWtCLE1BQU0sS0FBSyxTQUFTLENBQUM7QUFBQSxFQUMxRTtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUVqQyxlQUFXLFFBQVEsS0FBSztBQUN2QixXQUFLLGNBQWM7QUFBQSxFQUNyQjtBQUFBLEVBRUEsb0JBQW9CLE1BQTJCO0FBQzlDLFNBQUssYUFBYSxJQUFJLElBQUk7QUFFMUIsU0FBSyxTQUFTLE1BQU07QUFDbkIsV0FBSyxhQUFhLE9BQU8sSUFBSTtBQUFBLElBQzlCLENBQUM7QUFBQSxFQUNGO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiJdCn0K
